{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineComponent, nextTick, openBlock, createElementBlock } from \"vue\";\n\nvar __classPrivateFieldSet$a = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$9 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _EventDispatcher_listeners;\n\nclass EventDispatcher {\n  constructor() {\n    _EventDispatcher_listeners.set(this, void 0);\n\n    __classPrivateFieldSet$a(this, _EventDispatcher_listeners, /* @__PURE__ */new Map(), \"f\");\n  }\n\n  addEventListener(type, listener) {\n    var _a;\n\n    this.removeEventListener(type, listener);\n\n    if (!__classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").set(type, []);\n    }\n\n    (_a = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) === null || _a === void 0 ? void 0 : _a.push(listener);\n  }\n\n  dispatchEvent(type, args) {\n    var _a;\n\n    (_a = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) === null || _a === void 0 ? void 0 : _a.forEach(handler => handler(args));\n  }\n\n  hasEventListener(type) {\n    return !!__classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type);\n  }\n\n  removeAllEventListeners(type) {\n    if (!type) {\n      __classPrivateFieldSet$a(this, _EventDispatcher_listeners, /* @__PURE__ */new Map(), \"f\");\n    } else {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").delete(type);\n    }\n  }\n\n  removeEventListener(type, listener) {\n    const arr = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type);\n\n    if (!arr) {\n      return;\n    }\n\n    const length = arr.length,\n          idx = arr.indexOf(listener);\n\n    if (idx < 0) {\n      return;\n    }\n\n    if (length === 1) {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").delete(type);\n    } else {\n      arr.splice(idx, 1);\n    }\n  }\n\n}\n\n_EventDispatcher_listeners = /* @__PURE__ */new WeakMap();\n\nclass Vector {\n  constructor(xOrCoords, y) {\n    if (typeof xOrCoords !== \"number\" && xOrCoords) {\n      this.x = xOrCoords.x;\n      this.y = xOrCoords.y;\n    } else if (xOrCoords !== void 0 && y !== void 0) {\n      this.x = xOrCoords;\n      this.y = y;\n    } else {\n      throw new Error(\"tsParticles - Vector not initialized correctly\");\n    }\n  }\n\n  static get origin() {\n    return Vector.create(0, 0);\n  }\n\n  get angle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  set angle(angle) {\n    this.updateFromAngle(angle, this.length);\n  }\n\n  get length() {\n    return Math.sqrt(this.getLengthSq());\n  }\n\n  set length(length) {\n    this.updateFromAngle(this.angle, length);\n  }\n\n  static clone(source) {\n    return Vector.create(source.x, source.y);\n  }\n\n  static create(x, y) {\n    return new Vector(x, y);\n  }\n\n  add(v) {\n    return Vector.create(this.x + v.x, this.y + v.y);\n  }\n\n  addTo(v) {\n    this.x += v.x;\n    this.y += v.y;\n  }\n\n  copy() {\n    return Vector.clone(this);\n  }\n\n  distanceTo(v) {\n    return this.sub(v).length;\n  }\n\n  distanceToSq(v) {\n    return this.sub(v).getLengthSq();\n  }\n\n  div(n) {\n    return Vector.create(this.x / n, this.y / n);\n  }\n\n  divTo(n) {\n    this.x /= n;\n    this.y /= n;\n  }\n\n  getLengthSq() {\n    return this.x ** 2 + this.y ** 2;\n  }\n\n  manhattanDistanceTo(v) {\n    return Math.abs(v.x - this.x) + Math.abs(v.y - this.y);\n  }\n\n  mult(n) {\n    return Vector.create(this.x * n, this.y * n);\n  }\n\n  multTo(n) {\n    this.x *= n;\n    this.y *= n;\n  }\n\n  rotate(angle) {\n    return Vector.create(this.x * Math.cos(angle) - this.y * Math.sin(angle), this.x * Math.sin(angle) + this.y * Math.cos(angle));\n  }\n\n  setTo(v) {\n    this.x = v.x;\n    this.y = v.y;\n  }\n\n  sub(v) {\n    return Vector.create(this.x - v.x, this.y - v.y);\n  }\n\n  subFrom(v) {\n    this.x -= v.x;\n    this.y -= v.y;\n  }\n\n  updateFromAngle(angle, length) {\n    this.x = Math.cos(angle) * length;\n    this.y = Math.sin(angle) * length;\n  }\n\n}\n\nfunction clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\n\nfunction randomInRange(r) {\n  const max = getRangeMax(r);\n  let min = getRangeMin(r);\n\n  if (max === min) {\n    min = 0;\n  }\n\n  return Math.random() * (max - min) + min;\n}\n\nfunction getRangeValue(value) {\n  return typeof value === \"number\" ? value : randomInRange(value);\n}\n\nfunction getRangeMin(value) {\n  return typeof value === \"number\" ? value : value.min;\n}\n\nfunction getRangeMax(value) {\n  return typeof value === \"number\" ? value : value.max;\n}\n\nfunction setRangeValue(source, value) {\n  if (source === value || value === void 0 && typeof source === \"number\") {\n    return source;\n  }\n\n  const min = getRangeMin(source),\n        max = getRangeMax(source);\n  return value !== void 0 ? {\n    min: Math.min(min, value),\n    max: Math.max(max, value)\n  } : setRangeValue(min, max);\n}\n\nfunction getValue(options) {\n  const random = options.random,\n        {\n    enable,\n    minimumValue\n  } = typeof random === \"boolean\" ? {\n    enable: random,\n    minimumValue: 0\n  } : random;\n  return enable ? getRangeValue(setRangeValue(options.value, minimumValue)) : getRangeValue(options.value);\n}\n\nfunction getDistances(pointA, pointB) {\n  const dx = pointA.x - pointB.x,\n        dy = pointA.y - pointB.y;\n  return {\n    dx,\n    dy,\n    distance: Math.sqrt(dx * dx + dy * dy)\n  };\n}\n\nfunction getDistance(pointA, pointB) {\n  return getDistances(pointA, pointB).distance;\n}\n\nfunction getParticleDirectionAngle(direction, position, center) {\n  if (typeof direction === \"number\") {\n    return direction * Math.PI / 180;\n  } else {\n    switch (direction) {\n      case \"top\":\n        return -Math.PI / 2;\n\n      case \"top-right\":\n        return -Math.PI / 4;\n\n      case \"right\":\n        return 0;\n\n      case \"bottom-right\":\n        return Math.PI / 4;\n\n      case \"bottom\":\n        return Math.PI / 2;\n\n      case \"bottom-left\":\n        return 3 * Math.PI / 4;\n\n      case \"left\":\n        return Math.PI;\n\n      case \"top-left\":\n        return -3 * Math.PI / 4;\n\n      case \"inside\":\n        return Math.atan2(center.y - position.y, center.x - position.x);\n\n      case \"outside\":\n        return Math.atan2(position.y - center.y, position.x - center.x);\n\n      case \"none\":\n      default:\n        return Math.random() * Math.PI * 2;\n    }\n  }\n}\n\nfunction getParticleBaseVelocity(direction) {\n  const baseVelocity = Vector.origin;\n  baseVelocity.length = 1;\n  baseVelocity.angle = direction;\n  return baseVelocity;\n}\n\nfunction calcPositionFromSize(data) {\n  var _a, _b;\n\n  return ((_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== void 0 && ((_b = data.position) === null || _b === void 0 ? void 0 : _b.y) !== void 0 ? {\n    x: data.position.x * data.size.width / 100,\n    y: data.position.y * data.size.height / 100\n  } : void 0;\n}\n\nfunction calcExactPositionOrRandomFromSize(data) {\n  var _a, _b, _c, _d;\n\n  return {\n    x: (_b = (_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : Math.random() * data.size.width,\n    y: (_d = (_c = data.position) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : Math.random() * data.size.height\n  };\n}\n\nfunction isSsr() {\n  return typeof window === \"undefined\" || !window || typeof window.document === \"undefined\" || !window.document;\n}\n\nfunction animate() {\n  return isSsr() ? callback => setTimeout(callback) : callback => (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || window.setTimeout)(callback);\n}\n\nfunction cancelAnimation() {\n  return isSsr() ? handle => clearTimeout(handle) : handle => (window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.clearTimeout)(handle);\n}\n\nfunction isInArray(value, array) {\n  return value === array || array instanceof Array && array.indexOf(value) > -1;\n}\n\nfunction arrayRandomIndex(array) {\n  return Math.floor(Math.random() * array.length);\n}\n\nfunction itemFromArray(array, index, useIndex = true) {\n  const fixedIndex = index !== void 0 && useIndex ? index % array.length : arrayRandomIndex(array);\n  return array[fixedIndex];\n}\n\nfunction deepExtend(destination, ...sources) {\n  for (const source of sources) {\n    if (source === void 0 || source === null) {\n      continue;\n    }\n\n    if (typeof source !== \"object\") {\n      destination = source;\n      continue;\n    }\n\n    const sourceIsArray = Array.isArray(source);\n\n    if (sourceIsArray && (typeof destination !== \"object\" || !destination || !Array.isArray(destination))) {\n      destination = [];\n    } else if (!sourceIsArray && (typeof destination !== \"object\" || !destination || Array.isArray(destination))) {\n      destination = {};\n    }\n\n    for (const key in source) {\n      if (key === \"__proto__\") {\n        continue;\n      }\n\n      const sourceDict = source,\n            value = sourceDict[key],\n            isObject = typeof value === \"object\",\n            destDict = destination;\n      destDict[key] = isObject && Array.isArray(value) ? value.map(v => deepExtend(destDict[key], v)) : deepExtend(destDict[key], value);\n    }\n  }\n\n  return destination;\n}\n\nconst generatedAttribute = \"generated\";\nconst randomColorValue = \"random\";\nconst touchEndEvent = \"touchend\";\nconst mouseDownEvent = \"mousedown\";\nconst mouseUpEvent = \"mouseup\";\nconst mouseMoveEvent = \"mousemove\";\nconst touchStartEvent = \"touchstart\";\nconst touchMoveEvent = \"touchmove\";\nconst mouseLeaveEvent = \"mouseleave\";\nconst mouseOutEvent = \"mouseout\";\nconst touchCancelEvent = \"touchcancel\";\nconst resizeEvent = \"resize\";\nconst visibilityChangeEvent = \"visibilitychange\";\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n\n  if (t > 1) {\n    t -= 1;\n  }\n\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n\n  if (t < 1 / 2) {\n    return q;\n  }\n\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n\n  return p;\n}\n\nfunction stringToRgba(input) {\n  if (input.startsWith(\"rgb\")) {\n    const regex = /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([\\d.]+)\\s*)?\\)/i,\n          result = regex.exec(input);\n    return result ? {\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      b: parseInt(result[3], 10),\n      g: parseInt(result[2], 10),\n      r: parseInt(result[1], 10)\n    } : void 0;\n  } else if (input.startsWith(\"hsl\")) {\n    const regex = /hsla?\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i,\n          result = regex.exec(input);\n    return result ? hslaToRgba({\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      h: parseInt(result[1], 10),\n      l: parseInt(result[3], 10),\n      s: parseInt(result[2], 10)\n    }) : void 0;\n  } else if (input.startsWith(\"hsv\")) {\n    const regex = /hsva?\\(\\s*(\\d+)°\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i,\n          result = regex.exec(input);\n    return result ? hsvaToRgba({\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      h: parseInt(result[1], 10),\n      s: parseInt(result[2], 10),\n      v: parseInt(result[3], 10)\n    }) : void 0;\n  } else {\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i,\n          hexFixed = input.replace(shorthandRegex, (_, r, g, b, a) => {\n      return r + r + g + g + b + b + (a !== void 0 ? a + a : \"\");\n    }),\n          regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i,\n          result = regex.exec(hexFixed);\n    return result ? {\n      a: result[4] !== void 0 ? parseInt(result[4], 16) / 255 : 1,\n      b: parseInt(result[3], 16),\n      g: parseInt(result[2], 16),\n      r: parseInt(result[1], 16)\n    } : void 0;\n  }\n}\n\nfunction rangeColorToRgb(input, index, useIndex = true) {\n  var _a, _b, _c;\n\n  if (input === void 0) {\n    return void 0;\n  }\n\n  const color = typeof input === \"string\" ? {\n    value: input\n  } : input;\n\n  if (typeof color.value === \"string\") {\n    return colorToRgb(color.value, index, useIndex);\n  }\n\n  if (color.value instanceof Array) {\n    return rangeColorToRgb({\n      value: itemFromArray(color.value, index, useIndex)\n    });\n  }\n\n  const colorValue = color.value,\n        rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n\n  if (rgbColor.r !== void 0) {\n    return {\n      r: getRangeValue(rgbColor.r),\n      g: getRangeValue(rgbColor.g),\n      b: getRangeValue(rgbColor.b)\n    };\n  }\n\n  const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;\n\n  if (hslColor.h !== void 0 && hslColor.l !== void 0) {\n    return hslToRgb({\n      h: getRangeValue(hslColor.h),\n      l: getRangeValue(hslColor.l),\n      s: getRangeValue(hslColor.s)\n    });\n  }\n\n  const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;\n\n  if (hsvColor.h !== void 0 && hsvColor.v !== void 0) {\n    const res = hsvToRgb({\n      h: getRangeValue(hsvColor.h),\n      s: getRangeValue(hsvColor.s),\n      v: getRangeValue(hsvColor.v)\n    });\n    return res;\n  }\n\n  return void 0;\n}\n\nfunction colorToRgb(input, index, useIndex = true) {\n  var _a, _b, _c;\n\n  if (input === void 0) {\n    return;\n  }\n\n  const color = typeof input === \"string\" ? {\n    value: input\n  } : input;\n\n  if (typeof color.value === \"string\") {\n    return color.value === randomColorValue ? getRandomRgbColor() : stringToRgb(color.value);\n  }\n\n  if (color.value instanceof Array) {\n    return colorToRgb({\n      value: itemFromArray(color.value, index, useIndex)\n    });\n  }\n\n  const colorValue = color.value,\n        rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n\n  if (rgbColor.r !== void 0) {\n    return rgbColor;\n  }\n\n  const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;\n\n  if (hslColor.h !== void 0 && hslColor.l !== void 0) {\n    return hslToRgb(hslColor);\n  }\n\n  const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;\n\n  if (hsvColor.h !== void 0 && hsvColor.v !== void 0) {\n    return hsvToRgb(hsvColor);\n  }\n\n  return void 0;\n}\n\nfunction rangeColorToHsl(color, index, useIndex = true) {\n  const rgb = rangeColorToRgb(color, index, useIndex);\n  return rgb !== void 0 ? rgbToHsl(rgb) : void 0;\n}\n\nfunction rgbToHsl(color) {\n  const r1 = color.r / 255,\n        g1 = color.g / 255,\n        b1 = color.b / 255,\n        max = Math.max(r1, g1, b1),\n        min = Math.min(r1, g1, b1),\n        res = {\n    h: 0,\n    l: (max + min) / 2,\n    s: 0\n  };\n\n  if (max !== min) {\n    res.s = res.l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    res.h = r1 === max ? (g1 - b1) / (max - min) : res.h = g1 === max ? 2 + (b1 - r1) / (max - min) : 4 + (r1 - g1) / (max - min);\n  }\n\n  res.l *= 100;\n  res.s *= 100;\n  res.h *= 60;\n\n  if (res.h < 0) {\n    res.h += 360;\n  }\n\n  if (res.h >= 360) {\n    res.h -= 360;\n  }\n\n  return res;\n}\n\nfunction stringToRgb(input) {\n  return stringToRgba(input);\n}\n\nfunction hslToRgb(hsl) {\n  const result = {\n    b: 0,\n    g: 0,\n    r: 0\n  },\n        hslPercent = {\n    h: hsl.h / 360,\n    l: hsl.l / 100,\n    s: hsl.s / 100\n  };\n\n  if (!hslPercent.s) {\n    result.b = hslPercent.l;\n    result.g = hslPercent.l;\n    result.r = hslPercent.l;\n  } else {\n    const q = hslPercent.l < 0.5 ? hslPercent.l * (1 + hslPercent.s) : hslPercent.l + hslPercent.s - hslPercent.l * hslPercent.s,\n          p = 2 * hslPercent.l - q;\n    result.r = hue2rgb(p, q, hslPercent.h + 1 / 3);\n    result.g = hue2rgb(p, q, hslPercent.h);\n    result.b = hue2rgb(p, q, hslPercent.h - 1 / 3);\n  }\n\n  result.r = Math.floor(result.r * 255);\n  result.g = Math.floor(result.g * 255);\n  result.b = Math.floor(result.b * 255);\n  return result;\n}\n\nfunction hslaToRgba(hsla) {\n  const rgbResult = hslToRgb(hsla);\n  return {\n    a: hsla.a,\n    b: rgbResult.b,\n    g: rgbResult.g,\n    r: rgbResult.r\n  };\n}\n\nfunction hsvToRgb(hsv) {\n  const result = {\n    b: 0,\n    g: 0,\n    r: 0\n  },\n        hsvPercent = {\n    h: hsv.h / 60,\n    s: hsv.s / 100,\n    v: hsv.v / 100\n  },\n        c = hsvPercent.v * hsvPercent.s,\n        x = c * (1 - Math.abs(hsvPercent.h % 2 - 1));\n  let tempRgb;\n\n  if (hsvPercent.h >= 0 && hsvPercent.h <= 1) {\n    tempRgb = {\n      r: c,\n      g: x,\n      b: 0\n    };\n  } else if (hsvPercent.h > 1 && hsvPercent.h <= 2) {\n    tempRgb = {\n      r: x,\n      g: c,\n      b: 0\n    };\n  } else if (hsvPercent.h > 2 && hsvPercent.h <= 3) {\n    tempRgb = {\n      r: 0,\n      g: c,\n      b: x\n    };\n  } else if (hsvPercent.h > 3 && hsvPercent.h <= 4) {\n    tempRgb = {\n      r: 0,\n      g: x,\n      b: c\n    };\n  } else if (hsvPercent.h > 4 && hsvPercent.h <= 5) {\n    tempRgb = {\n      r: x,\n      g: 0,\n      b: c\n    };\n  } else if (hsvPercent.h > 5 && hsvPercent.h <= 6) {\n    tempRgb = {\n      r: c,\n      g: 0,\n      b: x\n    };\n  }\n\n  if (tempRgb) {\n    const m = hsvPercent.v - c;\n    result.r = Math.floor((tempRgb.r + m) * 255);\n    result.g = Math.floor((tempRgb.g + m) * 255);\n    result.b = Math.floor((tempRgb.b + m) * 255);\n  }\n\n  return result;\n}\n\nfunction hsvaToRgba(hsva) {\n  return Object.assign({\n    a: hsva.a\n  }, hsvToRgb(hsva));\n}\n\nfunction getRandomRgbColor(min) {\n  const fixedMin = min !== null && min !== void 0 ? min : 0;\n  return {\n    b: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n    g: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n    r: Math.floor(randomInRange(setRangeValue(fixedMin, 256)))\n  };\n}\n\nfunction getStyleFromRgb(color, opacity) {\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\n\nfunction getStyleFromHsl(color, opacity) {\n  return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\n\nfunction getHslFromAnimation(animation) {\n  return animation !== void 0 ? {\n    h: animation.h.value,\n    s: animation.s.value,\n    l: animation.l.value\n  } : void 0;\n}\n\nfunction paintBase(context, dimension, baseColor) {\n  context.save();\n  context.fillStyle = baseColor !== null && baseColor !== void 0 ? baseColor : \"rgba(0,0,0,0)\";\n  context.fillRect(0, 0, dimension.width, dimension.height);\n  context.restore();\n}\n\nfunction clear(context, dimension) {\n  context.clearRect(0, 0, dimension.width, dimension.height);\n}\n\nfunction drawParticle(container2, context, particle, delta, colorStyles, backgroundMask, composite, radius, opacity, shadow, transform) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n\n  const pos = particle.getPosition();\n  context.save();\n\n  if (transform.a !== void 0 || transform.b !== void 0 || transform.c !== void 0 || transform.d !== void 0) {\n    context.setTransform((_a = transform.a) !== null && _a !== void 0 ? _a : 1, (_b = transform.b) !== null && _b !== void 0 ? _b : 0, (_c = transform.c) !== null && _c !== void 0 ? _c : 0, (_d = transform.d) !== null && _d !== void 0 ? _d : 1, pos.x, pos.y);\n  } else {\n    context.translate(pos.x, pos.y);\n  }\n\n  context.beginPath();\n  const angle = ((_f = (_e = particle.rotate) === null || _e === void 0 ? void 0 : _e.value) !== null && _f !== void 0 ? _f : 0) + (particle.options.rotate.path ? particle.velocity.angle : 0);\n\n  if (angle !== 0) {\n    context.rotate(angle);\n  }\n\n  if (backgroundMask) {\n    context.globalCompositeOperation = composite;\n  }\n\n  const shadowColor = particle.shadowColor;\n\n  if (shadow.enable && shadowColor) {\n    context.shadowBlur = shadow.blur;\n    context.shadowColor = getStyleFromRgb(shadowColor);\n    context.shadowOffsetX = shadow.offset.x;\n    context.shadowOffsetY = shadow.offset.y;\n  }\n\n  if (colorStyles.fill) {\n    context.fillStyle = colorStyles.fill;\n  }\n\n  const stroke = particle.stroke;\n  context.lineWidth = (_g = particle.strokeWidth) !== null && _g !== void 0 ? _g : 0;\n\n  if (colorStyles.stroke) {\n    context.strokeStyle = colorStyles.stroke;\n  }\n\n  drawShape(container2, context, particle, radius, opacity, delta);\n\n  if (((_h = stroke === null || stroke === void 0 ? void 0 : stroke.width) !== null && _h !== void 0 ? _h : 0) > 0) {\n    context.stroke();\n  }\n\n  if (particle.close) {\n    context.closePath();\n  }\n\n  if (particle.fill) {\n    context.fill();\n  }\n\n  context.restore();\n  context.save();\n\n  if (transform.a !== void 0 || transform.b !== void 0 || transform.c !== void 0 || transform.d !== void 0) {\n    context.setTransform((_j = transform.a) !== null && _j !== void 0 ? _j : 1, (_k = transform.b) !== null && _k !== void 0 ? _k : 0, (_l = transform.c) !== null && _l !== void 0 ? _l : 0, (_m = transform.d) !== null && _m !== void 0 ? _m : 1, pos.x, pos.y);\n  } else {\n    context.translate(pos.x, pos.y);\n  }\n\n  if (angle !== 0) {\n    context.rotate(angle);\n  }\n\n  if (backgroundMask) {\n    context.globalCompositeOperation = composite;\n  }\n\n  drawShapeAfterEffect(container2, context, particle, radius, opacity, delta);\n  context.restore();\n}\n\nfunction drawShape(container2, context, particle, radius, opacity, delta) {\n  if (!particle.shape) {\n    return;\n  }\n\n  const drawer = container2.drawers.get(particle.shape);\n\n  if (!drawer) {\n    return;\n  }\n\n  drawer.draw(context, particle, radius, opacity, delta, container2.retina.pixelRatio);\n}\n\nfunction drawShapeAfterEffect(container2, context, particle, radius, opacity, delta) {\n  if (!particle.shape) {\n    return;\n  }\n\n  const drawer = container2.drawers.get(particle.shape);\n\n  if (!(drawer === null || drawer === void 0 ? void 0 : drawer.afterEffect)) {\n    return;\n  }\n\n  drawer.afterEffect(context, particle, radius, opacity, delta, container2.retina.pixelRatio);\n}\n\nfunction drawPlugin(context, plugin, delta) {\n  if (!plugin.draw) {\n    return;\n  }\n\n  context.save();\n  plugin.draw(context, delta);\n  context.restore();\n}\n\nfunction drawParticlePlugin(context, plugin, particle, delta) {\n  if (!plugin.drawParticle) {\n    return;\n  }\n\n  context.save();\n  plugin.drawParticle(context, particle, delta);\n  context.restore();\n}\n\nfunction alterHsl(color, type, value) {\n  return {\n    h: color.h,\n    s: color.s,\n    l: color.l + (type === \"darken\" ? -1 : 1) * value\n  };\n}\n\nvar __classPrivateFieldSet$9 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$8 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Canvas_context;\n\nfunction setTransformValue(factor, newFactor, key) {\n  var _a;\n\n  const newValue = newFactor[key];\n\n  if (newValue !== void 0) {\n    factor[key] = ((_a = factor[key]) !== null && _a !== void 0 ? _a : 1) * newValue;\n  }\n}\n\nclass Canvas {\n  constructor(container2) {\n    this.container = container2;\n\n    _Canvas_context.set(this, void 0);\n\n    this.size = {\n      height: 0,\n      width: 0\n    };\n\n    __classPrivateFieldSet$9(this, _Canvas_context, null, \"f\");\n\n    this.generatedCanvas = false;\n  }\n\n  clear() {\n    const options = this.container.actualOptions,\n          trail = options.particles.move.trail;\n\n    if (options.backgroundMask.enable) {\n      this.paint();\n    } else if (trail.enable && trail.length > 0 && this.trailFillColor) {\n      this.paintBase(getStyleFromRgb(this.trailFillColor, 1 / trail.length));\n    } else {\n      this.draw(ctx => {\n        clear(ctx, this.size);\n      });\n    }\n  }\n\n  destroy() {\n    var _a;\n\n    if (this.generatedCanvas) {\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n    } else {\n      this.resetOriginalStyle();\n    }\n\n    this.draw(ctx => {\n      clear(ctx, this.size);\n    });\n  }\n\n  draw(cb) {\n    if (!__classPrivateFieldGet$8(this, _Canvas_context, \"f\")) {\n      return;\n    }\n\n    return cb(__classPrivateFieldGet$8(this, _Canvas_context, \"f\"));\n  }\n\n  drawParticle(particle, delta) {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (particle.spawning || particle.destroyed) {\n      return;\n    }\n\n    const radius = particle.getRadius();\n\n    if (radius <= 0) {\n      return;\n    }\n\n    const pfColor = particle.getFillColor(),\n          psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;\n\n    if (!pfColor && !psColor) {\n      return;\n    }\n\n    let [fColor, sColor] = this.getPluginParticleColors(particle);\n\n    if (!fColor || !sColor) {\n      if (!fColor) {\n        fColor = pfColor ? pfColor : void 0;\n      }\n\n      if (!sColor) {\n        sColor = psColor ? psColor : void 0;\n      }\n    }\n\n    const options = this.container.actualOptions,\n          zIndexOptions = particle.options.zIndex,\n          zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate,\n          opacity = (_d = (_b = particle.bubble.opacity) !== null && _b !== void 0 ? _b : (_c = particle.opacity) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : 1,\n          strokeOpacity = (_f = (_e = particle.stroke) === null || _e === void 0 ? void 0 : _e.opacity) !== null && _f !== void 0 ? _f : opacity,\n          zOpacity = opacity * zOpacityFactor,\n          zStrokeOpacity = strokeOpacity * zOpacityFactor;\n    const colorStyles = {\n      fill: fColor ? getStyleFromHsl(fColor, zOpacity) : void 0\n    };\n    colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n    this.draw(ctx => {\n      const transform = {};\n      const zSizeFactor = (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate,\n            container2 = this.container;\n\n      for (const updater of container2.particles.updaters) {\n        if (updater.beforeDraw) {\n          updater.beforeDraw(particle);\n        }\n\n        if (updater.getColorStyles) {\n          const {\n            fill,\n            stroke\n          } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n\n          if (fill) {\n            colorStyles.fill = fill;\n          }\n\n          if (stroke) {\n            colorStyles.stroke = stroke;\n          }\n        }\n\n        if (updater.getTransformValues) {\n          const updaterTransform = updater.getTransformValues(particle);\n\n          for (const key in updaterTransform) {\n            setTransformValue(transform, updaterTransform, key);\n          }\n        }\n      }\n\n      drawParticle(container2, ctx, particle, delta, colorStyles, options.backgroundMask.enable, options.backgroundMask.composite, radius * zSizeFactor, zOpacity, particle.options.shadow, transform);\n\n      for (const updater of container2.particles.updaters) {\n        if (updater.afterDraw) {\n          updater.afterDraw(particle);\n        }\n      }\n    });\n  }\n\n  drawParticlePlugin(plugin, particle, delta) {\n    this.draw(ctx => {\n      drawParticlePlugin(ctx, plugin, particle, delta);\n    });\n  }\n\n  drawPlugin(plugin, delta) {\n    this.draw(ctx => {\n      drawPlugin(ctx, plugin, delta);\n    });\n  }\n\n  init() {\n    this.resize();\n    this.initStyle();\n    this.initCover();\n    this.initTrail();\n    this.initBackground();\n    this.paint();\n  }\n\n  initBackground() {\n    const options = this.container.actualOptions,\n          background = options.background,\n          element = this.element,\n          elementStyle = element === null || element === void 0 ? void 0 : element.style;\n\n    if (!elementStyle) {\n      return;\n    }\n\n    if (background.color) {\n      const color = rangeColorToRgb(background.color);\n      elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n    } else {\n      elementStyle.backgroundColor = \"\";\n    }\n\n    elementStyle.backgroundImage = background.image || \"\";\n    elementStyle.backgroundPosition = background.position || \"\";\n    elementStyle.backgroundRepeat = background.repeat || \"\";\n    elementStyle.backgroundSize = background.size || \"\";\n  }\n\n  loadCanvas(canvas) {\n    var _a;\n\n    if (this.generatedCanvas) {\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n\n    this.generatedCanvas = canvas.dataset && generatedAttribute in canvas.dataset ? canvas.dataset[generatedAttribute] === \"true\" : this.generatedCanvas;\n    this.element = canvas;\n    this.originalStyle = deepExtend({}, this.element.style);\n    this.size.height = canvas.offsetHeight;\n    this.size.width = canvas.offsetWidth;\n\n    __classPrivateFieldSet$9(this, _Canvas_context, this.element.getContext(\"2d\"), \"f\");\n\n    this.container.retina.init();\n    this.initBackground();\n  }\n\n  paint() {\n    const options = this.container.actualOptions;\n    this.draw(ctx => {\n      if (options.backgroundMask.enable && options.backgroundMask.cover) {\n        clear(ctx, this.size);\n        this.paintBase(this.coverColorStyle);\n      } else {\n        this.paintBase();\n      }\n    });\n  }\n\n  resize() {\n    if (!this.element) {\n      return;\n    }\n\n    const container2 = this.container,\n          pxRatio = container2.retina.pixelRatio,\n          size = container2.canvas.size,\n          newSize = {\n      width: this.element.offsetWidth * pxRatio,\n      height: this.element.offsetHeight * pxRatio\n    };\n\n    if (newSize.height === size.height && newSize.width === size.width && newSize.height === this.element.height && newSize.width === this.element.width) {\n      return;\n    }\n\n    const oldSize = Object.assign({}, size);\n    this.element.width = size.width = this.element.offsetWidth * pxRatio;\n    this.element.height = size.height = this.element.offsetHeight * pxRatio;\n\n    if (this.container.started) {\n      this.resizeFactor = {\n        width: size.width / oldSize.width,\n        height: size.height / oldSize.height\n      };\n    }\n  }\n\n  async windowResize() {\n    if (!this.element) {\n      return;\n    }\n\n    this.resize();\n    const container2 = this.container,\n          needsRefresh = container2.updateActualOptions();\n    container2.particles.setDensity();\n\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.resize !== void 0) {\n        plugin.resize();\n      }\n    }\n\n    if (needsRefresh) {\n      await container2.refresh();\n    }\n  }\n\n  getPluginParticleColors(particle) {\n    let fColor, sColor;\n\n    for (const [, plugin] of this.container.plugins) {\n      if (!fColor && plugin.particleFillColor) {\n        fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n      }\n\n      if (!sColor && plugin.particleStrokeColor) {\n        sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n      }\n\n      if (fColor && sColor) {\n        break;\n      }\n    }\n\n    return [fColor, sColor];\n  }\n\n  initCover() {\n    const options = this.container.actualOptions,\n          cover = options.backgroundMask.cover,\n          color = cover.color,\n          coverRgb = rangeColorToRgb(color);\n\n    if (coverRgb) {\n      const coverColor = {\n        r: coverRgb.r,\n        g: coverRgb.g,\n        b: coverRgb.b,\n        a: cover.opacity\n      };\n      this.coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n    }\n  }\n\n  initStyle() {\n    const element = this.element,\n          options = this.container.actualOptions;\n\n    if (!element) {\n      return;\n    }\n\n    if (options.fullScreen.enable) {\n      this.originalStyle = deepExtend({}, element.style);\n      element.style.setProperty(\"position\", \"fixed\", \"important\");\n      element.style.setProperty(\"z-index\", options.fullScreen.zIndex.toString(10), \"important\");\n      element.style.setProperty(\"top\", \"0\", \"important\");\n      element.style.setProperty(\"left\", \"0\", \"important\");\n      element.style.setProperty(\"width\", \"100%\", \"important\");\n      element.style.setProperty(\"height\", \"100%\", \"important\");\n    } else {\n      this.resetOriginalStyle();\n    }\n\n    for (const key in options.style) {\n      if (!key || !options.style) {\n        continue;\n      }\n\n      const value = options.style[key];\n\n      if (!value) {\n        continue;\n      }\n\n      element.style.setProperty(key, value, \"important\");\n    }\n  }\n\n  initTrail() {\n    const options = this.container.actualOptions,\n          trail = options.particles.move.trail,\n          fillColor = rangeColorToRgb(trail.fillColor);\n\n    if (fillColor) {\n      const trail2 = options.particles.move.trail;\n      this.trailFillColor = {\n        r: fillColor.r,\n        g: fillColor.g,\n        b: fillColor.b,\n        a: 1 / trail2.length\n      };\n    }\n  }\n\n  paintBase(baseColor) {\n    this.draw(ctx => {\n      paintBase(ctx, this.size, baseColor);\n    });\n  }\n\n  resetOriginalStyle() {\n    const element = this.element,\n          originalStyle = this.originalStyle;\n\n    if (element && originalStyle) {\n      element.style.position = originalStyle.position;\n      element.style.zIndex = originalStyle.zIndex;\n      element.style.top = originalStyle.top;\n      element.style.left = originalStyle.left;\n      element.style.width = originalStyle.width;\n      element.style.height = originalStyle.height;\n    }\n  }\n\n}\n\n_Canvas_context = /* @__PURE__ */new WeakMap();\n\nfunction manageListener(element, event, handler, add, options) {\n  if (add) {\n    let addOptions = {\n      passive: true\n    };\n\n    if (typeof options === \"boolean\") {\n      addOptions.capture = options;\n    } else if (options !== void 0) {\n      addOptions = options;\n    }\n\n    element.addEventListener(event, handler, addOptions);\n  } else {\n    const removeOptions = options;\n    element.removeEventListener(event, handler, removeOptions);\n  }\n}\n\nclass EventListeners {\n  constructor(container2) {\n    this.container = container2;\n    this.canPush = true;\n\n    this.mouseMoveHandler = e => this.mouseTouchMove(e);\n\n    this.touchStartHandler = e => this.mouseTouchMove(e);\n\n    this.touchMoveHandler = e => this.mouseTouchMove(e);\n\n    this.touchEndHandler = () => this.mouseTouchFinish();\n\n    this.mouseLeaveHandler = () => this.mouseTouchFinish();\n\n    this.touchCancelHandler = () => this.mouseTouchFinish();\n\n    this.touchEndClickHandler = e => this.mouseTouchClick(e);\n\n    this.mouseUpHandler = e => this.mouseTouchClick(e);\n\n    this.mouseDownHandler = () => this.mouseDown();\n\n    this.visibilityChangeHandler = () => this.handleVisibilityChange();\n\n    this.themeChangeHandler = e => this.handleThemeChange(e);\n\n    this.oldThemeChangeHandler = e => this.handleThemeChange(e);\n\n    this.resizeHandler = () => this.handleWindowResize();\n  }\n\n  addListeners() {\n    this.manageListeners(true);\n  }\n\n  removeListeners() {\n    this.manageListeners(false);\n  }\n\n  doMouseTouchClick(e) {\n    const container2 = this.container,\n          options = container2.actualOptions;\n\n    if (this.canPush) {\n      const mousePos = container2.interactivity.mouse.position;\n\n      if (!mousePos) {\n        return;\n      }\n\n      container2.interactivity.mouse.clickPosition = {\n        x: mousePos.x,\n        y: mousePos.y\n      };\n      container2.interactivity.mouse.clickTime = new Date().getTime();\n      const onClick = options.interactivity.events.onClick;\n\n      if (onClick.mode instanceof Array) {\n        for (const mode of onClick.mode) {\n          this.handleClickMode(mode);\n        }\n      } else {\n        this.handleClickMode(onClick.mode);\n      }\n    }\n\n    if (e.type === \"touchend\") {\n      setTimeout(() => this.mouseTouchFinish(), 500);\n    }\n  }\n\n  handleClickMode(mode) {\n    this.container.handleClickMode(mode);\n  }\n\n  handleThemeChange(e) {\n    const mediaEvent = e,\n          themeName = mediaEvent.matches ? this.container.options.defaultDarkTheme : this.container.options.defaultLightTheme,\n          theme = this.container.options.themes.find(theme2 => theme2.name === themeName);\n\n    if (theme && theme.default.auto) {\n      this.container.loadTheme(themeName);\n    }\n  }\n\n  handleVisibilityChange() {\n    const container2 = this.container,\n          options = container2.actualOptions;\n    this.mouseTouchFinish();\n\n    if (!options.pauseOnBlur) {\n      return;\n    }\n\n    if (document === null || document === void 0 ? void 0 : document.hidden) {\n      container2.pageHidden = true;\n      container2.pause();\n    } else {\n      container2.pageHidden = false;\n\n      if (container2.getAnimationStatus()) {\n        container2.play(true);\n      } else {\n        container2.draw(true);\n      }\n    }\n  }\n\n  handleWindowResize() {\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n      delete this.resizeTimeout;\n    }\n\n    this.resizeTimeout = setTimeout(async () => {\n      var _a;\n\n      return (_a = this.container.canvas) === null || _a === void 0 ? void 0 : _a.windowResize();\n    }, 500);\n  }\n\n  manageListeners(add) {\n    var _a;\n\n    const container2 = this.container,\n          options = container2.actualOptions,\n          detectType = options.interactivity.detectsOn;\n    let mouseLeaveTmpEvent = mouseLeaveEvent;\n\n    if (detectType === \"window\") {\n      container2.interactivity.element = window;\n      mouseLeaveTmpEvent = mouseOutEvent;\n    } else if (detectType === \"parent\" && container2.canvas.element) {\n      const canvasEl = container2.canvas.element;\n      container2.interactivity.element = (_a = canvasEl.parentElement) !== null && _a !== void 0 ? _a : canvasEl.parentNode;\n    } else {\n      container2.interactivity.element = container2.canvas.element;\n    }\n\n    const mediaMatch = !isSsr() && typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\");\n\n    if (mediaMatch) {\n      if (mediaMatch.addEventListener !== void 0) {\n        manageListener(mediaMatch, \"change\", this.themeChangeHandler, add);\n      } else if (mediaMatch.addListener !== void 0) {\n        if (add) {\n          mediaMatch.addListener(this.oldThemeChangeHandler);\n        } else {\n          mediaMatch.removeListener(this.oldThemeChangeHandler);\n        }\n      }\n    }\n\n    const interactivityEl = container2.interactivity.element;\n\n    if (!interactivityEl) {\n      return;\n    }\n\n    const html = interactivityEl;\n\n    if (options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable) {\n      manageListener(interactivityEl, mouseMoveEvent, this.mouseMoveHandler, add);\n      manageListener(interactivityEl, touchStartEvent, this.touchStartHandler, add);\n      manageListener(interactivityEl, touchMoveEvent, this.touchMoveHandler, add);\n\n      if (!options.interactivity.events.onClick.enable) {\n        manageListener(interactivityEl, touchEndEvent, this.touchEndHandler, add);\n      } else {\n        manageListener(interactivityEl, touchEndEvent, this.touchEndClickHandler, add);\n        manageListener(interactivityEl, mouseUpEvent, this.mouseUpHandler, add);\n        manageListener(interactivityEl, mouseDownEvent, this.mouseDownHandler, add);\n      }\n\n      manageListener(interactivityEl, mouseLeaveTmpEvent, this.mouseLeaveHandler, add);\n      manageListener(interactivityEl, touchCancelEvent, this.touchCancelHandler, add);\n    }\n\n    if (container2.canvas.element) {\n      container2.canvas.element.style.pointerEvents = html === container2.canvas.element ? \"initial\" : \"none\";\n    }\n\n    if (options.interactivity.events.resize) {\n      if (typeof ResizeObserver !== \"undefined\") {\n        if (this.resizeObserver && !add) {\n          if (container2.canvas.element) {\n            this.resizeObserver.unobserve(container2.canvas.element);\n          }\n\n          this.resizeObserver.disconnect();\n          delete this.resizeObserver;\n        } else if (!this.resizeObserver && add && container2.canvas.element) {\n          this.resizeObserver = new ResizeObserver(entries => {\n            const entry = entries.find(e => e.target === container2.canvas.element);\n\n            if (!entry) {\n              return;\n            }\n\n            this.handleWindowResize();\n          });\n          this.resizeObserver.observe(container2.canvas.element);\n        }\n      } else {\n        manageListener(window, resizeEvent, this.resizeHandler, add);\n      }\n    }\n\n    if (document) {\n      manageListener(document, visibilityChangeEvent, this.visibilityChangeHandler, add, false);\n    }\n  }\n\n  mouseDown() {\n    const interactivity = this.container.interactivity;\n\n    if (interactivity) {\n      const mouse = interactivity.mouse;\n      mouse.clicking = true;\n      mouse.downPosition = mouse.position;\n    }\n  }\n\n  mouseTouchClick(e) {\n    const container2 = this.container,\n          options = container2.actualOptions,\n          mouse = container2.interactivity.mouse;\n    mouse.inside = true;\n    let handled = false;\n    const mousePosition = mouse.position;\n\n    if (!mousePosition || !options.interactivity.events.onClick.enable) {\n      return;\n    }\n\n    for (const [, plugin] of container2.plugins) {\n      if (!plugin.clickPositionValid) {\n        continue;\n      }\n\n      handled = plugin.clickPositionValid(mousePosition);\n\n      if (handled) {\n        break;\n      }\n    }\n\n    if (!handled) {\n      this.doMouseTouchClick(e);\n    }\n\n    mouse.clicking = false;\n  }\n\n  mouseTouchFinish() {\n    const interactivity = this.container.interactivity;\n\n    if (!interactivity) {\n      return;\n    }\n\n    const mouse = interactivity.mouse;\n    delete mouse.position;\n    delete mouse.clickPosition;\n    delete mouse.downPosition;\n    interactivity.status = mouseLeaveEvent;\n    mouse.inside = false;\n    mouse.clicking = false;\n  }\n\n  mouseTouchMove(e) {\n    var _a, _b, _c, _d, _e, _f, _g;\n\n    const container2 = this.container,\n          options = container2.actualOptions;\n\n    if (!((_a = container2.interactivity) === null || _a === void 0 ? void 0 : _a.element)) {\n      return;\n    }\n\n    container2.interactivity.mouse.inside = true;\n    let pos;\n    const canvas = container2.canvas.element;\n\n    if (e.type.startsWith(\"mouse\")) {\n      this.canPush = true;\n      const mouseEvent = e;\n\n      if (container2.interactivity.element === window) {\n        if (canvas) {\n          const clientRect = canvas.getBoundingClientRect();\n          pos = {\n            x: mouseEvent.clientX - clientRect.left,\n            y: mouseEvent.clientY - clientRect.top\n          };\n        }\n      } else if (options.interactivity.detectsOn === \"parent\") {\n        const source = mouseEvent.target;\n        const target = mouseEvent.currentTarget;\n        const canvasEl = container2.canvas.element;\n\n        if (source && target && canvasEl) {\n          const sourceRect = source.getBoundingClientRect();\n          const targetRect = target.getBoundingClientRect();\n          const canvasRect = canvasEl.getBoundingClientRect();\n          pos = {\n            x: mouseEvent.offsetX + 2 * sourceRect.left - (targetRect.left + canvasRect.left),\n            y: mouseEvent.offsetY + 2 * sourceRect.top - (targetRect.top + canvasRect.top)\n          };\n        } else {\n          pos = {\n            x: (_b = mouseEvent.offsetX) !== null && _b !== void 0 ? _b : mouseEvent.clientX,\n            y: (_c = mouseEvent.offsetY) !== null && _c !== void 0 ? _c : mouseEvent.clientY\n          };\n        }\n      } else {\n        if (mouseEvent.target === container2.canvas.element) {\n          pos = {\n            x: (_d = mouseEvent.offsetX) !== null && _d !== void 0 ? _d : mouseEvent.clientX,\n            y: (_e = mouseEvent.offsetY) !== null && _e !== void 0 ? _e : mouseEvent.clientY\n          };\n        }\n      }\n    } else {\n      this.canPush = e.type !== \"touchmove\";\n      const touchEvent = e;\n      const lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\n      const canvasRect = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();\n      pos = {\n        x: lastTouch.clientX - ((_f = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _f !== void 0 ? _f : 0),\n        y: lastTouch.clientY - ((_g = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _g !== void 0 ? _g : 0)\n      };\n    }\n\n    const pxRatio = container2.retina.pixelRatio;\n\n    if (pos) {\n      pos.x *= pxRatio;\n      pos.y *= pxRatio;\n    }\n\n    container2.interactivity.mouse.position = pos;\n    container2.interactivity.status = mouseMoveEvent;\n  }\n\n}\n\nclass FrameManager {\n  constructor(container2) {\n    this.container = container2;\n  }\n\n  async nextFrame(timestamp) {\n    var _a;\n\n    try {\n      const container2 = this.container;\n\n      if (container2.lastFrameTime !== void 0 && timestamp < container2.lastFrameTime + 1e3 / container2.fpsLimit) {\n        container2.draw(false);\n        return;\n      }\n\n      (_a = container2.lastFrameTime) !== null && _a !== void 0 ? _a : container2.lastFrameTime = timestamp;\n      const deltaValue = timestamp - container2.lastFrameTime,\n            delta = {\n        value: deltaValue,\n        factor: 60 * deltaValue / 1e3\n      };\n      container2.lifeTime += delta.value;\n      container2.lastFrameTime = timestamp;\n\n      if (deltaValue > 1e3) {\n        container2.draw(false);\n        return;\n      }\n\n      await container2.particles.draw(delta);\n\n      if (container2.duration > 0 && container2.lifeTime > container2.duration) {\n        container2.destroy();\n        return;\n      }\n\n      if (container2.getAnimationStatus()) {\n        container2.draw(false);\n      }\n    } catch (e) {\n      console.error(\"tsParticles error in animation loop\", e);\n    }\n  }\n\n}\n\nclass OptionsColor {\n  constructor() {\n    this.value = \"\";\n  }\n\n  static create(source, data) {\n    const color = new OptionsColor();\n    color.load(source);\n\n    if (data !== void 0) {\n      if (typeof data === \"string\" || data instanceof Array) {\n        color.load({\n          value: data\n        });\n      } else {\n        color.load(data);\n      }\n    }\n\n    return color;\n  }\n\n  load(data) {\n    if ((data === null || data === void 0 ? void 0 : data.value) === void 0) {\n      return;\n    }\n\n    this.value = data.value;\n  }\n\n}\n\nclass Background {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"\";\n    this.image = \"\";\n    this.position = \"\";\n    this.repeat = \"\";\n    this.size = \"\";\n    this.opacity = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n\n    if (data.image !== void 0) {\n      this.image = data.image;\n    }\n\n    if (data.position !== void 0) {\n      this.position = data.position;\n    }\n\n    if (data.repeat !== void 0) {\n      this.repeat = data.repeat;\n    }\n\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass BackgroundMaskCover {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"#fff\";\n    this.opacity = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass BackgroundMask {\n  constructor() {\n    this.composite = \"destination-out\";\n    this.cover = new BackgroundMaskCover();\n    this.enable = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.composite !== void 0) {\n      this.composite = data.composite;\n    }\n\n    if (data.cover !== void 0) {\n      const cover = data.cover;\n      const color = typeof data.cover === \"string\" ? {\n        color: data.cover\n      } : data.cover;\n      this.cover.load(cover.color !== void 0 ? cover : {\n        color\n      });\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n  }\n\n}\n\nclass FullScreen {\n  constructor() {\n    this.enable = true;\n    this.zIndex = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.zIndex !== void 0) {\n      this.zIndex = data.zIndex;\n    }\n  }\n\n}\n\nclass ClickEvent {\n  constructor() {\n    this.enable = false;\n    this.mode = [];\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n  }\n\n}\n\nclass DivEvent {\n  constructor() {\n    this.selectors = [];\n    this.enable = false;\n    this.mode = [];\n    this.type = \"circle\";\n  }\n\n  get el() {\n    return this.elementId;\n  }\n\n  set el(value) {\n    this.elementId = value;\n  }\n\n  get elementId() {\n    return this.ids;\n  }\n\n  set elementId(value) {\n    this.ids = value;\n  }\n\n  get ids() {\n    return this.selectors instanceof Array ? this.selectors.map(t => t.replace(\"#\", \"\")) : this.selectors.replace(\"#\", \"\");\n  }\n\n  set ids(value) {\n    this.selectors = value instanceof Array ? value.map(t => `#${t}`) : `#${value}`;\n  }\n\n  load(data) {\n    var _a, _b;\n\n    if (!data) {\n      return;\n    }\n\n    const ids = (_b = (_a = data.ids) !== null && _a !== void 0 ? _a : data.elementId) !== null && _b !== void 0 ? _b : data.el;\n\n    if (ids !== void 0) {\n      this.ids = ids;\n    }\n\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n\n}\n\nclass Parallax {\n  constructor() {\n    this.enable = false;\n    this.force = 2;\n    this.smooth = 10;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.force !== void 0) {\n      this.force = data.force;\n    }\n\n    if (data.smooth !== void 0) {\n      this.smooth = data.smooth;\n    }\n  }\n\n}\n\nclass HoverEvent {\n  constructor() {\n    this.enable = false;\n    this.mode = [];\n    this.parallax = new Parallax();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n\n    this.parallax.load(data.parallax);\n  }\n\n}\n\nclass Events {\n  constructor() {\n    this.onClick = new ClickEvent();\n    this.onDiv = new DivEvent();\n    this.onHover = new HoverEvent();\n    this.resize = true;\n  }\n\n  get onclick() {\n    return this.onClick;\n  }\n\n  set onclick(value) {\n    this.onClick = value;\n  }\n\n  get ondiv() {\n    return this.onDiv;\n  }\n\n  set ondiv(value) {\n    this.onDiv = value;\n  }\n\n  get onhover() {\n    return this.onHover;\n  }\n\n  set onhover(value) {\n    this.onHover = value;\n  }\n\n  load(data) {\n    var _a, _b, _c;\n\n    if (!data) {\n      return;\n    }\n\n    this.onClick.load((_a = data.onClick) !== null && _a !== void 0 ? _a : data.onclick);\n    const onDiv = (_b = data.onDiv) !== null && _b !== void 0 ? _b : data.ondiv;\n\n    if (onDiv !== void 0) {\n      if (onDiv instanceof Array) {\n        this.onDiv = onDiv.map(div => {\n          const tmp = new DivEvent();\n          tmp.load(div);\n          return tmp;\n        });\n      } else {\n        this.onDiv = new DivEvent();\n        this.onDiv.load(onDiv);\n      }\n    }\n\n    this.onHover.load((_c = data.onHover) !== null && _c !== void 0 ? _c : data.onhover);\n\n    if (data.resize !== void 0) {\n      this.resize = data.resize;\n    }\n  }\n\n}\n\nclass Attract {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.easing = \"ease-out-quad\";\n    this.factor = 1;\n    this.maxSpeed = 50;\n    this.speed = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n\n    if (data.easing !== void 0) {\n      this.easing = data.easing;\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = data.maxSpeed;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n  }\n\n}\n\nclass Bounce {\n  constructor() {\n    this.distance = 200;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n  }\n\n}\n\nclass BubbleBase {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.mix = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n\n    if (data.mix !== void 0) {\n      this.mix = data.mix;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n\n    if (data.color !== void 0) {\n      if (data.color instanceof Array) {\n        this.color = data.color.map(s => OptionsColor.create(void 0, s));\n      } else {\n        if (this.color instanceof Array) {\n          this.color = new OptionsColor();\n        }\n\n        this.color = OptionsColor.create(this.color, data.color);\n      }\n    }\n\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n  }\n\n}\n\nclass BubbleDiv extends BubbleBase {\n  constructor() {\n    super();\n    this.selectors = [];\n  }\n\n  get ids() {\n    return this.selectors instanceof Array ? this.selectors.map(t => t.replace(\"#\", \"\")) : this.selectors.replace(\"#\", \"\");\n  }\n\n  set ids(value) {\n    this.selectors = value instanceof Array ? value.map(t => `#${t}`) : `#${value}`;\n  }\n\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.ids !== void 0) {\n      this.ids = data.ids;\n    }\n\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n  }\n\n}\n\nclass Bubble extends BubbleBase {\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.divs instanceof Array) {\n      this.divs = data.divs.map(s => {\n        const tmp = new BubbleDiv();\n        tmp.load(s);\n        return tmp;\n      });\n    } else {\n      if (this.divs instanceof Array || !this.divs) {\n        this.divs = new BubbleDiv();\n      }\n\n      this.divs.load(data.divs);\n    }\n  }\n\n}\n\nclass ConnectLinks {\n  constructor() {\n    this.opacity = 0.5;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass Connect {\n  constructor() {\n    this.distance = 80;\n    this.links = new ConnectLinks();\n    this.radius = 60;\n  }\n\n  get lineLinked() {\n    return this.links;\n  }\n\n  set lineLinked(value) {\n    this.links = value;\n  }\n\n  get line_linked() {\n    return this.links;\n  }\n\n  set line_linked(value) {\n    this.links = value;\n  }\n\n  load(data) {\n    var _a, _b;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\n\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n\n}\n\nclass GrabLinks {\n  constructor() {\n    this.blink = false;\n    this.consent = false;\n    this.opacity = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.blink !== void 0) {\n      this.blink = data.blink;\n    }\n\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n\n    if (data.consent !== void 0) {\n      this.consent = data.consent;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass Grab {\n  constructor() {\n    this.distance = 100;\n    this.links = new GrabLinks();\n  }\n\n  get lineLinked() {\n    return this.links;\n  }\n\n  set lineLinked(value) {\n    this.links = value;\n  }\n\n  get line_linked() {\n    return this.links;\n  }\n\n  set line_linked(value) {\n    this.links = value;\n  }\n\n  load(data) {\n    var _a, _b;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\n  }\n\n}\n\nclass LightGradient {\n  constructor() {\n    this.start = new OptionsColor();\n    this.stop = new OptionsColor();\n    this.start.value = \"#ffffff\";\n    this.stop.value = \"#000000\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.start = OptionsColor.create(this.start, data.start);\n    this.stop = OptionsColor.create(this.stop, data.stop);\n  }\n\n}\n\nclass LightArea {\n  constructor() {\n    this.gradient = new LightGradient();\n    this.radius = 1e3;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.gradient.load(data.gradient);\n\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n\n}\n\nclass LightShadow {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"#000000\";\n    this.length = 2e3;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.color = OptionsColor.create(this.color, data.color);\n\n    if (data.length !== void 0) {\n      this.length = data.length;\n    }\n  }\n\n}\n\nclass Light {\n  constructor() {\n    this.area = new LightArea();\n    this.shadow = new LightShadow();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.area.load(data.area);\n    this.shadow.load(data.shadow);\n  }\n\n}\n\nclass Push {\n  constructor() {\n    this.default = true;\n    this.groups = [];\n    this.quantity = 4;\n  }\n\n  get particles_nb() {\n    return this.quantity;\n  }\n\n  set particles_nb(value) {\n    this.quantity = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.default !== void 0) {\n      this.default = data.default;\n    }\n\n    if (data.groups !== void 0) {\n      this.groups = data.groups.map(t => t);\n    }\n\n    if (!this.groups.length) {\n      this.default = true;\n    }\n\n    const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\n\n    if (quantity !== void 0) {\n      this.quantity = quantity;\n    }\n  }\n\n}\n\nclass Remove {\n  constructor() {\n    this.quantity = 2;\n  }\n\n  get particles_nb() {\n    return this.quantity;\n  }\n\n  set particles_nb(value) {\n    this.quantity = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\n\n    if (quantity !== void 0) {\n      this.quantity = quantity;\n    }\n  }\n\n}\n\nclass RepulseBase {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.factor = 100;\n    this.speed = 1;\n    this.maxSpeed = 50;\n    this.easing = \"ease-out-quad\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n\n    if (data.easing !== void 0) {\n      this.easing = data.easing;\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = data.maxSpeed;\n    }\n  }\n\n}\n\nclass RepulseDiv extends RepulseBase {\n  constructor() {\n    super();\n    this.selectors = [];\n  }\n\n  get ids() {\n    if (this.selectors instanceof Array) {\n      return this.selectors.map(t => t.replace(\"#\", \"\"));\n    } else {\n      return this.selectors.replace(\"#\", \"\");\n    }\n  }\n\n  set ids(value) {\n    if (value instanceof Array) {\n      this.selectors = value.map(() => `#${value}`);\n    } else {\n      this.selectors = `#${value}`;\n    }\n  }\n\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.ids !== void 0) {\n      this.ids = data.ids;\n    }\n\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n  }\n\n}\n\nclass Repulse extends RepulseBase {\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.divs instanceof Array) {\n      this.divs = data.divs.map(s => {\n        const tmp = new RepulseDiv();\n        tmp.load(s);\n        return tmp;\n      });\n    } else {\n      if (this.divs instanceof Array || !this.divs) {\n        this.divs = new RepulseDiv();\n      }\n\n      this.divs.load(data.divs);\n    }\n  }\n\n}\n\nclass Slow {\n  constructor() {\n    this.factor = 3;\n    this.radius = 200;\n  }\n\n  get active() {\n    return false;\n  }\n\n  set active(_value) {}\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n\n}\n\nclass Trail {\n  constructor() {\n    this.delay = 1;\n    this.pauseOnStop = false;\n    this.quantity = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.delay !== void 0) {\n      this.delay = data.delay;\n    }\n\n    if (data.quantity !== void 0) {\n      this.quantity = data.quantity;\n    }\n\n    if (data.particles !== void 0) {\n      this.particles = deepExtend({}, data.particles);\n    }\n\n    if (data.pauseOnStop !== void 0) {\n      this.pauseOnStop = data.pauseOnStop;\n    }\n  }\n\n}\n\nclass Modes {\n  constructor() {\n    this.attract = new Attract();\n    this.bounce = new Bounce();\n    this.bubble = new Bubble();\n    this.connect = new Connect();\n    this.grab = new Grab();\n    this.light = new Light();\n    this.push = new Push();\n    this.remove = new Remove();\n    this.repulse = new Repulse();\n    this.slow = new Slow();\n    this.trail = new Trail();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.attract.load(data.attract);\n    this.bubble.load(data.bubble);\n    this.connect.load(data.connect);\n    this.grab.load(data.grab);\n    this.light.load(data.light);\n    this.push.load(data.push);\n    this.remove.load(data.remove);\n    this.repulse.load(data.repulse);\n    this.slow.load(data.slow);\n    this.trail.load(data.trail);\n  }\n\n}\n\nclass Interactivity {\n  constructor() {\n    this.detectsOn = \"window\";\n    this.events = new Events();\n    this.modes = new Modes();\n  }\n\n  get detect_on() {\n    return this.detectsOn;\n  }\n\n  set detect_on(value) {\n    this.detectsOn = value;\n  }\n\n  load(data) {\n    var _a, _b, _c;\n\n    if (!data) {\n      return;\n    }\n\n    const detectsOn = (_a = data.detectsOn) !== null && _a !== void 0 ? _a : data.detect_on;\n\n    if (detectsOn !== void 0) {\n      this.detectsOn = detectsOn;\n    }\n\n    this.events.load(data.events);\n    this.modes.load(data.modes);\n\n    if (((_c = (_b = data.modes) === null || _b === void 0 ? void 0 : _b.slow) === null || _c === void 0 ? void 0 : _c.active) === true) {\n      if (this.events.onHover.mode instanceof Array) {\n        if (this.events.onHover.mode.indexOf(\"slow\") < 0) {\n          this.events.onHover.mode.push(\"slow\");\n        }\n      } else if (this.events.onHover.mode !== \"slow\") {\n        this.events.onHover.mode = [this.events.onHover.mode, \"slow\"];\n      }\n    }\n  }\n\n}\n\nclass ManualParticle {\n  load(data) {\n    var _a, _b;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.position !== void 0) {\n      this.position = {\n        x: (_a = data.position.x) !== null && _a !== void 0 ? _a : 50,\n        y: (_b = data.position.y) !== null && _b !== void 0 ? _b : 50\n      };\n    }\n\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n\n}\n\nclass MotionReduce {\n  constructor() {\n    this.factor = 4;\n    this.value = true;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n\n}\n\nclass Motion {\n  constructor() {\n    this.disable = false;\n    this.reduce = new MotionReduce();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.disable !== void 0) {\n      this.disable = data.disable;\n    }\n\n    this.reduce.load(data.reduce);\n  }\n\n}\n\nclass Responsive {\n  constructor() {\n    this.maxWidth = Infinity;\n    this.options = {};\n    this.mode = \"canvas\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.maxWidth !== void 0) {\n      this.maxWidth = data.maxWidth;\n    }\n\n    if (data.mode !== void 0) {\n      if (data.mode === \"screen\") {\n        this.mode = \"screen\";\n      } else {\n        this.mode = \"canvas\";\n      }\n    }\n\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n\n}\n\nclass ThemeDefault {\n  constructor() {\n    this.auto = false;\n    this.mode = \"any\";\n    this.value = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.auto !== void 0) {\n      this.auto = data.auto;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n\n}\n\nclass Theme {\n  constructor() {\n    this.name = \"\";\n    this.default = new ThemeDefault();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.name !== void 0) {\n      this.name = data.name;\n    }\n\n    this.default.load(data.default);\n\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n\n}\n\nclass ColorAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.offset = 0;\n    this.speed = 1;\n    this.decay = 0;\n    this.sync = true;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.offset !== void 0) {\n      this.offset = setRangeValue(data.offset);\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass HslAnimation {\n  constructor() {\n    this.h = new ColorAnimation();\n    this.s = new ColorAnimation();\n    this.l = new ColorAnimation();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.h.load(data.h);\n    this.s.load(data.s);\n    this.l.load(data.l);\n  }\n\n}\n\nclass AnimatableColor extends OptionsColor {\n  constructor() {\n    super();\n    this.animation = new HslAnimation();\n  }\n\n  static create(source, data) {\n    const color = new AnimatableColor();\n    color.load(source);\n\n    if (data !== void 0) {\n      if (typeof data === \"string\" || data instanceof Array) {\n        color.load({\n          value: data\n        });\n      } else {\n        color.load(data);\n      }\n    }\n\n    return color;\n  }\n\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    const colorAnimation = data.animation;\n\n    if (colorAnimation !== void 0) {\n      if (colorAnimation.enable !== void 0) {\n        this.animation.h.load(colorAnimation);\n      } else {\n        this.animation.load(data.animation);\n      }\n    }\n  }\n\n}\n\nclass GradientColorOpacityAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n    this.startValue = \"random\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n  }\n\n}\n\nclass GradientColorOpacity {\n  constructor() {\n    this.value = 0;\n    this.animation = new GradientColorOpacityAnimation();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.animation.load(data.animation);\n\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value);\n    }\n  }\n\n}\n\nclass AnimatableGradientColor {\n  constructor() {\n    this.stop = 0;\n    this.value = new AnimatableColor();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.stop !== void 0) {\n      this.stop = data.stop;\n    }\n\n    this.value = AnimatableColor.create(this.value, data.value);\n\n    if (data.opacity !== void 0) {\n      this.opacity = new GradientColorOpacity();\n\n      if (typeof data.opacity === \"number\") {\n        this.opacity.value = data.opacity;\n      } else {\n        this.opacity.load(data.opacity);\n      }\n    }\n  }\n\n}\n\nclass GradientAngleAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass GradientAngle {\n  constructor() {\n    this.value = 0;\n    this.animation = new GradientAngleAnimation();\n    this.direction = \"clockwise\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.animation.load(data.animation);\n\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n  }\n\n}\n\nclass AnimatableGradient {\n  constructor() {\n    this.angle = new GradientAngle();\n    this.colors = [];\n    this.type = \"random\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.angle.load(data.angle);\n\n    if (data.colors !== void 0) {\n      this.colors = data.colors.map(s => {\n        const tmp = new AnimatableGradientColor();\n        tmp.load(s);\n        return tmp;\n      });\n    }\n\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n\n}\n\nclass CollisionsOverlap {\n  constructor() {\n    this.enable = true;\n    this.retries = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.retries !== void 0) {\n      this.retries = data.retries;\n    }\n  }\n\n}\n\nclass Random {\n  constructor() {\n    this.enable = false;\n    this.minimumValue = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.minimumValue !== void 0) {\n      this.minimumValue = data.minimumValue;\n    }\n  }\n\n}\n\nclass ValueWithRandom {\n  constructor() {\n    this.random = new Random();\n    this.value = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (typeof data.random === \"boolean\") {\n      this.random.enable = data.random;\n    } else {\n      this.random.load(data.random);\n    }\n\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value, this.random.enable ? this.random.minimumValue : void 0);\n    }\n  }\n\n}\n\nclass ParticlesBounceFactor extends ValueWithRandom {\n  constructor() {\n    super();\n    this.random.minimumValue = 0.1;\n    this.value = 1;\n  }\n\n}\n\nclass ParticlesBounce {\n  constructor() {\n    this.horizontal = new ParticlesBounceFactor();\n    this.vertical = new ParticlesBounceFactor();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.horizontal.load(data.horizontal);\n    this.vertical.load(data.vertical);\n  }\n\n}\n\nclass Collisions {\n  constructor() {\n    this.bounce = new ParticlesBounce();\n    this.enable = false;\n    this.mode = \"bounce\";\n    this.overlap = new CollisionsOverlap();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    this.bounce.load(data.bounce);\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n\n    this.overlap.load(data.overlap);\n  }\n\n}\n\nclass SplitFactor extends ValueWithRandom {\n  constructor() {\n    super();\n    this.value = 3;\n  }\n\n}\n\nclass SplitRate extends ValueWithRandom {\n  constructor() {\n    super();\n    this.value = {\n      min: 4,\n      max: 9\n    };\n  }\n\n}\n\nclass Split {\n  constructor() {\n    this.count = 1;\n    this.factor = new SplitFactor();\n    this.rate = new SplitRate();\n    this.sizeOffset = true;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.count !== void 0) {\n      this.count = data.count;\n    }\n\n    this.factor.load(data.factor);\n    this.rate.load(data.rate);\n\n    if (data.particles !== void 0) {\n      if (data.particles instanceof Array) {\n        this.particles = data.particles.map(s => {\n          return deepExtend({}, s);\n        });\n      } else {\n        this.particles = deepExtend({}, data.particles);\n      }\n    }\n\n    if (data.sizeOffset !== void 0) {\n      this.sizeOffset = data.sizeOffset;\n    }\n  }\n\n}\n\nclass Destroy {\n  constructor() {\n    this.mode = \"none\";\n    this.split = new Split();\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n\n    this.split.load(data.split);\n  }\n\n}\n\nclass LinksShadow {\n  constructor() {\n    this.blur = 5;\n    this.color = new OptionsColor();\n    this.color.value = \"#000\";\n    this.enable = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.blur !== void 0) {\n      this.blur = data.blur;\n    }\n\n    this.color = OptionsColor.create(this.color, data.color);\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n  }\n\n}\n\nclass LinksTriangle {\n  constructor() {\n    this.enable = false;\n    this.frequency = 1;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.frequency !== void 0) {\n      this.frequency = data.frequency;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass Links {\n  constructor() {\n    this.blink = false;\n    this.color = new OptionsColor();\n    this.color.value = \"#fff\";\n    this.consent = false;\n    this.distance = 100;\n    this.enable = false;\n    this.frequency = 1;\n    this.opacity = 1;\n    this.shadow = new LinksShadow();\n    this.triangles = new LinksTriangle();\n    this.width = 1;\n    this.warp = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.id !== void 0) {\n      this.id = data.id;\n    }\n\n    if (data.blink !== void 0) {\n      this.blink = data.blink;\n    }\n\n    this.color = OptionsColor.create(this.color, data.color);\n\n    if (data.consent !== void 0) {\n      this.consent = data.consent;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.frequency !== void 0) {\n      this.frequency = data.frequency;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n\n    this.shadow.load(data.shadow);\n    this.triangles.load(data.triangles);\n\n    if (data.width !== void 0) {\n      this.width = data.width;\n    }\n\n    if (data.warp !== void 0) {\n      this.warp = data.warp;\n    }\n  }\n\n}\n\nclass MoveAngle {\n  constructor() {\n    this.offset = 0;\n    this.value = 90;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.offset !== void 0) {\n      this.offset = setRangeValue(data.offset);\n    }\n\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value);\n    }\n  }\n\n}\n\nclass MoveAttract {\n  constructor() {\n    this.distance = 200;\n    this.enable = false;\n    this.rotate = {\n      x: 3e3,\n      y: 3e3\n    };\n  }\n\n  get rotateX() {\n    return this.rotate.x;\n  }\n\n  set rotateX(value) {\n    this.rotate.x = value;\n  }\n\n  get rotateY() {\n    return this.rotate.y;\n  }\n\n  set rotateY(value) {\n    this.rotate.y = value;\n  }\n\n  load(data) {\n    var _a, _b, _c, _d;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = setRangeValue(data.distance);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    const rotateX = (_b = (_a = data.rotate) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : data.rotateX;\n\n    if (rotateX !== void 0) {\n      this.rotate.x = rotateX;\n    }\n\n    const rotateY = (_d = (_c = data.rotate) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : data.rotateY;\n\n    if (rotateY !== void 0) {\n      this.rotate.y = rotateY;\n    }\n  }\n\n}\n\nclass MoveGravity {\n  constructor() {\n    this.acceleration = 9.81;\n    this.enable = false;\n    this.inverse = false;\n    this.maxSpeed = 50;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.acceleration !== void 0) {\n      this.acceleration = setRangeValue(data.acceleration);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.inverse !== void 0) {\n      this.inverse = data.inverse;\n    }\n\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = setRangeValue(data.maxSpeed);\n    }\n  }\n\n}\n\nclass MovePathDelay extends ValueWithRandom {\n  constructor() {\n    super();\n  }\n\n}\n\nclass MovePath {\n  constructor() {\n    this.clamp = true;\n    this.delay = new MovePathDelay();\n    this.enable = false;\n    this.options = {};\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.clamp !== void 0) {\n      this.clamp = data.clamp;\n    }\n\n    this.delay.load(data.delay);\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.generator = data.generator;\n\n    if (data.options) {\n      this.options = deepExtend(this.options, data.options);\n    }\n  }\n\n}\n\nclass MoveTrail {\n  constructor() {\n    this.enable = false;\n    this.length = 10;\n    this.fillColor = new OptionsColor();\n    this.fillColor.value = \"#000000\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.fillColor = OptionsColor.create(this.fillColor, data.fillColor);\n\n    if (data.length !== void 0) {\n      this.length = data.length;\n    }\n  }\n\n}\n\nclass OutModes {\n  constructor() {\n    this.default = \"out\";\n  }\n\n  load(data) {\n    var _a, _b, _c, _d;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.default !== void 0) {\n      this.default = data.default;\n    }\n\n    this.bottom = (_a = data.bottom) !== null && _a !== void 0 ? _a : data.default;\n    this.left = (_b = data.left) !== null && _b !== void 0 ? _b : data.default;\n    this.right = (_c = data.right) !== null && _c !== void 0 ? _c : data.default;\n    this.top = (_d = data.top) !== null && _d !== void 0 ? _d : data.default;\n  }\n\n}\n\nclass Spin {\n  constructor() {\n    this.acceleration = 0;\n    this.enable = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.acceleration !== void 0) {\n      this.acceleration = setRangeValue(data.acceleration);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.position = data.position ? deepExtend({}, data.position) : void 0;\n  }\n\n}\n\nclass Move {\n  constructor() {\n    this.angle = new MoveAngle();\n    this.attract = new MoveAttract();\n    this.center = {\n      x: 50,\n      y: 50,\n      radius: 0\n    };\n    this.decay = 0;\n    this.distance = {};\n    this.direction = \"none\";\n    this.drift = 0;\n    this.enable = false;\n    this.gravity = new MoveGravity();\n    this.path = new MovePath();\n    this.outModes = new OutModes();\n    this.random = false;\n    this.size = false;\n    this.speed = 2;\n    this.spin = new Spin();\n    this.straight = false;\n    this.trail = new MoveTrail();\n    this.vibrate = false;\n    this.warp = false;\n  }\n\n  get bounce() {\n    return this.collisions;\n  }\n\n  set bounce(value) {\n    this.collisions = value;\n  }\n\n  get collisions() {\n    return false;\n  }\n\n  set collisions(value) {}\n\n  get noise() {\n    return this.path;\n  }\n\n  set noise(value) {\n    this.path = value;\n  }\n\n  get outMode() {\n    return this.outModes.default;\n  }\n\n  set outMode(value) {\n    this.outModes.default = value;\n  }\n\n  get out_mode() {\n    return this.outMode;\n  }\n\n  set out_mode(value) {\n    this.outMode = value;\n  }\n\n  load(data) {\n    var _a, _b, _c;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.angle !== void 0) {\n      if (typeof data.angle === \"number\") {\n        this.angle.value = data.angle;\n      } else {\n        this.angle.load(data.angle);\n      }\n    }\n\n    this.attract.load(data.attract);\n    this.center = deepExtend(this.center, data.center);\n\n    if (data.decay !== void 0) {\n      this.decay = data.decay;\n    }\n\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = typeof data.distance === \"number\" ? {\n        horizontal: data.distance,\n        vertical: data.distance\n      } : deepExtend({}, data.distance);\n    }\n\n    if (data.drift !== void 0) {\n      this.drift = setRangeValue(data.drift);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.gravity.load(data.gravity);\n    const outMode = (_a = data.outMode) !== null && _a !== void 0 ? _a : data.out_mode;\n\n    if (data.outModes !== void 0 || outMode !== void 0) {\n      if (typeof data.outModes === \"string\" || data.outModes === void 0 && outMode !== void 0) {\n        this.outModes.load({\n          default: (_b = data.outModes) !== null && _b !== void 0 ? _b : outMode\n        });\n      } else {\n        this.outModes.load(data.outModes);\n      }\n    }\n\n    this.path.load((_c = data.path) !== null && _c !== void 0 ? _c : data.noise);\n\n    if (data.random !== void 0) {\n      this.random = data.random;\n    }\n\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    this.spin.load(data.spin);\n\n    if (data.straight !== void 0) {\n      this.straight = data.straight;\n    }\n\n    this.trail.load(data.trail);\n\n    if (data.vibrate !== void 0) {\n      this.vibrate = data.vibrate;\n    }\n\n    if (data.warp !== void 0) {\n      this.warp = data.warp;\n    }\n  }\n\n}\n\nclass AnimationOptions {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 1;\n    this.decay = 0;\n    this.sync = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass OpacityAnimation extends AnimationOptions {\n  constructor() {\n    super();\n    this.destroy = \"none\";\n    this.enable = false;\n    this.speed = 2;\n    this.startValue = \"random\";\n    this.sync = false;\n  }\n\n  get opacity_min() {\n    return this.minimumValue;\n  }\n\n  set opacity_min(value) {\n    this.minimumValue = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    super.load(data);\n\n    if (data.destroy !== void 0) {\n      this.destroy = data.destroy;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.opacity_min;\n\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass Opacity extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new OpacityAnimation();\n    this.random.minimumValue = 0.1;\n    this.value = 1;\n  }\n\n  get anim() {\n    return this.animation;\n  }\n\n  set anim(value) {\n    this.animation = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    super.load(data);\n    const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n\n    if (animation !== void 0) {\n      this.animation.load(animation);\n      this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : void 0);\n    }\n  }\n\n}\n\nclass ParticlesDensity {\n  constructor() {\n    this.enable = false;\n    this.area = 800;\n    this.factor = 1e3;\n  }\n\n  get value_area() {\n    return this.area;\n  }\n\n  set value_area(value) {\n    this.area = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    const area = (_a = data.area) !== null && _a !== void 0 ? _a : data.value_area;\n\n    if (area !== void 0) {\n      this.area = area;\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n  }\n\n}\n\nclass ParticlesNumber {\n  constructor() {\n    this.density = new ParticlesDensity();\n    this.limit = 0;\n    this.value = 100;\n  }\n\n  get max() {\n    return this.limit;\n  }\n\n  set max(value) {\n    this.limit = value;\n  }\n\n  load(data) {\n    var _a;\n\n    if (!data) {\n      return;\n    }\n\n    this.density.load(data.density);\n    const limit = (_a = data.limit) !== null && _a !== void 0 ? _a : data.max;\n\n    if (limit !== void 0) {\n      this.limit = limit;\n    }\n\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n\n}\n\nclass ParticlesRepulse extends ValueWithRandom {\n  constructor() {\n    super();\n    this.enabled = false;\n    this.distance = 1;\n    this.duration = 1;\n    this.factor = 1;\n    this.speed = 1;\n  }\n\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.enabled !== void 0) {\n      this.enabled = data.enabled;\n    }\n\n    if (data.distance !== void 0) {\n      this.distance = setRangeValue(data.distance);\n    }\n\n    if (data.duration !== void 0) {\n      this.duration = setRangeValue(data.duration);\n    }\n\n    if (data.factor !== void 0) {\n      this.factor = setRangeValue(data.factor);\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n  }\n\n}\n\nclass RotateAnimation {\n  constructor() {\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass Rotate extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new RotateAnimation();\n    this.direction = \"clockwise\";\n    this.path = false;\n    this.value = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    super.load(data);\n\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n\n    this.animation.load(data.animation);\n\n    if (data.path !== void 0) {\n      this.path = data.path;\n    }\n  }\n\n}\n\nclass Shadow {\n  constructor() {\n    this.blur = 0;\n    this.color = new OptionsColor();\n    this.enable = false;\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    this.color.value = \"#000\";\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.blur !== void 0) {\n      this.blur = data.blur;\n    }\n\n    this.color = OptionsColor.create(this.color, data.color);\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    if (data.offset === void 0) {\n      return;\n    }\n\n    if (data.offset.x !== void 0) {\n      this.offset.x = data.offset.x;\n    }\n\n    if (data.offset.y !== void 0) {\n      this.offset.y = data.offset.y;\n    }\n  }\n\n}\n\nclass Shape {\n  constructor() {\n    this.options = {};\n    this.type = \"circle\";\n  }\n\n  get character() {\n    var _a;\n\n    return (_a = this.options[\"character\"]) !== null && _a !== void 0 ? _a : this.options[\"char\"];\n  }\n\n  set character(value) {\n    this.options[\"character\"] = value;\n    this.options[\"char\"] = value;\n  }\n\n  get custom() {\n    return this.options;\n  }\n\n  set custom(value) {\n    this.options = value;\n  }\n\n  get image() {\n    var _a;\n\n    return (_a = this.options[\"image\"]) !== null && _a !== void 0 ? _a : this.options[\"images\"];\n  }\n\n  set image(value) {\n    this.options[\"image\"] = value;\n    this.options[\"images\"] = value;\n  }\n\n  get images() {\n    return this.image;\n  }\n\n  set images(value) {\n    this.image = value;\n  }\n\n  get polygon() {\n    var _a;\n\n    return (_a = this.options[\"polygon\"]) !== null && _a !== void 0 ? _a : this.options[\"star\"];\n  }\n\n  set polygon(value) {\n    this.options[\"polygon\"] = value;\n    this.options[\"star\"] = value;\n  }\n\n  get stroke() {\n    return [];\n  }\n\n  set stroke(_value) {}\n\n  load(data) {\n    var _a, _b, _c;\n\n    if (!data) {\n      return;\n    }\n\n    const options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;\n\n    if (options !== void 0) {\n      for (const shape in options) {\n        const item = options[shape];\n\n        if (item) {\n          this.options[shape] = deepExtend((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);\n        }\n      }\n    }\n\n    this.loadShape(data.character, \"character\", \"char\", true);\n    this.loadShape(data.polygon, \"polygon\", \"star\", false);\n    this.loadShape((_c = data.image) !== null && _c !== void 0 ? _c : data.images, \"image\", \"images\", true);\n\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n\n  loadShape(item, mainKey, altKey, altOverride) {\n    var _a, _b, _c, _d;\n\n    if (item === void 0) {\n      return;\n    }\n\n    if (item instanceof Array) {\n      if (!(this.options[mainKey] instanceof Array)) {\n        this.options[mainKey] = [];\n\n        if (!this.options[altKey] || altOverride) {\n          this.options[altKey] = [];\n        }\n      }\n\n      this.options[mainKey] = deepExtend((_a = this.options[mainKey]) !== null && _a !== void 0 ? _a : [], item);\n\n      if (!this.options[altKey] || altOverride) {\n        this.options[altKey] = deepExtend((_b = this.options[altKey]) !== null && _b !== void 0 ? _b : [], item);\n      }\n    } else {\n      if (this.options[mainKey] instanceof Array) {\n        this.options[mainKey] = {};\n\n        if (!this.options[altKey] || altOverride) {\n          this.options[altKey] = {};\n        }\n      }\n\n      this.options[mainKey] = deepExtend((_c = this.options[mainKey]) !== null && _c !== void 0 ? _c : {}, item);\n\n      if (!this.options[altKey] || altOverride) {\n        this.options[altKey] = deepExtend((_d = this.options[altKey]) !== null && _d !== void 0 ? _d : {}, item);\n      }\n    }\n  }\n\n}\n\nclass SizeAnimation extends AnimationOptions {\n  constructor() {\n    super();\n    this.destroy = \"none\";\n    this.enable = false;\n    this.speed = 5;\n    this.startValue = \"random\";\n    this.sync = false;\n  }\n\n  get size_min() {\n    return this.minimumValue;\n  }\n\n  set size_min(value) {\n    this.minimumValue = value;\n  }\n\n  load(data) {\n    var _a;\n\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.destroy !== void 0) {\n      this.destroy = data.destroy;\n    }\n\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n\n    this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.size_min;\n\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n\n}\n\nclass Size extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new SizeAnimation();\n    this.random.minimumValue = 1;\n    this.value = 3;\n  }\n\n  get anim() {\n    return this.animation;\n  }\n\n  set anim(value) {\n    this.animation = value;\n  }\n\n  load(data) {\n    var _a;\n\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n\n    if (animation !== void 0) {\n      this.animation.load(animation);\n      this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : void 0);\n    }\n  }\n\n}\n\nclass Stroke {\n  constructor() {\n    this.width = 0;\n  }\n\n  load(data) {\n    if (!data) {\n      return;\n    }\n\n    if (data.color !== void 0) {\n      this.color = AnimatableColor.create(this.color, data.color);\n    }\n\n    if (data.width !== void 0) {\n      this.width = data.width;\n    }\n\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n\n}\n\nclass ZIndex extends ValueWithRandom {\n  constructor() {\n    super();\n    this.opacityRate = 1;\n    this.sizeRate = 1;\n    this.velocityRate = 1;\n  }\n\n  load(data) {\n    super.load(data);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.opacityRate !== void 0) {\n      this.opacityRate = data.opacityRate;\n    }\n\n    if (data.sizeRate !== void 0) {\n      this.sizeRate = data.sizeRate;\n    }\n\n    if (data.velocityRate !== void 0) {\n      this.velocityRate = data.velocityRate;\n    }\n  }\n\n}\n\nvar __classPrivateFieldSet$8 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$7 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _ParticlesOptions_container, _ParticlesOptions_engine;\n\nclass ParticlesOptions {\n  constructor(engine, container2) {\n    _ParticlesOptions_container.set(this, void 0);\n\n    _ParticlesOptions_engine.set(this, void 0);\n\n    __classPrivateFieldSet$8(this, _ParticlesOptions_engine, engine, \"f\");\n\n    __classPrivateFieldSet$8(this, _ParticlesOptions_container, container2, \"f\");\n\n    this.bounce = new ParticlesBounce();\n    this.collisions = new Collisions();\n    this.color = new AnimatableColor();\n    this.color.value = \"#fff\";\n    this.destroy = new Destroy();\n    this.gradient = [];\n    this.groups = {};\n    this.links = new Links();\n    this.move = new Move();\n    this.number = new ParticlesNumber();\n    this.opacity = new Opacity();\n    this.reduceDuplicates = false;\n    this.repulse = new ParticlesRepulse();\n    this.rotate = new Rotate();\n    this.shadow = new Shadow();\n    this.shape = new Shape();\n    this.size = new Size();\n    this.stroke = new Stroke();\n    this.zIndex = new ZIndex();\n  }\n\n  get lineLinked() {\n    return this.links;\n  }\n\n  set lineLinked(value) {\n    this.links = value;\n  }\n\n  get line_linked() {\n    return this.links;\n  }\n\n  set line_linked(value) {\n    this.links = value;\n  }\n\n  load(data) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n\n    if (!data) {\n      return;\n    }\n\n    this.bounce.load(data.bounce);\n    this.color.load(AnimatableColor.create(this.color, data.color));\n    this.destroy.load(data.destroy);\n    const links = (_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked;\n\n    if (links !== void 0) {\n      this.links.load(links);\n    }\n\n    if (data.groups !== void 0) {\n      for (const group in data.groups) {\n        const item = data.groups[group];\n\n        if (item !== void 0) {\n          this.groups[group] = deepExtend((_c = this.groups[group]) !== null && _c !== void 0 ? _c : {}, item);\n        }\n      }\n    }\n\n    this.move.load(data.move);\n    this.number.load(data.number);\n    this.opacity.load(data.opacity);\n\n    if (data.reduceDuplicates !== void 0) {\n      this.reduceDuplicates = data.reduceDuplicates;\n    }\n\n    this.repulse.load(data.repulse);\n    this.rotate.load(data.rotate);\n    this.shape.load(data.shape);\n    this.size.load(data.size);\n    this.shadow.load(data.shadow);\n    this.zIndex.load(data.zIndex);\n    const collisions = (_e = (_d = data.move) === null || _d === void 0 ? void 0 : _d.collisions) !== null && _e !== void 0 ? _e : (_f = data.move) === null || _f === void 0 ? void 0 : _f.bounce;\n\n    if (collisions !== void 0) {\n      this.collisions.enable = collisions;\n    }\n\n    this.collisions.load(data.collisions);\n\n    if (data.interactivity !== void 0) {\n      this.interactivity = deepExtend({}, data.interactivity);\n    }\n\n    const strokeToLoad = (_g = data.stroke) !== null && _g !== void 0 ? _g : (_h = data.shape) === null || _h === void 0 ? void 0 : _h.stroke;\n\n    if (strokeToLoad) {\n      if (strokeToLoad instanceof Array) {\n        this.stroke = strokeToLoad.map(s => {\n          const tmp = new Stroke();\n          tmp.load(s);\n          return tmp;\n        });\n      } else {\n        if (this.stroke instanceof Array) {\n          this.stroke = new Stroke();\n        }\n\n        this.stroke.load(strokeToLoad);\n      }\n    }\n\n    const gradientToLoad = data.gradient;\n\n    if (gradientToLoad) {\n      if (gradientToLoad instanceof Array) {\n        this.gradient = gradientToLoad.map(s => {\n          const tmp = new AnimatableGradient();\n          tmp.load(s);\n          return tmp;\n        });\n      } else {\n        if (this.gradient instanceof Array) {\n          this.gradient = new AnimatableGradient();\n        }\n\n        this.gradient.load(gradientToLoad);\n      }\n    }\n\n    if (__classPrivateFieldGet$7(this, _ParticlesOptions_container, \"f\")) {\n      const updaters = __classPrivateFieldGet$7(this, _ParticlesOptions_engine, \"f\").plugins.updaters.get(__classPrivateFieldGet$7(this, _ParticlesOptions_container, \"f\"));\n\n      if (updaters) {\n        for (const updater of updaters) {\n          if (updater.loadOptions) {\n            updater.loadOptions(this, data);\n          }\n        }\n      }\n    }\n  }\n\n}\n\n_ParticlesOptions_container = /* @__PURE__ */new WeakMap(), _ParticlesOptions_engine = /* @__PURE__ */new WeakMap();\n\nfunction loadOptions(options, ...sourceOptionsArr) {\n  for (const sourceOptions of sourceOptionsArr) {\n    options.load(sourceOptions);\n  }\n}\n\nfunction loadParticlesOptions(engine, container2, ...sourceOptionsArr) {\n  const options = new ParticlesOptions(engine, container2);\n  loadOptions(options, ...sourceOptionsArr);\n  return options;\n}\n\nvar __classPrivateFieldSet$7 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$6 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Options_instances, _Options_container, _Options_engine, _Options_findDefaultTheme;\n\nclass Options {\n  constructor(engine, container2) {\n    _Options_instances.add(this);\n\n    _Options_container.set(this, void 0);\n\n    _Options_engine.set(this, void 0);\n\n    __classPrivateFieldSet$7(this, _Options_engine, engine, \"f\");\n\n    __classPrivateFieldSet$7(this, _Options_container, container2, \"f\");\n\n    this.autoPlay = true;\n    this.background = new Background();\n    this.backgroundMask = new BackgroundMask();\n    this.fullScreen = new FullScreen();\n    this.detectRetina = true;\n    this.duration = 0;\n    this.fpsLimit = 120;\n    this.interactivity = new Interactivity();\n    this.manualParticles = [];\n    this.motion = new Motion();\n    this.particles = loadParticlesOptions(__classPrivateFieldGet$6(this, _Options_engine, \"f\"), __classPrivateFieldGet$6(this, _Options_container, \"f\"));\n    this.pauseOnBlur = true;\n    this.pauseOnOutsideViewport = true;\n    this.responsive = [];\n    this.style = {};\n    this.themes = [];\n    this.zLayers = 100;\n  }\n\n  get backgroundMode() {\n    return this.fullScreen;\n  }\n\n  set backgroundMode(value) {\n    this.fullScreen.load(value);\n  }\n\n  get fps_limit() {\n    return this.fpsLimit;\n  }\n\n  set fps_limit(value) {\n    this.fpsLimit = value;\n  }\n\n  get retina_detect() {\n    return this.detectRetina;\n  }\n\n  set retina_detect(value) {\n    this.detectRetina = value;\n  }\n\n  load(data) {\n    var _a, _b, _c, _d, _e;\n\n    if (!data) {\n      return;\n    }\n\n    if (data.preset !== void 0) {\n      if (data.preset instanceof Array) {\n        for (const preset of data.preset) {\n          this.importPreset(preset);\n        }\n      } else {\n        this.importPreset(data.preset);\n      }\n    }\n\n    if (data.autoPlay !== void 0) {\n      this.autoPlay = data.autoPlay;\n    }\n\n    const detectRetina = (_a = data.detectRetina) !== null && _a !== void 0 ? _a : data.retina_detect;\n\n    if (detectRetina !== void 0) {\n      this.detectRetina = detectRetina;\n    }\n\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n\n    const fpsLimit = (_b = data.fpsLimit) !== null && _b !== void 0 ? _b : data.fps_limit;\n\n    if (fpsLimit !== void 0) {\n      this.fpsLimit = fpsLimit;\n    }\n\n    if (data.pauseOnBlur !== void 0) {\n      this.pauseOnBlur = data.pauseOnBlur;\n    }\n\n    if (data.pauseOnOutsideViewport !== void 0) {\n      this.pauseOnOutsideViewport = data.pauseOnOutsideViewport;\n    }\n\n    if (data.zLayers !== void 0) {\n      this.zLayers = data.zLayers;\n    }\n\n    this.background.load(data.background);\n    const fullScreen = (_c = data.fullScreen) !== null && _c !== void 0 ? _c : data.backgroundMode;\n\n    if (typeof fullScreen === \"boolean\") {\n      this.fullScreen.enable = fullScreen;\n    } else {\n      this.fullScreen.load(fullScreen);\n    }\n\n    this.backgroundMask.load(data.backgroundMask);\n    this.interactivity.load(data.interactivity);\n\n    if (data.manualParticles !== void 0) {\n      this.manualParticles = data.manualParticles.map(t => {\n        const tmp = new ManualParticle();\n        tmp.load(t);\n        return tmp;\n      });\n    }\n\n    this.motion.load(data.motion);\n    this.particles.load(data.particles);\n    this.style = deepExtend(this.style, data.style);\n\n    __classPrivateFieldGet$6(this, _Options_engine, \"f\").plugins.loadOptions(this, data);\n\n    if (data.responsive !== void 0) {\n      for (const responsive of data.responsive) {\n        const optResponsive = new Responsive();\n        optResponsive.load(responsive);\n        this.responsive.push(optResponsive);\n      }\n    }\n\n    this.responsive.sort((a, b) => a.maxWidth - b.maxWidth);\n\n    if (data.themes !== void 0) {\n      for (const theme of data.themes) {\n        const optTheme = new Theme();\n        optTheme.load(theme);\n        this.themes.push(optTheme);\n      }\n    }\n\n    this.defaultDarkTheme = (_d = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, \"dark\")) === null || _d === void 0 ? void 0 : _d.name;\n    this.defaultLightTheme = (_e = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, \"light\")) === null || _e === void 0 ? void 0 : _e.name;\n  }\n\n  setResponsive(width, pxRatio, defaultOptions) {\n    this.load(defaultOptions);\n    const responsiveOptions = this.responsive.find(t => t.mode === \"screen\" && screen ? t.maxWidth * pxRatio > screen.availWidth : t.maxWidth * pxRatio > width);\n    this.load(responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.options);\n    return responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.maxWidth;\n  }\n\n  setTheme(name) {\n    if (name) {\n      const chosenTheme = this.themes.find(theme => theme.name === name);\n\n      if (chosenTheme) {\n        this.load(chosenTheme.options);\n      }\n    } else {\n      const mediaMatch = typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\"),\n            clientDarkMode = mediaMatch && mediaMatch.matches,\n            defaultTheme = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, clientDarkMode ? \"dark\" : \"light\");\n\n      if (defaultTheme) {\n        this.load(defaultTheme.options);\n      }\n    }\n  }\n\n  importPreset(preset) {\n    this.load(__classPrivateFieldGet$6(this, _Options_engine, \"f\").plugins.getPreset(preset));\n  }\n\n}\n\n_Options_container = /* @__PURE__ */new WeakMap(), _Options_engine = /* @__PURE__ */new WeakMap(), _Options_instances = /* @__PURE__ */new WeakSet(), _Options_findDefaultTheme = function _Options_findDefaultTheme2(mode) {\n  var _a;\n\n  return (_a = this.themes.find(theme => theme.default.value && theme.default.mode === mode)) !== null && _a !== void 0 ? _a : this.themes.find(theme => theme.default.value && theme.default.mode === \"any\");\n};\n\nvar __classPrivateFieldSet$6 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$5 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _InteractionManager_engine;\n\nclass InteractionManager {\n  constructor(engine, container2) {\n    this.container = container2;\n\n    _InteractionManager_engine.set(this, void 0);\n\n    __classPrivateFieldSet$6(this, _InteractionManager_engine, engine, \"f\");\n\n    this.externalInteractors = [];\n    this.particleInteractors = [];\n  }\n\n  async externalInteract(delta) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.isEnabled()) {\n        await interactor.interact(delta);\n      }\n    }\n  }\n\n  handleClickMode(mode) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.handleClickMode) {\n        interactor.handleClickMode(mode);\n      }\n    }\n  }\n\n  init() {\n    const interactors = __classPrivateFieldGet$5(this, _InteractionManager_engine, \"f\").plugins.getInteractors(this.container, true);\n\n    this.externalInteractors = [];\n    this.particleInteractors = [];\n\n    for (const interactor of interactors) {\n      switch (interactor.type) {\n        case 0:\n          this.externalInteractors.push(interactor);\n          break;\n\n        case 1:\n          this.particleInteractors.push(interactor);\n          break;\n      }\n\n      interactor.init();\n    }\n  }\n\n  async particlesInteract(particle, delta) {\n    for (const interactor of this.externalInteractors) {\n      interactor.clear(particle);\n    }\n\n    for (const interactor of this.particleInteractors) {\n      if (interactor.isEnabled(particle)) {\n        await interactor.interact(particle, delta);\n      }\n    }\n  }\n\n  async reset(particle) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.isEnabled()) {\n        await interactor.reset(particle);\n      }\n    }\n\n    for (const interactor of this.particleInteractors) {\n      if (interactor.isEnabled(particle)) {\n        await interactor.reset(particle);\n      }\n    }\n  }\n\n}\n\n_InteractionManager_engine = /* @__PURE__ */new WeakMap();\n\nclass Vector3d extends Vector {\n  constructor(xOrCoords, y, z) {\n    super(xOrCoords, y);\n\n    if (typeof xOrCoords !== \"number\" && xOrCoords) {\n      this.z = xOrCoords.z;\n    } else if (z !== void 0) {\n      this.z = z;\n    } else {\n      throw new Error(\"tsParticles - Vector not initialized correctly\");\n    }\n  }\n\n  static get origin() {\n    return Vector3d.create(0, 0, 0);\n  }\n\n  static clone(source) {\n    return Vector3d.create(source.x, source.y, source.z);\n  }\n\n  static create(x, y, z) {\n    return new Vector3d(x, y, z);\n  }\n\n  add(v) {\n    return v instanceof Vector3d ? Vector3d.create(this.x + v.x, this.y + v.y, this.z + v.z) : super.add(v);\n  }\n\n  addTo(v) {\n    super.addTo(v);\n\n    if (v instanceof Vector3d) {\n      this.z += v.z;\n    }\n  }\n\n  copy() {\n    return Vector3d.clone(this);\n  }\n\n  div(n) {\n    return Vector3d.create(this.x / n, this.y / n, this.z / n);\n  }\n\n  divTo(n) {\n    super.divTo(n);\n    this.z /= n;\n  }\n\n  mult(n) {\n    return Vector3d.create(this.x * n, this.y * n, this.z * n);\n  }\n\n  multTo(n) {\n    super.multTo(n);\n    this.z *= n;\n  }\n\n  setTo(v) {\n    super.setTo(v);\n    const v3d = v;\n\n    if (v3d.z !== void 0) {\n      this.z = v3d.z;\n    }\n  }\n\n  sub(v) {\n    return v instanceof Vector3d ? Vector3d.create(this.x - v.x, this.y - v.y, this.z - v.z) : super.sub(v);\n  }\n\n  subFrom(v) {\n    super.subFrom(v);\n\n    if (v instanceof Vector3d) {\n      this.z -= v.z;\n    }\n  }\n\n}\n\nvar __classPrivateFieldSet$5 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$4 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Particle_engine;\n\nconst fixOutMode = data => {\n  if (!(isInArray(data.outMode, data.checkModes) || isInArray(data.outMode, data.checkModes))) {\n    return;\n  }\n\n  if (data.coord > data.maxCoord - data.radius * 2) {\n    data.setCb(-data.radius);\n  } else if (data.coord < data.radius * 2) {\n    data.setCb(data.radius);\n  }\n};\n\nclass Particle {\n  constructor(engine, id, container2, position, overrideOptions, group) {\n    var _a, _b, _c, _d, _e, _f;\n\n    this.id = id;\n    this.container = container2;\n    this.group = group;\n\n    _Particle_engine.set(this, void 0);\n\n    __classPrivateFieldSet$5(this, _Particle_engine, engine, \"f\");\n\n    this.fill = true;\n    this.close = true;\n    this.lastPathTime = 0;\n    this.destroyed = false;\n    this.unbreakable = false;\n    this.splitCount = 0;\n    this.misplaced = false;\n    this.retina = {\n      maxDistance: {}\n    };\n    this.outType = \"normal\";\n    this.ignoresResizeRatio = true;\n    const pxRatio = container2.retina.pixelRatio,\n          mainOptions = container2.actualOptions,\n          particlesOptions = loadParticlesOptions(__classPrivateFieldGet$4(this, _Particle_engine, \"f\"), container2, mainOptions.particles);\n    const shapeType = particlesOptions.shape.type,\n          reduceDuplicates = particlesOptions.reduceDuplicates;\n    this.shape = shapeType instanceof Array ? itemFromArray(shapeType, this.id, reduceDuplicates) : shapeType;\n\n    if (overrideOptions === null || overrideOptions === void 0 ? void 0 : overrideOptions.shape) {\n      if (overrideOptions.shape.type) {\n        const overrideShapeType = overrideOptions.shape.type;\n        this.shape = overrideShapeType instanceof Array ? itemFromArray(overrideShapeType, this.id, reduceDuplicates) : overrideShapeType;\n      }\n\n      const shapeOptions = new Shape();\n      shapeOptions.load(overrideOptions.shape);\n\n      if (this.shape) {\n        this.shapeData = this.loadShapeData(shapeOptions, reduceDuplicates);\n      }\n    } else {\n      this.shapeData = this.loadShapeData(particlesOptions.shape, reduceDuplicates);\n    }\n\n    particlesOptions.load(overrideOptions);\n    particlesOptions.load((_a = this.shapeData) === null || _a === void 0 ? void 0 : _a.particles);\n    this.interactivity = new Interactivity();\n    this.interactivity.load(container2.actualOptions.interactivity);\n    this.interactivity.load(particlesOptions.interactivity);\n    this.fill = (_c = (_b = this.shapeData) === null || _b === void 0 ? void 0 : _b.fill) !== null && _c !== void 0 ? _c : this.fill;\n    this.close = (_e = (_d = this.shapeData) === null || _d === void 0 ? void 0 : _d.close) !== null && _e !== void 0 ? _e : this.close;\n    this.options = particlesOptions;\n    this.pathDelay = getValue(this.options.move.path.delay) * 1e3;\n    const zIndexValue = getRangeValue(this.options.zIndex.value);\n    container2.retina.initParticle(this);\n    const sizeOptions = this.options.size,\n          sizeRange = sizeOptions.value,\n          sizeAnimation = sizeOptions.animation;\n    this.size = {\n      enable: sizeOptions.animation.enable,\n      value: getRangeValue(sizeOptions.value) * container2.retina.pixelRatio,\n      max: getRangeMax(sizeRange) * pxRatio,\n      min: getRangeMin(sizeRange) * pxRatio,\n      loops: 0,\n      maxLoops: getRangeValue(sizeOptions.animation.count)\n    };\n\n    if (sizeAnimation.enable) {\n      this.size.status = 0;\n      this.size.decay = 1 - getRangeValue(sizeAnimation.decay);\n\n      switch (sizeAnimation.startValue) {\n        case \"min\":\n          this.size.value = this.size.min;\n          this.size.status = 0;\n          break;\n\n        case \"random\":\n          this.size.value = randomInRange(this.size) * pxRatio;\n          this.size.status = Math.random() >= 0.5 ? 0 : 1;\n          break;\n\n        case \"max\":\n        default:\n          this.size.value = this.size.max;\n          this.size.status = 1;\n          break;\n      }\n\n      this.size.velocity = ((_f = this.retina.sizeAnimationSpeed) !== null && _f !== void 0 ? _f : container2.retina.sizeAnimationSpeed) / 100 * container2.retina.reduceFactor;\n\n      if (!sizeAnimation.sync) {\n        this.size.velocity *= Math.random();\n      }\n    }\n\n    this.bubble = {\n      inRange: false\n    };\n    this.position = this.calcPosition(container2, position, clamp(zIndexValue, 0, container2.zLayers));\n    this.initialPosition = this.position.copy();\n    const canvasSize = container2.canvas.size,\n          moveCenterPerc = this.options.move.center;\n    this.moveCenter = {\n      x: canvasSize.width * moveCenterPerc.x / 100,\n      y: canvasSize.height * moveCenterPerc.y / 100,\n      radius: this.options.move.center.radius\n    };\n    this.direction = getParticleDirectionAngle(this.options.move.direction, this.position, this.moveCenter);\n\n    switch (this.options.move.direction) {\n      case \"inside\":\n        this.outType = \"inside\";\n        break;\n\n      case \"outside\":\n        this.outType = \"outside\";\n        break;\n    }\n\n    this.initialVelocity = this.calculateVelocity();\n    this.velocity = this.initialVelocity.copy();\n    this.moveDecay = 1 - getRangeValue(this.options.move.decay);\n    this.offset = Vector.origin;\n    const particles2 = container2.particles;\n    particles2.needsSort = particles2.needsSort || particles2.lastZIndex < this.position.z;\n    particles2.lastZIndex = this.position.z;\n    this.zIndexFactor = this.position.z / container2.zLayers;\n    this.sides = 24;\n    let drawer = container2.drawers.get(this.shape);\n\n    if (!drawer) {\n      drawer = __classPrivateFieldGet$4(this, _Particle_engine, \"f\").plugins.getShapeDrawer(this.shape);\n\n      if (drawer) {\n        container2.drawers.set(this.shape, drawer);\n      }\n    }\n\n    if (drawer === null || drawer === void 0 ? void 0 : drawer.loadShape) {\n      drawer === null || drawer === void 0 ? void 0 : drawer.loadShape(this);\n    }\n\n    const sideCountFunc = drawer === null || drawer === void 0 ? void 0 : drawer.getSidesCount;\n\n    if (sideCountFunc) {\n      this.sides = sideCountFunc(this);\n    }\n\n    this.spawning = false;\n    this.shadowColor = rangeColorToRgb(this.options.shadow.color);\n\n    for (const updater of container2.particles.updaters) {\n      if (updater.init) {\n        updater.init(this);\n      }\n    }\n\n    for (const mover of container2.particles.movers) {\n      if (mover.init) {\n        mover.init(this);\n      }\n    }\n\n    if (drawer && drawer.particleInit) {\n      drawer.particleInit(container2, this);\n    }\n\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.particleCreated) {\n        plugin.particleCreated(this);\n      }\n    }\n  }\n\n  destroy(override) {\n    if (this.unbreakable || this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n    this.bubble.inRange = false;\n\n    for (const [, plugin] of this.container.plugins) {\n      if (plugin.particleDestroyed) {\n        plugin.particleDestroyed(this, override);\n      }\n    }\n\n    if (override) {\n      return;\n    }\n\n    const destroyOptions = this.options.destroy;\n\n    if (destroyOptions.mode === \"split\") {\n      this.split();\n    }\n  }\n\n  draw(delta) {\n    const container2 = this.container;\n\n    for (const [, plugin] of container2.plugins) {\n      container2.canvas.drawParticlePlugin(plugin, this, delta);\n    }\n\n    container2.canvas.drawParticle(this, delta);\n  }\n\n  getFillColor() {\n    var _a, _b;\n\n    const color = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.color);\n\n    if (color && this.roll && (this.backColor || this.roll.alter)) {\n      const backFactor = this.roll.horizontal && this.roll.vertical ? 2 : 1,\n            backSum = this.roll.horizontal ? Math.PI / 2 : 0,\n            rolled = Math.floor((((_b = this.roll.angle) !== null && _b !== void 0 ? _b : 0) + backSum) / (Math.PI / backFactor)) % 2;\n\n      if (rolled) {\n        if (this.backColor) {\n          return this.backColor;\n        }\n\n        if (this.roll.alter) {\n          return alterHsl(color, this.roll.alter.type, this.roll.alter.value);\n        }\n      }\n    }\n\n    return color;\n  }\n\n  getMass() {\n    return this.getRadius() ** 2 * Math.PI / 2;\n  }\n\n  getPosition() {\n    return {\n      x: this.position.x + this.offset.x,\n      y: this.position.y + this.offset.y,\n      z: this.position.z\n    };\n  }\n\n  getRadius() {\n    var _a;\n\n    return (_a = this.bubble.radius) !== null && _a !== void 0 ? _a : this.size.value;\n  }\n\n  getStrokeColor() {\n    var _a, _b;\n\n    return (_b = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.strokeColor)) !== null && _b !== void 0 ? _b : this.getFillColor();\n  }\n\n  isInsideCanvas() {\n    const radius = this.getRadius(),\n          canvasSize = this.container.canvas.size;\n    return this.position.x >= -radius && this.position.y >= -radius && this.position.y <= canvasSize.height + radius && this.position.x <= canvasSize.width + radius;\n  }\n\n  isVisible() {\n    return !this.destroyed && !this.spawning && this.isInsideCanvas();\n  }\n\n  reset() {\n    if (this.opacity) {\n      this.opacity.loops = 0;\n    }\n\n    this.size.loops = 0;\n  }\n\n  calcPosition(container2, position, zIndex, tryCount = 0) {\n    var _a, _b, _c, _d;\n\n    for (const [, plugin] of container2.plugins) {\n      const pluginPos = plugin.particlePosition !== void 0 ? plugin.particlePosition(position, this) : void 0;\n\n      if (pluginPos !== void 0) {\n        return Vector3d.create(pluginPos.x, pluginPos.y, zIndex);\n      }\n    }\n\n    const canvasSize = container2.canvas.size,\n          exactPosition = calcExactPositionOrRandomFromSize({\n      size: canvasSize,\n      position\n    }),\n          pos = Vector3d.create(exactPosition.x, exactPosition.y, zIndex),\n          radius = this.getRadius(),\n          outModes = this.options.move.outModes,\n          fixHorizontal = outMode => {\n      fixOutMode({\n        outMode,\n        checkModes: [\"bounce\", \"bounce-horizontal\"],\n        coord: pos.x,\n        maxCoord: container2.canvas.size.width,\n        setCb: value => pos.x += value,\n        radius\n      });\n    },\n          fixVertical = outMode => {\n      fixOutMode({\n        outMode,\n        checkModes: [\"bounce\", \"bounce-vertical\"],\n        coord: pos.y,\n        maxCoord: container2.canvas.size.height,\n        setCb: value => pos.y += value,\n        radius\n      });\n    };\n\n    fixHorizontal((_a = outModes.left) !== null && _a !== void 0 ? _a : outModes.default);\n    fixHorizontal((_b = outModes.right) !== null && _b !== void 0 ? _b : outModes.default);\n    fixVertical((_c = outModes.top) !== null && _c !== void 0 ? _c : outModes.default);\n    fixVertical((_d = outModes.bottom) !== null && _d !== void 0 ? _d : outModes.default);\n\n    if (this.checkOverlap(pos, tryCount)) {\n      return this.calcPosition(container2, void 0, zIndex, tryCount + 1);\n    }\n\n    return pos;\n  }\n\n  calculateVelocity() {\n    const baseVelocity = getParticleBaseVelocity(this.direction);\n    const res = baseVelocity.copy();\n    const moveOptions = this.options.move;\n\n    if (moveOptions.direction === \"inside\" || moveOptions.direction === \"outside\") {\n      return res;\n    }\n\n    const rad = Math.PI / 180 * getRangeValue(moveOptions.angle.value);\n    const radOffset = Math.PI / 180 * getRangeValue(moveOptions.angle.offset);\n    const range = {\n      left: radOffset - rad / 2,\n      right: radOffset + rad / 2\n    };\n\n    if (!moveOptions.straight) {\n      res.angle += randomInRange(setRangeValue(range.left, range.right));\n    }\n\n    if (moveOptions.random && typeof moveOptions.speed === \"number\") {\n      res.length *= Math.random();\n    }\n\n    return res;\n  }\n\n  checkOverlap(pos, tryCount = 0) {\n    const collisionsOptions = this.options.collisions,\n          radius = this.getRadius();\n\n    if (!collisionsOptions.enable) {\n      return false;\n    }\n\n    const overlapOptions = collisionsOptions.overlap;\n\n    if (overlapOptions.enable) {\n      return false;\n    }\n\n    const retries = overlapOptions.retries;\n\n    if (retries >= 0 && tryCount > retries) {\n      throw new Error(\"Particle is overlapping and can't be placed\");\n    }\n\n    let overlaps = false;\n\n    for (const particle of this.container.particles.array) {\n      if (getDistance(pos, particle.position) < radius + particle.getRadius()) {\n        overlaps = true;\n        break;\n      }\n    }\n\n    return overlaps;\n  }\n\n  loadShapeData(shapeOptions, reduceDuplicates) {\n    const shapeData = shapeOptions.options[this.shape];\n\n    if (shapeData) {\n      return deepExtend({}, shapeData instanceof Array ? itemFromArray(shapeData, this.id, reduceDuplicates) : shapeData);\n    }\n  }\n\n  split() {\n    const splitOptions = this.options.destroy.split;\n\n    if (splitOptions.count >= 0 && this.splitCount++ > splitOptions.count) {\n      return;\n    }\n\n    const rate = getValue(splitOptions.rate),\n          particlesSplitOptions = splitOptions.particles instanceof Array ? itemFromArray(splitOptions.particles) : splitOptions.particles;\n\n    for (let i = 0; i < rate; i++) {\n      this.container.particles.addSplitParticle(this, particlesSplitOptions);\n    }\n  }\n\n}\n\n_Particle_engine = /* @__PURE__ */new WeakMap();\n\nclass Point {\n  constructor(position, particle) {\n    this.position = position;\n    this.particle = particle;\n  }\n\n}\n\nclass Range {\n  constructor(x, y) {\n    this.position = {\n      x,\n      y\n    };\n  }\n\n}\n\nclass Circle extends Range {\n  constructor(x, y, radius) {\n    super(x, y);\n    this.radius = radius;\n  }\n\n  contains(point) {\n    return getDistance(point, this.position) <= this.radius;\n  }\n\n  intersects(range) {\n    const rect = range,\n          circle = range,\n          pos1 = this.position,\n          pos2 = range.position,\n          xDist = Math.abs(pos2.x - pos1.x),\n          yDist = Math.abs(pos2.y - pos1.y),\n          r = this.radius;\n\n    if (circle.radius !== void 0) {\n      const rSum = r + circle.radius,\n            dist = Math.sqrt(xDist * xDist + yDist + yDist);\n      return rSum > dist;\n    } else if (rect.size !== void 0) {\n      const w = rect.size.width,\n            h = rect.size.height,\n            edges = Math.pow(xDist - w, 2) + Math.pow(yDist - h, 2);\n\n      if (xDist > r + w || yDist > r + h) {\n        return false;\n      }\n\n      if (xDist <= w || yDist <= h) {\n        return true;\n      }\n\n      return edges <= r * r;\n    }\n\n    return false;\n  }\n\n}\n\nclass Rectangle extends Range {\n  constructor(x, y, width, height) {\n    super(x, y);\n    this.size = {\n      height,\n      width\n    };\n  }\n\n  contains(point) {\n    const w = this.size.width,\n          h = this.size.height,\n          pos = this.position;\n    return point.x >= pos.x && point.x <= pos.x + w && point.y >= pos.y && point.y <= pos.y + h;\n  }\n\n  intersects(range) {\n    const rect = range,\n          circle = range,\n          w = this.size.width,\n          h = this.size.height,\n          pos1 = this.position,\n          pos2 = range.position;\n\n    if (circle.radius !== void 0) {\n      return circle.intersects(this);\n    }\n\n    if (!rect.size) {\n      return false;\n    }\n\n    const size2 = rect.size,\n          w2 = size2.width,\n          h2 = size2.height;\n    return pos2.x < pos1.x + w && pos2.x + w2 > pos1.x && pos2.y < pos1.y + h && pos2.y + h2 > pos1.y;\n  }\n\n}\n\nclass CircleWarp extends Circle {\n  constructor(x, y, radius, canvasSize) {\n    super(x, y, radius);\n    this.canvasSize = canvasSize;\n    this.canvasSize = Object.assign({}, canvasSize);\n  }\n\n  contains(point) {\n    if (super.contains(point)) {\n      return true;\n    }\n\n    const posNE = {\n      x: point.x - this.canvasSize.width,\n      y: point.y\n    };\n\n    if (super.contains(posNE)) {\n      return true;\n    }\n\n    const posSE = {\n      x: point.x - this.canvasSize.width,\n      y: point.y - this.canvasSize.height\n    };\n\n    if (super.contains(posSE)) {\n      return true;\n    }\n\n    const posSW = {\n      x: point.x,\n      y: point.y - this.canvasSize.height\n    };\n    return super.contains(posSW);\n  }\n\n  intersects(range) {\n    if (super.intersects(range)) {\n      return true;\n    }\n\n    const rect = range,\n          circle = range,\n          newPos = {\n      x: range.position.x - this.canvasSize.width,\n      y: range.position.y - this.canvasSize.height\n    };\n\n    if (circle.radius !== void 0) {\n      const biggerCircle = new Circle(newPos.x, newPos.y, circle.radius * 2);\n      return super.intersects(biggerCircle);\n    } else if (rect.size !== void 0) {\n      const rectSW = new Rectangle(newPos.x, newPos.y, rect.size.width * 2, rect.size.height * 2);\n      return super.intersects(rectSW);\n    }\n\n    return false;\n  }\n\n}\n\nclass QuadTree {\n  constructor(rectangle, capacity) {\n    this.rectangle = rectangle;\n    this.capacity = capacity;\n    this.points = [];\n    this.divided = false;\n  }\n\n  insert(point) {\n    var _a, _b, _c, _d, _e;\n\n    if (!this.rectangle.contains(point.position)) {\n      return false;\n    }\n\n    if (this.points.length < this.capacity) {\n      this.points.push(point);\n      return true;\n    }\n\n    if (!this.divided) {\n      this.subdivide();\n    }\n\n    return (_e = ((_a = this.northEast) === null || _a === void 0 ? void 0 : _a.insert(point)) || ((_b = this.northWest) === null || _b === void 0 ? void 0 : _b.insert(point)) || ((_c = this.southEast) === null || _c === void 0 ? void 0 : _c.insert(point)) || ((_d = this.southWest) === null || _d === void 0 ? void 0 : _d.insert(point))) !== null && _e !== void 0 ? _e : false;\n  }\n\n  query(range, check, found) {\n    var _a, _b, _c, _d;\n\n    const res = found !== null && found !== void 0 ? found : [];\n\n    if (!range.intersects(this.rectangle)) {\n      return [];\n    }\n\n    for (const p of this.points) {\n      if (!range.contains(p.position) && getDistance(range.position, p.position) > p.particle.getRadius() && (!check || check(p.particle))) {\n        continue;\n      }\n\n      res.push(p.particle);\n    }\n\n    if (this.divided) {\n      (_a = this.northEast) === null || _a === void 0 ? void 0 : _a.query(range, check, res);\n      (_b = this.northWest) === null || _b === void 0 ? void 0 : _b.query(range, check, res);\n      (_c = this.southEast) === null || _c === void 0 ? void 0 : _c.query(range, check, res);\n      (_d = this.southWest) === null || _d === void 0 ? void 0 : _d.query(range, check, res);\n    }\n\n    return res;\n  }\n\n  queryCircle(position, radius, check) {\n    return this.query(new Circle(position.x, position.y, radius), check);\n  }\n\n  queryCircleWarp(position, radius, containerOrSize, check) {\n    const container2 = containerOrSize,\n          size = containerOrSize;\n    return this.query(new CircleWarp(position.x, position.y, radius, container2.canvas !== void 0 ? container2.canvas.size : size), check);\n  }\n\n  queryRectangle(position, size, check) {\n    return this.query(new Rectangle(position.x, position.y, size.width, size.height), check);\n  }\n\n  subdivide() {\n    const x = this.rectangle.position.x,\n          y = this.rectangle.position.y,\n          w = this.rectangle.size.width,\n          h = this.rectangle.size.height,\n          capacity = this.capacity;\n    this.northEast = new QuadTree(new Rectangle(x, y, w / 2, h / 2), capacity);\n    this.northWest = new QuadTree(new Rectangle(x + w / 2, y, w / 2, h / 2), capacity);\n    this.southEast = new QuadTree(new Rectangle(x, y + h / 2, w / 2, h / 2), capacity);\n    this.southWest = new QuadTree(new Rectangle(x + w / 2, y + h / 2, w / 2, h / 2), capacity);\n    this.divided = true;\n  }\n\n}\n\nvar __classPrivateFieldSet$4 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$3 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Particles_engine;\n\nclass Particles {\n  constructor(engine, container2) {\n    this.container = container2;\n\n    _Particles_engine.set(this, void 0);\n\n    __classPrivateFieldSet$4(this, _Particles_engine, engine, \"f\");\n\n    this.nextId = 0;\n    this.array = [];\n    this.zArray = [];\n    this.limit = 0;\n    this.needsSort = false;\n    this.lastZIndex = 0;\n    this.freqs = {\n      links: /* @__PURE__ */new Map(),\n      triangles: /* @__PURE__ */new Map()\n    };\n    this.interactionManager = new InteractionManager(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), container2);\n    const canvasSize = this.container.canvas.size;\n    this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, canvasSize.width * 3 / 2, canvasSize.height * 3 / 2), 4);\n    this.movers = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getMovers(container2, true);\n    this.updaters = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getUpdaters(container2, true);\n  }\n\n  get count() {\n    return this.array.length;\n  }\n\n  addManualParticles() {\n    const container2 = this.container,\n          options = container2.actualOptions;\n\n    for (const particle of options.manualParticles) {\n      this.addParticle(calcPositionFromSize({\n        size: container2.canvas.size,\n        position: particle.position\n      }), particle.options);\n    }\n  }\n\n  addParticle(position, overrideOptions, group) {\n    const container2 = this.container,\n          options = container2.actualOptions,\n          limit = options.particles.number.limit * container2.density;\n\n    if (limit > 0) {\n      const countToRemove = this.count + 1 - limit;\n\n      if (countToRemove > 0) {\n        this.removeQuantity(countToRemove);\n      }\n    }\n\n    return this.pushParticle(position, overrideOptions, group);\n  }\n\n  addSplitParticle(parent, splitParticlesOptions) {\n    const splitOptions = parent.options.destroy.split,\n          options = loadParticlesOptions(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), this.container, parent.options),\n          factor = getValue(splitOptions.factor);\n    options.color.load({\n      value: {\n        hsl: parent.getFillColor()\n      }\n    });\n\n    if (typeof options.size.value === \"number\") {\n      options.size.value /= factor;\n    } else {\n      options.size.value.min /= factor;\n      options.size.value.max /= factor;\n    }\n\n    options.load(splitParticlesOptions);\n    const offset = splitOptions.sizeOffset ? setRangeValue(-parent.size.value, parent.size.value) : 0,\n          position = {\n      x: parent.position.x + randomInRange(offset),\n      y: parent.position.y + randomInRange(offset)\n    };\n    return this.pushParticle(position, options, parent.group, particle => {\n      if (particle.size.value < 0.5) {\n        return false;\n      }\n\n      particle.velocity.length = randomInRange(setRangeValue(parent.velocity.length, particle.velocity.length));\n      particle.splitCount = parent.splitCount + 1;\n      particle.unbreakable = true;\n      setTimeout(() => {\n        particle.unbreakable = false;\n      }, 500);\n      return true;\n    });\n  }\n\n  clear() {\n    this.array = [];\n    this.zArray = [];\n  }\n\n  destroy() {\n    this.array = [];\n    this.zArray = [];\n    this.movers = [];\n    this.updaters = [];\n  }\n\n  async draw(delta) {\n    const container2 = this.container,\n          canvasSize = this.container.canvas.size;\n    this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, canvasSize.width * 3 / 2, canvasSize.height * 3 / 2), 4);\n    container2.canvas.clear();\n    await this.update(delta);\n\n    if (this.needsSort) {\n      this.zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n      this.lastZIndex = this.zArray[this.zArray.length - 1].position.z;\n      this.needsSort = false;\n    }\n\n    for (const [, plugin] of container2.plugins) {\n      container2.canvas.drawPlugin(plugin, delta);\n    }\n\n    for (const p of this.zArray) {\n      p.draw(delta);\n    }\n  }\n\n  getLinkFrequency(p1, p2) {\n    const range = setRangeValue(p1.id, p2.id),\n          key = `${getRangeMin(range)}_${getRangeMax(range)}`;\n    let res = this.freqs.links.get(key);\n\n    if (res === void 0) {\n      res = Math.random();\n      this.freqs.links.set(key, res);\n    }\n\n    return res;\n  }\n\n  getTriangleFrequency(p1, p2, p3) {\n    let [id1, id2, id3] = [p1.id, p2.id, p3.id];\n\n    if (id1 > id2) {\n      [id2, id1] = [id1, id2];\n    }\n\n    if (id2 > id3) {\n      [id3, id2] = [id2, id3];\n    }\n\n    if (id1 > id3) {\n      [id3, id1] = [id1, id3];\n    }\n\n    const key = `${id1}_${id2}_${id3}`;\n    let res = this.freqs.triangles.get(key);\n\n    if (res === void 0) {\n      res = Math.random();\n      this.freqs.triangles.set(key, res);\n    }\n\n    return res;\n  }\n\n  handleClickMode(mode) {\n    this.interactionManager.handleClickMode(mode);\n  }\n\n  init() {\n    var _a;\n\n    const container2 = this.container,\n          options = container2.actualOptions;\n    this.lastZIndex = 0;\n    this.needsSort = false;\n    this.freqs.links = /* @__PURE__ */new Map();\n    this.freqs.triangles = /* @__PURE__ */new Map();\n    let handled = false;\n    this.updaters = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getUpdaters(container2, true);\n    this.interactionManager.init();\n\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.particlesInitialization !== void 0) {\n        handled = plugin.particlesInitialization();\n      }\n\n      if (handled) {\n        break;\n      }\n    }\n\n    this.addManualParticles();\n\n    if (!handled) {\n      for (const group in options.particles.groups) {\n        const groupOptions = options.particles.groups[group];\n\n        for (let i = this.count, j = 0; j < ((_a = groupOptions.number) === null || _a === void 0 ? void 0 : _a.value) && i < options.particles.number.value; i++, j++) {\n          this.addParticle(void 0, groupOptions, group);\n        }\n      }\n\n      for (let i = this.count; i < options.particles.number.value; i++) {\n        this.addParticle();\n      }\n    }\n\n    this.interactionManager.init();\n    container2.pathGenerator.init(container2);\n  }\n\n  push(nb, mouse, overrideOptions, group) {\n    this.pushing = true;\n\n    for (let i = 0; i < nb; i++) {\n      this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions, group);\n    }\n\n    this.pushing = false;\n  }\n\n  async redraw() {\n    this.clear();\n    this.init();\n    await this.draw({\n      value: 0,\n      factor: 0\n    });\n  }\n\n  remove(particle, group, override) {\n    this.removeAt(this.array.indexOf(particle), void 0, group, override);\n  }\n\n  removeAt(index, quantity = 1, group, override) {\n    if (!(index >= 0 && index <= this.count)) {\n      return;\n    }\n\n    let deleted = 0;\n\n    for (let i = index; deleted < quantity && i < this.count; i++) {\n      const particle = this.array[i];\n\n      if (!particle || particle.group !== group) {\n        continue;\n      }\n\n      particle.destroy(override);\n      this.array.splice(i--, 1);\n      const zIdx = this.zArray.indexOf(particle);\n      this.zArray.splice(zIdx, 1);\n      deleted++;\n\n      __classPrivateFieldGet$3(this, _Particles_engine, \"f\").dispatchEvent(\"particleRemoved\", {\n        container: this.container,\n        data: {\n          particle\n        }\n      });\n    }\n  }\n\n  removeQuantity(quantity, group) {\n    this.removeAt(0, quantity, group);\n  }\n\n  setDensity() {\n    const options = this.container.actualOptions;\n\n    for (const group in options.particles.groups) {\n      this.applyDensity(options.particles.groups[group], 0, group);\n    }\n\n    this.applyDensity(options.particles, options.manualParticles.length);\n  }\n\n  async update(delta) {\n    const container2 = this.container,\n          particlesToDelete = [];\n    container2.pathGenerator.update();\n\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.update) {\n        plugin.update(delta);\n      }\n    }\n\n    for (const particle of this.array) {\n      const resizeFactor = container2.canvas.resizeFactor;\n\n      if (resizeFactor && !particle.ignoresResizeRatio) {\n        particle.position.x *= resizeFactor.width;\n        particle.position.y *= resizeFactor.height;\n      }\n\n      particle.ignoresResizeRatio = false;\n      await this.interactionManager.reset(particle);\n\n      for (const [, plugin] of this.container.plugins) {\n        if (particle.destroyed) {\n          break;\n        }\n\n        if (plugin.particleUpdate) {\n          plugin.particleUpdate(particle, delta);\n        }\n      }\n\n      for (const mover of this.movers) {\n        if (mover.isEnabled(particle)) {\n          mover.move(particle, delta);\n        }\n      }\n\n      if (particle.destroyed) {\n        particlesToDelete.push(particle);\n        continue;\n      }\n\n      this.quadTree.insert(new Point(particle.getPosition(), particle));\n    }\n\n    for (const particle of particlesToDelete) {\n      this.remove(particle);\n    }\n\n    await this.interactionManager.externalInteract(delta);\n\n    for (const particle of container2.particles.array) {\n      for (const updater of this.updaters) {\n        updater.update(particle, delta);\n      }\n\n      if (!particle.destroyed && !particle.spawning) {\n        await this.interactionManager.particlesInteract(particle, delta);\n      }\n    }\n\n    delete container2.canvas.resizeFactor;\n  }\n\n  applyDensity(options, manualCount, group) {\n    var _a;\n\n    if (!((_a = options.number.density) === null || _a === void 0 ? void 0 : _a.enable)) {\n      return;\n    }\n\n    const numberOptions = options.number,\n          densityFactor = this.initDensityFactor(numberOptions.density),\n          optParticlesNumber = numberOptions.value,\n          optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber,\n          particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount,\n          particlesCount = Math.min(this.count, this.array.filter(t => t.group === group).length);\n    this.limit = numberOptions.limit * densityFactor;\n\n    if (particlesCount < particlesNumber) {\n      this.push(Math.abs(particlesNumber - particlesCount), void 0, options, group);\n    } else if (particlesCount > particlesNumber) {\n      this.removeQuantity(particlesCount - particlesNumber, group);\n    }\n  }\n\n  initDensityFactor(densityOptions) {\n    const container2 = this.container;\n\n    if (!container2.canvas.element || !densityOptions.enable) {\n      return 1;\n    }\n\n    const canvas = container2.canvas.element,\n          pxRatio = container2.retina.pixelRatio;\n    return canvas.width * canvas.height / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);\n  }\n\n  pushParticle(position, overrideOptions, group, initializer) {\n    try {\n      const particle = new Particle(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), this.nextId, this.container, position, overrideOptions, group);\n      let canAdd = true;\n\n      if (initializer) {\n        canAdd = initializer(particle);\n      }\n\n      if (!canAdd) {\n        return;\n      }\n\n      this.array.push(particle);\n      this.zArray.push(particle);\n      this.nextId++;\n\n      __classPrivateFieldGet$3(this, _Particles_engine, \"f\").dispatchEvent(\"particleAdded\", {\n        container: this.container,\n        data: {\n          particle\n        }\n      });\n\n      return particle;\n    } catch (e) {\n      console.warn(`error adding particle: ${e}`);\n      return;\n    }\n  }\n\n}\n\n_Particles_engine = /* @__PURE__ */new WeakMap();\n\nclass Retina {\n  constructor(container2) {\n    this.container = container2;\n  }\n\n  init() {\n    const container2 = this.container,\n          options = container2.actualOptions;\n    this.pixelRatio = !options.detectRetina || isSsr() ? 1 : window.devicePixelRatio;\n    const motionOptions = this.container.actualOptions.motion;\n\n    if (motionOptions && (motionOptions.disable || motionOptions.reduce.value)) {\n      if (isSsr() || typeof matchMedia === \"undefined\" || !matchMedia) {\n        this.reduceFactor = 1;\n      } else {\n        const mediaQuery = matchMedia(\"(prefers-reduced-motion: reduce)\");\n\n        if (mediaQuery) {\n          this.handleMotionChange(mediaQuery);\n\n          const handleChange = () => {\n            this.handleMotionChange(mediaQuery);\n            container2.refresh().catch(() => {});\n          };\n\n          if (mediaQuery.addEventListener !== void 0) {\n            mediaQuery.addEventListener(\"change\", handleChange);\n          } else if (mediaQuery.addListener !== void 0) {\n            mediaQuery.addListener(handleChange);\n          }\n        }\n      }\n    } else {\n      this.reduceFactor = 1;\n    }\n\n    const ratio = this.pixelRatio;\n\n    if (container2.canvas.element) {\n      const element = container2.canvas.element;\n      container2.canvas.size.width = element.offsetWidth * ratio;\n      container2.canvas.size.height = element.offsetHeight * ratio;\n    }\n\n    const particles2 = options.particles;\n    this.attractDistance = getRangeValue(particles2.move.attract.distance) * ratio;\n    this.linksDistance = particles2.links.distance * ratio;\n    this.linksWidth = particles2.links.width * ratio;\n    this.sizeAnimationSpeed = getRangeValue(particles2.size.animation.speed) * ratio;\n    this.maxSpeed = getRangeValue(particles2.move.gravity.maxSpeed) * ratio;\n    const modes = options.interactivity.modes;\n    this.connectModeDistance = modes.connect.distance * ratio;\n    this.connectModeRadius = modes.connect.radius * ratio;\n    this.grabModeDistance = modes.grab.distance * ratio;\n    this.repulseModeDistance = modes.repulse.distance * ratio;\n    this.bounceModeDistance = modes.bounce.distance * ratio;\n    this.attractModeDistance = modes.attract.distance * ratio;\n    this.slowModeRadius = modes.slow.radius * ratio;\n    this.bubbleModeDistance = modes.bubble.distance * ratio;\n\n    if (modes.bubble.size) {\n      this.bubbleModeSize = modes.bubble.size * ratio;\n    }\n  }\n\n  initParticle(particle) {\n    const options = particle.options,\n          ratio = this.pixelRatio,\n          moveDistance = options.move.distance,\n          props = particle.retina;\n    props.attractDistance = getRangeValue(options.move.attract.distance) * ratio;\n    props.linksDistance = options.links.distance * ratio;\n    props.linksWidth = options.links.width * ratio;\n    props.moveDrift = getRangeValue(options.move.drift) * ratio;\n    props.moveSpeed = getRangeValue(options.move.speed) * ratio;\n    props.sizeAnimationSpeed = getRangeValue(options.size.animation.speed) * ratio;\n    const maxDistance = props.maxDistance;\n    maxDistance.horizontal = moveDistance.horizontal !== void 0 ? moveDistance.horizontal * ratio : void 0;\n    maxDistance.vertical = moveDistance.vertical !== void 0 ? moveDistance.vertical * ratio : void 0;\n    props.maxSpeed = getRangeValue(options.move.gravity.maxSpeed) * ratio;\n  }\n\n  handleMotionChange(mediaQuery) {\n    const options = this.container.actualOptions;\n\n    if (mediaQuery.matches) {\n      const motion = options.motion;\n      this.reduceFactor = motion.disable ? 0 : motion.reduce.value ? 1 / motion.reduce.factor : 1;\n    } else {\n      this.reduceFactor = 1;\n    }\n  }\n\n}\n\nvar __classPrivateFieldSet$3 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$2 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Container_engine, _Container_eventListeners;\n\nfunction guardCheck(container2) {\n  return !container2.destroyed;\n}\n\nfunction loadContainerOptions(engine, container2, ...sourceOptionsArr) {\n  const options = new Options(engine, container2);\n  loadOptions(options, ...sourceOptionsArr);\n  return options;\n}\n\nclass Container {\n  constructor(engine, id, sourceOptions) {\n    this.id = id;\n\n    _Container_engine.set(this, void 0);\n\n    _Container_eventListeners.set(this, void 0);\n\n    __classPrivateFieldSet$3(this, _Container_engine, engine, \"f\");\n\n    this.fpsLimit = 120;\n    this.duration = 0;\n    this.lifeTime = 0;\n    this.firstStart = true;\n    this.started = false;\n    this.destroyed = false;\n    this.paused = true;\n    this.lastFrameTime = 0;\n    this.zLayers = 100;\n    this.pageHidden = false;\n    this._sourceOptions = sourceOptions;\n    this._initialSourceOptions = sourceOptions;\n    this.retina = new Retina(this);\n    this.canvas = new Canvas(this);\n    this.particles = new Particles(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    this.drawer = new FrameManager(this);\n    this.pathGenerator = {\n      generate: p => {\n        const v = p.velocity.copy();\n        v.angle += v.length * Math.PI / 180;\n        return v;\n      },\n      init: () => {},\n      update: () => {}\n    };\n    this.interactivity = {\n      mouse: {\n        clicking: false,\n        inside: false\n      }\n    };\n    this.plugins = /* @__PURE__ */new Map();\n    this.drawers = /* @__PURE__ */new Map();\n    this.density = 1;\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    this.actualOptions = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n\n    __classPrivateFieldSet$3(this, _Container_eventListeners, new EventListeners(this), \"f\");\n\n    if (typeof IntersectionObserver !== \"undefined\" && IntersectionObserver) {\n      this.intersectionObserver = new IntersectionObserver(entries => this.intersectionManager(entries));\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerBuilt\", {\n      container: this\n    });\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  get sourceOptions() {\n    return this._sourceOptions;\n  }\n\n  addClickHandler(callback) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    const el = this.interactivity.element;\n\n    if (!el) {\n      return;\n    }\n\n    const clickOrTouchHandler = (e, pos, radius) => {\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      const pxRatio = this.retina.pixelRatio,\n            posRetina = {\n        x: pos.x * pxRatio,\n        y: pos.y * pxRatio\n      },\n            particles2 = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n      callback(e, particles2);\n    };\n\n    const clickHandler = e => {\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      const mouseEvent = e,\n            pos = {\n        x: mouseEvent.offsetX || mouseEvent.clientX,\n        y: mouseEvent.offsetY || mouseEvent.clientY\n      };\n      clickOrTouchHandler(e, pos, 1);\n    };\n\n    const touchStartHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      touched = true;\n      touchMoved = false;\n    };\n\n    const touchMoveHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      touchMoved = true;\n    };\n\n    const touchEndHandler = e => {\n      var _a, _b, _c;\n\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      if (touched && !touchMoved) {\n        const touchEvent = e;\n        let lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\n\n        if (!lastTouch) {\n          lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - 1];\n\n          if (!lastTouch) {\n            return;\n          }\n        }\n\n        const canvasRect = (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect(),\n              pos = {\n          x: lastTouch.clientX - ((_b = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _b !== void 0 ? _b : 0),\n          y: lastTouch.clientY - ((_c = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _c !== void 0 ? _c : 0)\n        };\n        clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n      }\n\n      touched = false;\n      touchMoved = false;\n    };\n\n    const touchCancelHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n\n      touched = false;\n      touchMoved = false;\n    };\n\n    let touched = false;\n    let touchMoved = false;\n    el.addEventListener(\"click\", clickHandler);\n    el.addEventListener(\"touchstart\", touchStartHandler);\n    el.addEventListener(\"touchmove\", touchMoveHandler);\n    el.addEventListener(\"touchend\", touchEndHandler);\n    el.addEventListener(\"touchcancel\", touchCancelHandler);\n  }\n\n  destroy() {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this.stop();\n    this.particles.destroy();\n    this.canvas.destroy();\n\n    for (const [, drawer] of this.drawers) {\n      if (drawer.destroy) {\n        drawer.destroy(this);\n      }\n    }\n\n    for (const key of this.drawers.keys()) {\n      this.drawers.delete(key);\n    }\n\n    this.destroyed = true;\n\n    const mainArr = __classPrivateFieldGet$2(this, _Container_engine, \"f\").dom(),\n          idx = mainArr.findIndex(t => t === this);\n\n    if (idx >= 0) {\n      mainArr.splice(idx, 1);\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerDestroyed\", {\n      container: this\n    });\n  }\n\n  draw(force) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    let refreshTime = force;\n    this.drawAnimationFrame = animate()(async timestamp => {\n      if (refreshTime) {\n        this.lastFrameTime = void 0;\n        refreshTime = false;\n      }\n\n      await this.drawer.nextFrame(timestamp);\n    });\n  }\n\n  exportConfiguration() {\n    return JSON.stringify(this.actualOptions, void 0, 2);\n  }\n\n  exportImage(callback, type, quality) {\n    var _a;\n\n    return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\n  }\n\n  exportImg(callback) {\n    this.exportImage(callback);\n  }\n\n  getAnimationStatus() {\n    return !this.paused && !this.pageHidden && guardCheck(this);\n  }\n\n  handleClickMode(mode) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this.particles.handleClickMode(mode);\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.handleClickMode) {\n        plugin.handleClickMode(mode);\n      }\n    }\n  }\n\n  async init() {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    const shapes = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getSupportedShapes();\n\n    for (const type of shapes) {\n      const drawer = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getShapeDrawer(type);\n\n      if (drawer) {\n        this.drawers.set(type, drawer);\n      }\n    }\n\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this, this._initialSourceOptions, this.sourceOptions);\n    this.actualOptions = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this, this._options);\n    this.retina.init();\n    this.canvas.init();\n    this.updateActualOptions();\n    this.canvas.initBackground();\n    this.canvas.resize();\n    this.zLayers = this.actualOptions.zLayers;\n    this.duration = getRangeValue(this.actualOptions.duration);\n    this.lifeTime = 0;\n    this.fpsLimit = this.actualOptions.fpsLimit > 0 ? this.actualOptions.fpsLimit : 120;\n\n    const availablePlugins = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getAvailablePlugins(this);\n\n    for (const [id, plugin] of availablePlugins) {\n      this.plugins.set(id, plugin);\n    }\n\n    for (const [, drawer] of this.drawers) {\n      if (drawer.init) {\n        await drawer.init(this);\n      }\n    }\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.init) {\n        plugin.init(this.actualOptions);\n      } else if (plugin.initAsync !== void 0) {\n        await plugin.initAsync(this.actualOptions);\n      }\n    }\n\n    const pathOptions = this.actualOptions.particles.move.path;\n\n    if (pathOptions.generator) {\n      this.setPath(__classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getPathGenerator(pathOptions.generator));\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerInit\", {\n      container: this\n    });\n\n    this.particles.init();\n    this.particles.setDensity();\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.particlesSetup !== void 0) {\n        plugin.particlesSetup();\n      }\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"particlesSetup\", {\n      container: this\n    });\n  }\n\n  async loadTheme(name) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this.currentTheme = name;\n    await this.refresh();\n  }\n\n  pause() {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    if (this.drawAnimationFrame !== void 0) {\n      cancelAnimation()(this.drawAnimationFrame);\n      delete this.drawAnimationFrame;\n    }\n\n    if (this.paused) {\n      return;\n    }\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.pause) {\n        plugin.pause();\n      }\n    }\n\n    if (!this.pageHidden) {\n      this.paused = true;\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerPaused\", {\n      container: this\n    });\n  }\n\n  play(force) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    const needsUpdate = this.paused || force;\n\n    if (this.firstStart && !this.actualOptions.autoPlay) {\n      this.firstStart = false;\n      return;\n    }\n\n    if (this.paused) {\n      this.paused = false;\n    }\n\n    if (needsUpdate) {\n      for (const [, plugin] of this.plugins) {\n        if (plugin.play) {\n          plugin.play();\n        }\n      }\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerPlay\", {\n      container: this\n    });\n\n    this.draw(needsUpdate || false);\n  }\n\n  async refresh() {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this.stop();\n    return this.start();\n  }\n\n  async reset() {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    return this.refresh();\n  }\n\n  setNoise(noiseOrGenerator, init, update) {\n    if (!guardCheck(this)) {\n      return;\n    }\n\n    this.setPath(noiseOrGenerator, init, update);\n  }\n\n  setPath(pathOrGenerator, init, update) {\n    var _a, _b, _c;\n\n    if (!pathOrGenerator || !guardCheck(this)) {\n      return;\n    }\n\n    if (typeof pathOrGenerator === \"function\") {\n      this.pathGenerator.generate = pathOrGenerator;\n\n      if (init) {\n        this.pathGenerator.init = init;\n      }\n\n      if (update) {\n        this.pathGenerator.update = update;\n      }\n    } else {\n      const oldGenerator = this.pathGenerator;\n      this.pathGenerator = pathOrGenerator;\n      (_a = this.pathGenerator).generate || (_a.generate = oldGenerator.generate);\n      (_b = this.pathGenerator).init || (_b.init = oldGenerator.init);\n      (_c = this.pathGenerator).update || (_c.update = oldGenerator.update);\n    }\n  }\n\n  async start() {\n    if (this.started || !guardCheck(this)) {\n      return;\n    }\n\n    await this.init();\n    this.started = true;\n\n    __classPrivateFieldGet$2(this, _Container_eventListeners, \"f\").addListeners();\n\n    if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\n      this.intersectionObserver.observe(this.interactivity.element);\n    }\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.startAsync !== void 0) {\n        await plugin.startAsync();\n      } else if (plugin.start !== void 0) {\n        plugin.start();\n      }\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerStarted\", {\n      container: this\n    });\n\n    this.play();\n  }\n\n  stop() {\n    if (!this.started || !guardCheck(this)) {\n      return;\n    }\n\n    this.firstStart = true;\n    this.started = false;\n\n    __classPrivateFieldGet$2(this, _Container_eventListeners, \"f\").removeListeners();\n\n    this.pause();\n    this.particles.clear();\n    this.canvas.clear();\n\n    if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\n      this.intersectionObserver.unobserve(this.interactivity.element);\n    }\n\n    for (const [, plugin] of this.plugins) {\n      if (plugin.stop) {\n        plugin.stop();\n      }\n    }\n\n    for (const key of this.plugins.keys()) {\n      this.plugins.delete(key);\n    }\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.destroy(this);\n\n    delete this.particles.grabLineColor;\n    this._sourceOptions = this._options;\n\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerStopped\", {\n      container: this\n    });\n  }\n\n  updateActualOptions() {\n    this.actualOptions.responsive = [];\n    const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n    this.actualOptions.setTheme(this.currentTheme);\n\n    if (this.responsiveMaxWidth != newMaxWidth) {\n      this.responsiveMaxWidth = newMaxWidth;\n      return true;\n    }\n\n    return false;\n  }\n\n  intersectionManager(entries) {\n    if (!this.actualOptions.pauseOnOutsideViewport) {\n      return;\n    }\n\n    for (const entry of entries) {\n      if (entry.target !== this.interactivity.element) {\n        continue;\n      }\n\n      if (entry.isIntersecting) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    }\n  }\n\n}\n\n_Container_engine = /* @__PURE__ */new WeakMap(), _Container_eventListeners = /* @__PURE__ */new WeakMap();\n\nvar __classPrivateFieldSet$2 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet$1 = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Loader_engine;\n\nfunction fetchError(statusCode) {\n  console.error(`Error tsParticles - fetch status: ${statusCode}`);\n  console.error(\"Error tsParticles - File config not found\");\n}\n\nasync function getDataFromUrl(jsonUrl, index) {\n  const url = jsonUrl instanceof Array ? itemFromArray(jsonUrl, index) : jsonUrl;\n\n  if (!url) {\n    return;\n  }\n\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    fetchError(response.status);\n    return;\n  }\n\n  return response.json();\n}\n\nclass Loader {\n  constructor(engine) {\n    _Loader_engine.set(this, void 0);\n\n    __classPrivateFieldSet$2(this, _Loader_engine, engine, \"f\");\n  }\n\n  load(tagId, options, index) {\n    const params = {\n      index,\n      remote: false\n    };\n\n    if (typeof tagId === \"string\") {\n      params.tagId = tagId;\n    } else {\n      params.options = tagId;\n    }\n\n    if (typeof options === \"number\") {\n      params.index = options;\n    } else {\n      params.options = options !== null && options !== void 0 ? options : params.options;\n    }\n\n    return this.loadOptions(params);\n  }\n\n  async loadJSON(tagId, jsonUrl, index) {\n    let url, id;\n\n    if (typeof jsonUrl === \"number\" || jsonUrl === void 0) {\n      url = tagId;\n    } else {\n      id = tagId;\n      url = jsonUrl;\n    }\n\n    return this.loadRemoteOptions({\n      tagId: id,\n      url,\n      index,\n      remote: true\n    });\n  }\n\n  async loadOptions(params) {\n    var _a, _b, _c;\n\n    const tagId = (_a = params.tagId) !== null && _a !== void 0 ? _a : `tsparticles${Math.floor(Math.random() * 1e4)}`,\n          {\n      index,\n      url: jsonUrl,\n      remote\n    } = params,\n          options = remote ? await getDataFromUrl(jsonUrl, index) : params.options;\n    let domContainer = (_b = params.element) !== null && _b !== void 0 ? _b : document.getElementById(tagId);\n\n    if (!domContainer) {\n      domContainer = document.createElement(\"div\");\n      domContainer.id = tagId;\n      (_c = document.querySelector(\"body\")) === null || _c === void 0 ? void 0 : _c.append(domContainer);\n    }\n\n    const currentOptions = options instanceof Array ? itemFromArray(options, index) : options,\n          dom = __classPrivateFieldGet$1(this, _Loader_engine, \"f\").dom(),\n          oldIndex = dom.findIndex(v => v.id === tagId);\n\n    if (oldIndex >= 0) {\n      const old = __classPrivateFieldGet$1(this, _Loader_engine, \"f\").domItem(oldIndex);\n\n      if (old && !old.destroyed) {\n        old.destroy();\n        dom.splice(oldIndex, 1);\n      }\n    }\n\n    let canvasEl;\n\n    if (domContainer.tagName.toLowerCase() === \"canvas\") {\n      canvasEl = domContainer;\n      canvasEl.dataset[generatedAttribute] = \"false\";\n    } else {\n      const existingCanvases = domContainer.getElementsByTagName(\"canvas\");\n\n      if (existingCanvases.length) {\n        canvasEl = existingCanvases[0];\n        canvasEl.dataset[generatedAttribute] = \"false\";\n      } else {\n        canvasEl = document.createElement(\"canvas\");\n        canvasEl.dataset[generatedAttribute] = \"true\";\n        domContainer.appendChild(canvasEl);\n      }\n    }\n\n    if (!canvasEl.style.width) {\n      canvasEl.style.width = \"100%\";\n    }\n\n    if (!canvasEl.style.height) {\n      canvasEl.style.height = \"100%\";\n    }\n\n    const newItem = new Container(__classPrivateFieldGet$1(this, _Loader_engine, \"f\"), tagId, currentOptions);\n\n    if (oldIndex >= 0) {\n      dom.splice(oldIndex, 0, newItem);\n    } else {\n      dom.push(newItem);\n    }\n\n    newItem.canvas.loadCanvas(canvasEl);\n    await newItem.start();\n    return newItem;\n  }\n\n  async loadRemoteOptions(params) {\n    return this.loadOptions(params);\n  }\n\n  async set(id, domContainer, options, index) {\n    const params = {\n      index,\n      remote: false\n    };\n\n    if (typeof id === \"string\") {\n      params.tagId = id;\n    } else {\n      params.element = id;\n    }\n\n    if (domContainer instanceof HTMLElement) {\n      params.element = domContainer;\n    } else {\n      params.options = domContainer;\n    }\n\n    if (typeof options === \"number\") {\n      params.index = options;\n    } else {\n      params.options = options !== null && options !== void 0 ? options : params.options;\n    }\n\n    return this.loadOptions(params);\n  }\n\n  async setJSON(id, domContainer, jsonUrl, index) {\n    let url, newId, newIndex, element;\n\n    if (id instanceof HTMLElement) {\n      element = id;\n      url = domContainer;\n      newIndex = jsonUrl;\n    } else {\n      newId = id;\n      element = domContainer;\n      url = jsonUrl;\n      newIndex = index;\n    }\n\n    return this.loadRemoteOptions({\n      tagId: newId,\n      url,\n      index: newIndex,\n      element,\n      remote: true\n    });\n  }\n\n}\n\n_Loader_engine = /* @__PURE__ */new WeakMap();\n\nvar __classPrivateFieldSet$1 = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar _Plugins_engine;\n\nclass Plugins {\n  constructor(engine) {\n    _Plugins_engine.set(this, void 0);\n\n    __classPrivateFieldSet$1(this, _Plugins_engine, engine, \"f\");\n\n    this.plugins = [];\n    this.interactorsInitializers = /* @__PURE__ */new Map();\n    this.moversInitializers = /* @__PURE__ */new Map();\n    this.updatersInitializers = /* @__PURE__ */new Map();\n    this.interactors = /* @__PURE__ */new Map();\n    this.movers = /* @__PURE__ */new Map();\n    this.updaters = /* @__PURE__ */new Map();\n    this.presets = /* @__PURE__ */new Map();\n    this.drawers = /* @__PURE__ */new Map();\n    this.pathGenerators = /* @__PURE__ */new Map();\n  }\n\n  addInteractor(name, initInteractor) {\n    this.interactorsInitializers.set(name, initInteractor);\n  }\n\n  addParticleMover(name, initMover) {\n    this.moversInitializers.set(name, initMover);\n  }\n\n  addParticleUpdater(name, initUpdater) {\n    this.updatersInitializers.set(name, initUpdater);\n  }\n\n  addPathGenerator(type, pathGenerator) {\n    if (!this.getPathGenerator(type)) {\n      this.pathGenerators.set(type, pathGenerator);\n    }\n  }\n\n  addPlugin(plugin) {\n    if (!this.getPlugin(plugin.id)) {\n      this.plugins.push(plugin);\n    }\n  }\n\n  addPreset(presetKey, options, override = false) {\n    if (override || !this.getPreset(presetKey)) {\n      this.presets.set(presetKey, options);\n    }\n  }\n\n  addShapeDrawer(type, drawer) {\n    if (!this.getShapeDrawer(type)) {\n      this.drawers.set(type, drawer);\n    }\n  }\n\n  destroy(container2) {\n    this.updaters.delete(container2);\n    this.movers.delete(container2);\n    this.interactors.delete(container2);\n  }\n\n  getAvailablePlugins(container2) {\n    const res = /* @__PURE__ */new Map();\n\n    for (const plugin of this.plugins) {\n      if (!plugin.needsPlugin(container2.actualOptions)) {\n        continue;\n      }\n\n      res.set(plugin.id, plugin.getPlugin(container2));\n    }\n\n    return res;\n  }\n\n  getInteractors(container2, force = false) {\n    let res = this.interactors.get(container2);\n\n    if (!res || force) {\n      res = [...this.interactorsInitializers.values()].map(t => t(container2));\n      this.interactors.set(container2, res);\n    }\n\n    return res;\n  }\n\n  getMovers(container2, force = false) {\n    let res = this.movers.get(container2);\n\n    if (!res || force) {\n      res = [...this.moversInitializers.values()].map(t => t(container2));\n      this.movers.set(container2, res);\n    }\n\n    return res;\n  }\n\n  getPathGenerator(type) {\n    return this.pathGenerators.get(type);\n  }\n\n  getPlugin(plugin) {\n    return this.plugins.find(t => t.id === plugin);\n  }\n\n  getPreset(preset) {\n    return this.presets.get(preset);\n  }\n\n  getShapeDrawer(type) {\n    return this.drawers.get(type);\n  }\n\n  getSupportedShapes() {\n    return this.drawers.keys();\n  }\n\n  getUpdaters(container2, force = false) {\n    let res = this.updaters.get(container2);\n\n    if (!res || force) {\n      res = [...this.updatersInitializers.values()].map(t => t(container2));\n      this.updaters.set(container2, res);\n    }\n\n    return res;\n  }\n\n  loadOptions(options, sourceOptions) {\n    for (const plugin of this.plugins) {\n      plugin.loadOptions(options, sourceOptions);\n    }\n  }\n\n  loadParticlesOptions(container2, options, ...sourceOptions) {\n    const updaters = this.updaters.get(container2);\n\n    if (!updaters) {\n      return;\n    }\n\n    for (const updater of updaters) {\n      if (updater.loadOptions) {\n        updater.loadOptions(options, ...sourceOptions);\n      }\n    }\n  }\n\n}\n\n_Plugins_engine = /* @__PURE__ */new WeakMap();\n\nvar __classPrivateFieldSet = globalThis && globalThis.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet = globalThis && globalThis.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _Engine_domArray, _Engine_eventDispatcher, _Engine_initialized, _Engine_loader;\n\nclass Engine {\n  constructor() {\n    _Engine_domArray.set(this, void 0);\n\n    _Engine_eventDispatcher.set(this, void 0);\n\n    _Engine_initialized.set(this, void 0);\n\n    _Engine_loader.set(this, void 0);\n\n    __classPrivateFieldSet(this, _Engine_domArray, [], \"f\");\n\n    __classPrivateFieldSet(this, _Engine_eventDispatcher, new EventDispatcher(), \"f\");\n\n    __classPrivateFieldSet(this, _Engine_initialized, false, \"f\");\n\n    __classPrivateFieldSet(this, _Engine_loader, new Loader(this), \"f\");\n\n    this.plugins = new Plugins(this);\n  }\n\n  addEventListener(type, listener) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").addEventListener(type, listener);\n  }\n\n  async addInteractor(name, interactorInitializer) {\n    this.plugins.addInteractor(name, interactorInitializer);\n    await this.refresh();\n  }\n\n  async addMover(name, moverInitializer) {\n    this.plugins.addParticleMover(name, moverInitializer);\n    await this.refresh();\n  }\n\n  async addParticleUpdater(name, updaterInitializer) {\n    this.plugins.addParticleUpdater(name, updaterInitializer);\n    await this.refresh();\n  }\n\n  async addPathGenerator(name, generator) {\n    this.plugins.addPathGenerator(name, generator);\n    await this.refresh();\n  }\n\n  async addPlugin(plugin) {\n    this.plugins.addPlugin(plugin);\n    await this.refresh();\n  }\n\n  async addPreset(preset, options, override = false) {\n    this.plugins.addPreset(preset, options, override);\n    await this.refresh();\n  }\n\n  async addShape(shape, drawer, init, afterEffect, destroy) {\n    let customDrawer;\n\n    if (typeof drawer === \"function\") {\n      customDrawer = {\n        afterEffect,\n        destroy,\n        draw: drawer,\n        init\n      };\n    } else {\n      customDrawer = drawer;\n    }\n\n    this.plugins.addShapeDrawer(shape, customDrawer);\n    await this.refresh();\n  }\n\n  dispatchEvent(type, args) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").dispatchEvent(type, args);\n  }\n\n  dom() {\n    return __classPrivateFieldGet(this, _Engine_domArray, \"f\");\n  }\n\n  domItem(index) {\n    const dom = this.dom(),\n          item = dom[index];\n\n    if (item && !item.destroyed) {\n      return item;\n    }\n\n    dom.splice(index, 1);\n  }\n\n  init() {\n    if (!__classPrivateFieldGet(this, _Engine_initialized, \"f\")) {\n      __classPrivateFieldSet(this, _Engine_initialized, true, \"f\");\n    }\n  }\n\n  async load(tagId, options) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").load(tagId, options);\n  }\n\n  async loadFromArray(tagId, options, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").load(tagId, options, index);\n  }\n\n  async loadJSON(tagId, pathConfigJson, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").loadJSON(tagId, pathConfigJson, index);\n  }\n\n  async refresh() {\n    for (const instance of this.dom()) {\n      await instance.refresh();\n    }\n  }\n\n  removeEventListener(type, listener) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").removeEventListener(type, listener);\n  }\n\n  async set(id, element, options) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").set(id, element, options);\n  }\n\n  async setJSON(id, element, pathConfigJson, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").setJSON(id, element, pathConfigJson, index);\n  }\n\n  setOnClickHandler(callback) {\n    const dom = this.dom();\n\n    if (!dom.length) {\n      throw new Error(\"Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()\");\n    }\n\n    for (const domItem of dom) {\n      domItem.addClickHandler(callback);\n    }\n  }\n\n}\n\n_Engine_domArray = /* @__PURE__ */new WeakMap(), _Engine_eventDispatcher = /* @__PURE__ */new WeakMap(), _Engine_initialized = /* @__PURE__ */new WeakMap(), _Engine_loader = /* @__PURE__ */new WeakMap();\nconst tsParticles = new Engine();\ntsParticles.init();\n\nvar _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n\n  return target;\n};\n\nlet container;\n\nconst _sfc_main = defineComponent({\n  name: \"Particles\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Object\n    },\n    url: {\n      type: String\n    },\n    particlesLoaded: {\n      type: Function\n    },\n    particlesInit: {\n      type: Function\n    }\n  },\n\n  mounted() {\n    nextTick(async () => {\n      var _a;\n\n      if (!this.id) {\n        throw new Error(\"Prop 'id' is required!\");\n      }\n\n      tsParticles.init();\n\n      if (this.particlesInit) {\n        await this.particlesInit(tsParticles);\n      }\n\n      const cb = cbContainer => {\n        container = cbContainer;\n\n        if (this.particlesLoaded && container) {\n          this.particlesLoaded(container);\n        }\n      };\n\n      const loadedContainer = await (this.url ? tsParticles.loadJSON(this.id, this.url) : tsParticles.load(this.id, (_a = this.options) != null ? _a : {}));\n      cb(loadedContainer);\n    });\n  },\n\n  unmounted() {\n    if (container) {\n      container.destroy();\n      container = void 0;\n    }\n  }\n\n});\n\nconst _hoisted_1 = [\"id\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    id: _ctx.id\n  }, null, 8, _hoisted_1);\n}\n\nvar particles = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nconst VueParticles = (app, options) => {\n  app.component(\"Particles\", particles);\n};\n\nexport { particles as ParticlesComponent, VueParticles as default };","map":{"version":3,"names":["defineComponent","nextTick","openBlock","createElementBlock","__classPrivateFieldSet$a","globalThis","__classPrivateFieldSet","receiver","state","value","kind","f","TypeError","has","call","set","__classPrivateFieldGet$9","__classPrivateFieldGet","get","_EventDispatcher_listeners","EventDispatcher","constructor","Map","addEventListener","type","listener","_a","removeEventListener","push","dispatchEvent","args","forEach","handler","hasEventListener","removeAllEventListeners","delete","arr","length","idx","indexOf","splice","WeakMap","Vector","xOrCoords","y","x","Error","origin","create","angle","Math","atan2","updateFromAngle","sqrt","getLengthSq","clone","source","add","v","addTo","copy","distanceTo","sub","distanceToSq","div","n","divTo","manhattanDistanceTo","abs","mult","multTo","rotate","cos","sin","setTo","subFrom","clamp","num","min","max","randomInRange","r","getRangeMax","getRangeMin","random","getRangeValue","setRangeValue","getValue","options","enable","minimumValue","getDistances","pointA","pointB","dx","dy","distance","getDistance","getParticleDirectionAngle","direction","position","center","PI","getParticleBaseVelocity","baseVelocity","calcPositionFromSize","data","_b","size","width","height","calcExactPositionOrRandomFromSize","_c","_d","isSsr","window","document","animate","callback","setTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","cancelAnimation","handle","clearTimeout","cancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","isInArray","array","Array","arrayRandomIndex","floor","itemFromArray","index","useIndex","fixedIndex","deepExtend","destination","sources","sourceIsArray","isArray","key","sourceDict","isObject","destDict","map","generatedAttribute","randomColorValue","touchEndEvent","mouseDownEvent","mouseUpEvent","mouseMoveEvent","touchStartEvent","touchMoveEvent","mouseLeaveEvent","mouseOutEvent","touchCancelEvent","resizeEvent","visibilityChangeEvent","hue2rgb","p","q","t","stringToRgba","input","startsWith","regex","result","exec","a","parseFloat","b","parseInt","g","hslaToRgba","h","l","s","hsvaToRgba","shorthandRegex","hexFixed","replace","_","rangeColorToRgb","color","colorToRgb","colorValue","rgbColor","rgb","hslColor","hsl","hslToRgb","hsvColor","hsv","res","hsvToRgb","getRandomRgbColor","stringToRgb","rangeColorToHsl","rgbToHsl","r1","g1","b1","hslPercent","hsla","rgbResult","hsvPercent","c","tempRgb","m","hsva","Object","assign","fixedMin","getStyleFromRgb","opacity","getStyleFromHsl","getHslFromAnimation","animation","paintBase","context","dimension","baseColor","save","fillStyle","fillRect","restore","clear","clearRect","drawParticle","container2","particle","delta","colorStyles","backgroundMask","composite","radius","shadow","transform","_e","_f","_g","_h","_j","_k","_l","_m","pos","getPosition","d","setTransform","translate","beginPath","path","velocity","globalCompositeOperation","shadowColor","shadowBlur","blur","shadowOffsetX","offset","shadowOffsetY","fill","stroke","lineWidth","strokeWidth","strokeStyle","drawShape","close","closePath","drawShapeAfterEffect","shape","drawer","drawers","draw","retina","pixelRatio","afterEffect","drawPlugin","plugin","drawParticlePlugin","alterHsl","__classPrivateFieldSet$9","__classPrivateFieldGet$8","_Canvas_context","setTransformValue","factor","newFactor","newValue","Canvas","container","generatedCanvas","actualOptions","trail","particles","move","paint","trailFillColor","ctx","destroy","element","remove","resetOriginalStyle","cb","spawning","destroyed","getRadius","pfColor","getFillColor","psColor","getStrokeColor","fColor","sColor","getPluginParticleColors","zIndexOptions","zIndex","zOpacityFactor","zIndexFactor","opacityRate","bubble","strokeOpacity","zOpacity","zStrokeOpacity","zSizeFactor","sizeRate","updater","updaters","beforeDraw","getColorStyles","getTransformValues","updaterTransform","afterDraw","init","resize","initStyle","initCover","initTrail","initBackground","background","elementStyle","style","backgroundColor","backgroundImage","image","backgroundPosition","backgroundRepeat","repeat","backgroundSize","loadCanvas","canvas","dataset","originalStyle","offsetHeight","offsetWidth","getContext","cover","coverColorStyle","pxRatio","newSize","oldSize","started","resizeFactor","windowResize","needsRefresh","updateActualOptions","setDensity","plugins","refresh","particleFillColor","particleStrokeColor","coverRgb","coverColor","fullScreen","setProperty","toString","fillColor","trail2","top","left","manageListener","event","addOptions","passive","capture","removeOptions","EventListeners","canPush","mouseMoveHandler","e","mouseTouchMove","touchStartHandler","touchMoveHandler","touchEndHandler","mouseTouchFinish","mouseLeaveHandler","touchCancelHandler","touchEndClickHandler","mouseTouchClick","mouseUpHandler","mouseDownHandler","mouseDown","visibilityChangeHandler","handleVisibilityChange","themeChangeHandler","handleThemeChange","oldThemeChangeHandler","resizeHandler","handleWindowResize","addListeners","manageListeners","removeListeners","doMouseTouchClick","mousePos","interactivity","mouse","clickPosition","clickTime","Date","getTime","onClick","events","mode","handleClickMode","mediaEvent","themeName","matches","defaultDarkTheme","defaultLightTheme","theme","themes","find","theme2","name","default","auto","loadTheme","pauseOnBlur","hidden","pageHidden","pause","getAnimationStatus","play","resizeTimeout","detectType","detectsOn","mouseLeaveTmpEvent","canvasEl","parentElement","parentNode","mediaMatch","matchMedia","addListener","removeListener","interactivityEl","html","onHover","pointerEvents","ResizeObserver","resizeObserver","unobserve","disconnect","entries","entry","target","observe","clicking","downPosition","inside","handled","mousePosition","clickPositionValid","status","mouseEvent","clientRect","getBoundingClientRect","clientX","clientY","currentTarget","sourceRect","targetRect","canvasRect","offsetX","offsetY","touchEvent","lastTouch","touches","FrameManager","nextFrame","timestamp","lastFrameTime","fpsLimit","deltaValue","lifeTime","duration","console","error","OptionsColor","load","Background","BackgroundMaskCover","BackgroundMask","FullScreen","ClickEvent","DivEvent","selectors","el","elementId","ids","Parallax","force","smooth","HoverEvent","parallax","Events","onDiv","onclick","ondiv","onhover","tmp","Attract","easing","maxSpeed","speed","Bounce","BubbleBase","mix","BubbleDiv","Bubble","divs","ConnectLinks","Connect","links","lineLinked","line_linked","GrabLinks","blink","consent","Grab","LightGradient","start","stop","LightArea","gradient","LightShadow","Light","area","Push","groups","quantity","particles_nb","Remove","RepulseBase","RepulseDiv","Repulse","Slow","active","_value","Trail","delay","pauseOnStop","Modes","attract","bounce","connect","grab","light","repulse","slow","Interactivity","modes","detect_on","ManualParticle","MotionReduce","Motion","disable","reduce","Responsive","maxWidth","Infinity","ThemeDefault","Theme","ColorAnimation","count","decay","sync","HslAnimation","AnimatableColor","colorAnimation","GradientColorOpacityAnimation","startValue","GradientColorOpacity","AnimatableGradientColor","GradientAngleAnimation","GradientAngle","AnimatableGradient","colors","CollisionsOverlap","retries","Random","ValueWithRandom","ParticlesBounceFactor","ParticlesBounce","horizontal","vertical","Collisions","overlap","SplitFactor","SplitRate","Split","rate","sizeOffset","Destroy","split","LinksShadow","LinksTriangle","frequency","Links","triangles","warp","id","MoveAngle","MoveAttract","rotateX","rotateY","MoveGravity","acceleration","inverse","MovePathDelay","MovePath","generator","MoveTrail","OutModes","bottom","right","Spin","Move","drift","gravity","outModes","spin","straight","vibrate","collisions","noise","outMode","out_mode","AnimationOptions","OpacityAnimation","opacity_min","Opacity","anim","ParticlesDensity","value_area","ParticlesNumber","density","limit","ParticlesRepulse","enabled","RotateAnimation","Rotate","Shadow","Shape","character","custom","images","polygon","item","loadShape","mainKey","altKey","altOverride","SizeAnimation","size_min","Size","Stroke","ZIndex","velocityRate","__classPrivateFieldSet$8","__classPrivateFieldGet$7","_ParticlesOptions_container","_ParticlesOptions_engine","ParticlesOptions","engine","number","reduceDuplicates","group","strokeToLoad","gradientToLoad","loadOptions","sourceOptionsArr","sourceOptions","loadParticlesOptions","__classPrivateFieldSet$7","__classPrivateFieldGet$6","_Options_instances","_Options_container","_Options_engine","_Options_findDefaultTheme","Options","autoPlay","detectRetina","manualParticles","motion","pauseOnOutsideViewport","responsive","zLayers","backgroundMode","fps_limit","retina_detect","preset","importPreset","optResponsive","sort","optTheme","setResponsive","defaultOptions","responsiveOptions","screen","availWidth","setTheme","chosenTheme","clientDarkMode","defaultTheme","getPreset","WeakSet","_Options_findDefaultTheme2","__classPrivateFieldSet$6","__classPrivateFieldGet$5","_InteractionManager_engine","InteractionManager","externalInteractors","particleInteractors","externalInteract","interactor","isEnabled","interact","interactors","getInteractors","particlesInteract","reset","Vector3d","z","v3d","__classPrivateFieldSet$5","__classPrivateFieldGet$4","_Particle_engine","fixOutMode","checkModes","coord","maxCoord","setCb","Particle","overrideOptions","lastPathTime","unbreakable","splitCount","misplaced","maxDistance","outType","ignoresResizeRatio","mainOptions","particlesOptions","shapeType","overrideShapeType","shapeOptions","shapeData","loadShapeData","pathDelay","zIndexValue","initParticle","sizeOptions","sizeRange","sizeAnimation","loops","maxLoops","sizeAnimationSpeed","reduceFactor","inRange","calcPosition","initialPosition","canvasSize","moveCenterPerc","moveCenter","initialVelocity","calculateVelocity","moveDecay","particles2","needsSort","lastZIndex","sides","getShapeDrawer","sideCountFunc","getSidesCount","mover","movers","particleInit","particleCreated","override","particleDestroyed","destroyOptions","roll","backColor","alter","backFactor","backSum","rolled","getMass","strokeColor","isInsideCanvas","isVisible","tryCount","pluginPos","particlePosition","exactPosition","fixHorizontal","fixVertical","checkOverlap","moveOptions","rad","radOffset","range","collisionsOptions","overlapOptions","overlaps","splitOptions","particlesSplitOptions","i","addSplitParticle","Point","Range","Circle","contains","point","intersects","rect","circle","pos1","pos2","xDist","yDist","rSum","dist","w","edges","pow","Rectangle","size2","w2","h2","CircleWarp","posNE","posSE","posSW","newPos","biggerCircle","rectSW","QuadTree","rectangle","capacity","points","divided","insert","subdivide","northEast","northWest","southEast","southWest","query","check","found","queryCircle","queryCircleWarp","containerOrSize","queryRectangle","__classPrivateFieldSet$4","__classPrivateFieldGet$3","_Particles_engine","Particles","nextId","zArray","freqs","interactionManager","quadTree","getMovers","getUpdaters","addManualParticles","addParticle","countToRemove","removeQuantity","pushParticle","parent","splitParticlesOptions","update","getLinkFrequency","p1","p2","getTriangleFrequency","p3","id1","id2","id3","particlesInitialization","groupOptions","j","pathGenerator","nb","pushing","redraw","removeAt","deleted","zIdx","applyDensity","particlesToDelete","particleUpdate","manualCount","numberOptions","densityFactor","initDensityFactor","optParticlesNumber","optParticlesLimit","particlesNumber","particlesCount","filter","densityOptions","initializer","canAdd","warn","Retina","devicePixelRatio","motionOptions","mediaQuery","handleMotionChange","handleChange","catch","ratio","attractDistance","linksDistance","linksWidth","connectModeDistance","connectModeRadius","grabModeDistance","repulseModeDistance","bounceModeDistance","attractModeDistance","slowModeRadius","bubbleModeDistance","bubbleModeSize","moveDistance","props","moveDrift","moveSpeed","__classPrivateFieldSet$3","__classPrivateFieldGet$2","_Container_engine","_Container_eventListeners","guardCheck","loadContainerOptions","Container","firstStart","paused","_sourceOptions","_initialSourceOptions","generate","_options","IntersectionObserver","intersectionObserver","intersectionManager","addClickHandler","clickOrTouchHandler","posRetina","clickHandler","touched","touchMoved","changedTouches","radiusX","radiusY","keys","mainArr","dom","findIndex","refreshTime","drawAnimationFrame","exportConfiguration","JSON","stringify","exportImage","quality","toBlob","exportImg","shapes","getSupportedShapes","availablePlugins","getAvailablePlugins","initAsync","pathOptions","setPath","getPathGenerator","particlesSetup","currentTheme","needsUpdate","setNoise","noiseOrGenerator","pathOrGenerator","oldGenerator","HTMLElement","startAsync","grabLineColor","newMaxWidth","responsiveMaxWidth","isIntersecting","__classPrivateFieldSet$2","__classPrivateFieldGet$1","_Loader_engine","fetchError","statusCode","getDataFromUrl","jsonUrl","url","response","fetch","ok","json","Loader","tagId","params","remote","loadJSON","loadRemoteOptions","domContainer","getElementById","createElement","querySelector","append","currentOptions","oldIndex","old","domItem","tagName","toLowerCase","existingCanvases","getElementsByTagName","appendChild","newItem","setJSON","newId","newIndex","__classPrivateFieldSet$1","_Plugins_engine","Plugins","interactorsInitializers","moversInitializers","updatersInitializers","presets","pathGenerators","addInteractor","initInteractor","addParticleMover","initMover","addParticleUpdater","initUpdater","addPathGenerator","addPlugin","getPlugin","addPreset","presetKey","addShapeDrawer","needsPlugin","values","_Engine_domArray","_Engine_eventDispatcher","_Engine_initialized","_Engine_loader","Engine","interactorInitializer","addMover","moverInitializer","updaterInitializer","addShape","customDrawer","loadFromArray","pathConfigJson","instance","setOnClickHandler","tsParticles","_export_sfc","sfc","__vccOpts","val","_sfc_main","String","required","particlesLoaded","Function","particlesInit","mounted","cbContainer","loadedContainer","unmounted","_hoisted_1","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","VueParticles","app","component","ParticlesComponent"],"sources":["/home/sansito84/Documentos/SSito/pagina1/pagina1/node_modules/particles.vue3/dist/particles.vue3.es.js"],"sourcesContent":["import { defineComponent, nextTick, openBlock, createElementBlock } from \"vue\";\nvar __classPrivateFieldSet$a = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$9 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EventDispatcher_listeners;\nclass EventDispatcher {\n  constructor() {\n    _EventDispatcher_listeners.set(this, void 0);\n    __classPrivateFieldSet$a(this, _EventDispatcher_listeners, /* @__PURE__ */ new Map(), \"f\");\n  }\n  addEventListener(type, listener) {\n    var _a;\n    this.removeEventListener(type, listener);\n    if (!__classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").set(type, []);\n    }\n    (_a = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) === null || _a === void 0 ? void 0 : _a.push(listener);\n  }\n  dispatchEvent(type, args) {\n    var _a;\n    (_a = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type)) === null || _a === void 0 ? void 0 : _a.forEach((handler) => handler(args));\n  }\n  hasEventListener(type) {\n    return !!__classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type);\n  }\n  removeAllEventListeners(type) {\n    if (!type) {\n      __classPrivateFieldSet$a(this, _EventDispatcher_listeners, /* @__PURE__ */ new Map(), \"f\");\n    } else {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").delete(type);\n    }\n  }\n  removeEventListener(type, listener) {\n    const arr = __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").get(type);\n    if (!arr) {\n      return;\n    }\n    const length = arr.length, idx = arr.indexOf(listener);\n    if (idx < 0) {\n      return;\n    }\n    if (length === 1) {\n      __classPrivateFieldGet$9(this, _EventDispatcher_listeners, \"f\").delete(type);\n    } else {\n      arr.splice(idx, 1);\n    }\n  }\n}\n_EventDispatcher_listeners = /* @__PURE__ */ new WeakMap();\nclass Vector {\n  constructor(xOrCoords, y) {\n    if (typeof xOrCoords !== \"number\" && xOrCoords) {\n      this.x = xOrCoords.x;\n      this.y = xOrCoords.y;\n    } else if (xOrCoords !== void 0 && y !== void 0) {\n      this.x = xOrCoords;\n      this.y = y;\n    } else {\n      throw new Error(\"tsParticles - Vector not initialized correctly\");\n    }\n  }\n  static get origin() {\n    return Vector.create(0, 0);\n  }\n  get angle() {\n    return Math.atan2(this.y, this.x);\n  }\n  set angle(angle) {\n    this.updateFromAngle(angle, this.length);\n  }\n  get length() {\n    return Math.sqrt(this.getLengthSq());\n  }\n  set length(length) {\n    this.updateFromAngle(this.angle, length);\n  }\n  static clone(source) {\n    return Vector.create(source.x, source.y);\n  }\n  static create(x, y) {\n    return new Vector(x, y);\n  }\n  add(v) {\n    return Vector.create(this.x + v.x, this.y + v.y);\n  }\n  addTo(v) {\n    this.x += v.x;\n    this.y += v.y;\n  }\n  copy() {\n    return Vector.clone(this);\n  }\n  distanceTo(v) {\n    return this.sub(v).length;\n  }\n  distanceToSq(v) {\n    return this.sub(v).getLengthSq();\n  }\n  div(n) {\n    return Vector.create(this.x / n, this.y / n);\n  }\n  divTo(n) {\n    this.x /= n;\n    this.y /= n;\n  }\n  getLengthSq() {\n    return this.x ** 2 + this.y ** 2;\n  }\n  manhattanDistanceTo(v) {\n    return Math.abs(v.x - this.x) + Math.abs(v.y - this.y);\n  }\n  mult(n) {\n    return Vector.create(this.x * n, this.y * n);\n  }\n  multTo(n) {\n    this.x *= n;\n    this.y *= n;\n  }\n  rotate(angle) {\n    return Vector.create(this.x * Math.cos(angle) - this.y * Math.sin(angle), this.x * Math.sin(angle) + this.y * Math.cos(angle));\n  }\n  setTo(v) {\n    this.x = v.x;\n    this.y = v.y;\n  }\n  sub(v) {\n    return Vector.create(this.x - v.x, this.y - v.y);\n  }\n  subFrom(v) {\n    this.x -= v.x;\n    this.y -= v.y;\n  }\n  updateFromAngle(angle, length) {\n    this.x = Math.cos(angle) * length;\n    this.y = Math.sin(angle) * length;\n  }\n}\nfunction clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\nfunction randomInRange(r) {\n  const max = getRangeMax(r);\n  let min = getRangeMin(r);\n  if (max === min) {\n    min = 0;\n  }\n  return Math.random() * (max - min) + min;\n}\nfunction getRangeValue(value) {\n  return typeof value === \"number\" ? value : randomInRange(value);\n}\nfunction getRangeMin(value) {\n  return typeof value === \"number\" ? value : value.min;\n}\nfunction getRangeMax(value) {\n  return typeof value === \"number\" ? value : value.max;\n}\nfunction setRangeValue(source, value) {\n  if (source === value || value === void 0 && typeof source === \"number\") {\n    return source;\n  }\n  const min = getRangeMin(source), max = getRangeMax(source);\n  return value !== void 0 ? {\n    min: Math.min(min, value),\n    max: Math.max(max, value)\n  } : setRangeValue(min, max);\n}\nfunction getValue(options) {\n  const random = options.random, { enable, minimumValue } = typeof random === \"boolean\" ? {\n    enable: random,\n    minimumValue: 0\n  } : random;\n  return enable ? getRangeValue(setRangeValue(options.value, minimumValue)) : getRangeValue(options.value);\n}\nfunction getDistances(pointA, pointB) {\n  const dx = pointA.x - pointB.x, dy = pointA.y - pointB.y;\n  return { dx, dy, distance: Math.sqrt(dx * dx + dy * dy) };\n}\nfunction getDistance(pointA, pointB) {\n  return getDistances(pointA, pointB).distance;\n}\nfunction getParticleDirectionAngle(direction, position, center) {\n  if (typeof direction === \"number\") {\n    return direction * Math.PI / 180;\n  } else {\n    switch (direction) {\n      case \"top\":\n        return -Math.PI / 2;\n      case \"top-right\":\n        return -Math.PI / 4;\n      case \"right\":\n        return 0;\n      case \"bottom-right\":\n        return Math.PI / 4;\n      case \"bottom\":\n        return Math.PI / 2;\n      case \"bottom-left\":\n        return 3 * Math.PI / 4;\n      case \"left\":\n        return Math.PI;\n      case \"top-left\":\n        return -3 * Math.PI / 4;\n      case \"inside\":\n        return Math.atan2(center.y - position.y, center.x - position.x);\n      case \"outside\":\n        return Math.atan2(position.y - center.y, position.x - center.x);\n      case \"none\":\n      default:\n        return Math.random() * Math.PI * 2;\n    }\n  }\n}\nfunction getParticleBaseVelocity(direction) {\n  const baseVelocity = Vector.origin;\n  baseVelocity.length = 1;\n  baseVelocity.angle = direction;\n  return baseVelocity;\n}\nfunction calcPositionFromSize(data) {\n  var _a, _b;\n  return ((_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== void 0 && ((_b = data.position) === null || _b === void 0 ? void 0 : _b.y) !== void 0 ? {\n    x: data.position.x * data.size.width / 100,\n    y: data.position.y * data.size.height / 100\n  } : void 0;\n}\nfunction calcExactPositionOrRandomFromSize(data) {\n  var _a, _b, _c, _d;\n  return {\n    x: (_b = (_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : Math.random() * data.size.width,\n    y: (_d = (_c = data.position) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : Math.random() * data.size.height\n  };\n}\nfunction isSsr() {\n  return typeof window === \"undefined\" || !window || typeof window.document === \"undefined\" || !window.document;\n}\nfunction animate() {\n  return isSsr() ? (callback) => setTimeout(callback) : (callback) => (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || window.setTimeout)(callback);\n}\nfunction cancelAnimation() {\n  return isSsr() ? (handle) => clearTimeout(handle) : (handle) => (window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.clearTimeout)(handle);\n}\nfunction isInArray(value, array) {\n  return value === array || array instanceof Array && array.indexOf(value) > -1;\n}\nfunction arrayRandomIndex(array) {\n  return Math.floor(Math.random() * array.length);\n}\nfunction itemFromArray(array, index, useIndex = true) {\n  const fixedIndex = index !== void 0 && useIndex ? index % array.length : arrayRandomIndex(array);\n  return array[fixedIndex];\n}\nfunction deepExtend(destination, ...sources) {\n  for (const source of sources) {\n    if (source === void 0 || source === null) {\n      continue;\n    }\n    if (typeof source !== \"object\") {\n      destination = source;\n      continue;\n    }\n    const sourceIsArray = Array.isArray(source);\n    if (sourceIsArray && (typeof destination !== \"object\" || !destination || !Array.isArray(destination))) {\n      destination = [];\n    } else if (!sourceIsArray && (typeof destination !== \"object\" || !destination || Array.isArray(destination))) {\n      destination = {};\n    }\n    for (const key in source) {\n      if (key === \"__proto__\") {\n        continue;\n      }\n      const sourceDict = source, value = sourceDict[key], isObject = typeof value === \"object\", destDict = destination;\n      destDict[key] = isObject && Array.isArray(value) ? value.map((v) => deepExtend(destDict[key], v)) : deepExtend(destDict[key], value);\n    }\n  }\n  return destination;\n}\nconst generatedAttribute = \"generated\";\nconst randomColorValue = \"random\";\nconst touchEndEvent = \"touchend\";\nconst mouseDownEvent = \"mousedown\";\nconst mouseUpEvent = \"mouseup\";\nconst mouseMoveEvent = \"mousemove\";\nconst touchStartEvent = \"touchstart\";\nconst touchMoveEvent = \"touchmove\";\nconst mouseLeaveEvent = \"mouseleave\";\nconst mouseOutEvent = \"mouseout\";\nconst touchCancelEvent = \"touchcancel\";\nconst resizeEvent = \"resize\";\nconst visibilityChangeEvent = \"visibilitychange\";\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\nfunction stringToRgba(input) {\n  if (input.startsWith(\"rgb\")) {\n    const regex = /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([\\d.]+)\\s*)?\\)/i, result = regex.exec(input);\n    return result ? {\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      b: parseInt(result[3], 10),\n      g: parseInt(result[2], 10),\n      r: parseInt(result[1], 10)\n    } : void 0;\n  } else if (input.startsWith(\"hsl\")) {\n    const regex = /hsla?\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i, result = regex.exec(input);\n    return result ? hslaToRgba({\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      h: parseInt(result[1], 10),\n      l: parseInt(result[3], 10),\n      s: parseInt(result[2], 10)\n    }) : void 0;\n  } else if (input.startsWith(\"hsv\")) {\n    const regex = /hsva?\\(\\s*(\\d+)°\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i, result = regex.exec(input);\n    return result ? hsvaToRgba({\n      a: result.length > 4 ? parseFloat(result[5]) : 1,\n      h: parseInt(result[1], 10),\n      s: parseInt(result[2], 10),\n      v: parseInt(result[3], 10)\n    }) : void 0;\n  } else {\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i, hexFixed = input.replace(shorthandRegex, (_, r, g, b, a) => {\n      return r + r + g + g + b + b + (a !== void 0 ? a + a : \"\");\n    }), regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i, result = regex.exec(hexFixed);\n    return result ? {\n      a: result[4] !== void 0 ? parseInt(result[4], 16) / 255 : 1,\n      b: parseInt(result[3], 16),\n      g: parseInt(result[2], 16),\n      r: parseInt(result[1], 16)\n    } : void 0;\n  }\n}\nfunction rangeColorToRgb(input, index, useIndex = true) {\n  var _a, _b, _c;\n  if (input === void 0) {\n    return void 0;\n  }\n  const color = typeof input === \"string\" ? { value: input } : input;\n  if (typeof color.value === \"string\") {\n    return colorToRgb(color.value, index, useIndex);\n  }\n  if (color.value instanceof Array) {\n    return rangeColorToRgb({\n      value: itemFromArray(color.value, index, useIndex)\n    });\n  }\n  const colorValue = color.value, rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n  if (rgbColor.r !== void 0) {\n    return {\n      r: getRangeValue(rgbColor.r),\n      g: getRangeValue(rgbColor.g),\n      b: getRangeValue(rgbColor.b)\n    };\n  }\n  const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;\n  if (hslColor.h !== void 0 && hslColor.l !== void 0) {\n    return hslToRgb({\n      h: getRangeValue(hslColor.h),\n      l: getRangeValue(hslColor.l),\n      s: getRangeValue(hslColor.s)\n    });\n  }\n  const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;\n  if (hsvColor.h !== void 0 && hsvColor.v !== void 0) {\n    const res = hsvToRgb({\n      h: getRangeValue(hsvColor.h),\n      s: getRangeValue(hsvColor.s),\n      v: getRangeValue(hsvColor.v)\n    });\n    return res;\n  }\n  return void 0;\n}\nfunction colorToRgb(input, index, useIndex = true) {\n  var _a, _b, _c;\n  if (input === void 0) {\n    return;\n  }\n  const color = typeof input === \"string\" ? { value: input } : input;\n  if (typeof color.value === \"string\") {\n    return color.value === randomColorValue ? getRandomRgbColor() : stringToRgb(color.value);\n  }\n  if (color.value instanceof Array) {\n    return colorToRgb({\n      value: itemFromArray(color.value, index, useIndex)\n    });\n  }\n  const colorValue = color.value, rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n  if (rgbColor.r !== void 0) {\n    return rgbColor;\n  }\n  const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;\n  if (hslColor.h !== void 0 && hslColor.l !== void 0) {\n    return hslToRgb(hslColor);\n  }\n  const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;\n  if (hsvColor.h !== void 0 && hsvColor.v !== void 0) {\n    return hsvToRgb(hsvColor);\n  }\n  return void 0;\n}\nfunction rangeColorToHsl(color, index, useIndex = true) {\n  const rgb = rangeColorToRgb(color, index, useIndex);\n  return rgb !== void 0 ? rgbToHsl(rgb) : void 0;\n}\nfunction rgbToHsl(color) {\n  const r1 = color.r / 255, g1 = color.g / 255, b1 = color.b / 255, max = Math.max(r1, g1, b1), min = Math.min(r1, g1, b1), res = {\n    h: 0,\n    l: (max + min) / 2,\n    s: 0\n  };\n  if (max !== min) {\n    res.s = res.l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    res.h = r1 === max ? (g1 - b1) / (max - min) : res.h = g1 === max ? 2 + (b1 - r1) / (max - min) : 4 + (r1 - g1) / (max - min);\n  }\n  res.l *= 100;\n  res.s *= 100;\n  res.h *= 60;\n  if (res.h < 0) {\n    res.h += 360;\n  }\n  if (res.h >= 360) {\n    res.h -= 360;\n  }\n  return res;\n}\nfunction stringToRgb(input) {\n  return stringToRgba(input);\n}\nfunction hslToRgb(hsl) {\n  const result = { b: 0, g: 0, r: 0 }, hslPercent = {\n    h: hsl.h / 360,\n    l: hsl.l / 100,\n    s: hsl.s / 100\n  };\n  if (!hslPercent.s) {\n    result.b = hslPercent.l;\n    result.g = hslPercent.l;\n    result.r = hslPercent.l;\n  } else {\n    const q = hslPercent.l < 0.5 ? hslPercent.l * (1 + hslPercent.s) : hslPercent.l + hslPercent.s - hslPercent.l * hslPercent.s, p = 2 * hslPercent.l - q;\n    result.r = hue2rgb(p, q, hslPercent.h + 1 / 3);\n    result.g = hue2rgb(p, q, hslPercent.h);\n    result.b = hue2rgb(p, q, hslPercent.h - 1 / 3);\n  }\n  result.r = Math.floor(result.r * 255);\n  result.g = Math.floor(result.g * 255);\n  result.b = Math.floor(result.b * 255);\n  return result;\n}\nfunction hslaToRgba(hsla) {\n  const rgbResult = hslToRgb(hsla);\n  return {\n    a: hsla.a,\n    b: rgbResult.b,\n    g: rgbResult.g,\n    r: rgbResult.r\n  };\n}\nfunction hsvToRgb(hsv) {\n  const result = { b: 0, g: 0, r: 0 }, hsvPercent = {\n    h: hsv.h / 60,\n    s: hsv.s / 100,\n    v: hsv.v / 100\n  }, c = hsvPercent.v * hsvPercent.s, x = c * (1 - Math.abs(hsvPercent.h % 2 - 1));\n  let tempRgb;\n  if (hsvPercent.h >= 0 && hsvPercent.h <= 1) {\n    tempRgb = {\n      r: c,\n      g: x,\n      b: 0\n    };\n  } else if (hsvPercent.h > 1 && hsvPercent.h <= 2) {\n    tempRgb = {\n      r: x,\n      g: c,\n      b: 0\n    };\n  } else if (hsvPercent.h > 2 && hsvPercent.h <= 3) {\n    tempRgb = {\n      r: 0,\n      g: c,\n      b: x\n    };\n  } else if (hsvPercent.h > 3 && hsvPercent.h <= 4) {\n    tempRgb = {\n      r: 0,\n      g: x,\n      b: c\n    };\n  } else if (hsvPercent.h > 4 && hsvPercent.h <= 5) {\n    tempRgb = {\n      r: x,\n      g: 0,\n      b: c\n    };\n  } else if (hsvPercent.h > 5 && hsvPercent.h <= 6) {\n    tempRgb = {\n      r: c,\n      g: 0,\n      b: x\n    };\n  }\n  if (tempRgb) {\n    const m = hsvPercent.v - c;\n    result.r = Math.floor((tempRgb.r + m) * 255);\n    result.g = Math.floor((tempRgb.g + m) * 255);\n    result.b = Math.floor((tempRgb.b + m) * 255);\n  }\n  return result;\n}\nfunction hsvaToRgba(hsva) {\n  return Object.assign({ a: hsva.a }, hsvToRgb(hsva));\n}\nfunction getRandomRgbColor(min) {\n  const fixedMin = min !== null && min !== void 0 ? min : 0;\n  return {\n    b: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n    g: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n    r: Math.floor(randomInRange(setRangeValue(fixedMin, 256)))\n  };\n}\nfunction getStyleFromRgb(color, opacity) {\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\nfunction getStyleFromHsl(color, opacity) {\n  return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\nfunction getHslFromAnimation(animation) {\n  return animation !== void 0 ? {\n    h: animation.h.value,\n    s: animation.s.value,\n    l: animation.l.value\n  } : void 0;\n}\nfunction paintBase(context, dimension, baseColor) {\n  context.save();\n  context.fillStyle = baseColor !== null && baseColor !== void 0 ? baseColor : \"rgba(0,0,0,0)\";\n  context.fillRect(0, 0, dimension.width, dimension.height);\n  context.restore();\n}\nfunction clear(context, dimension) {\n  context.clearRect(0, 0, dimension.width, dimension.height);\n}\nfunction drawParticle(container2, context, particle, delta, colorStyles, backgroundMask, composite, radius, opacity, shadow, transform) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n  const pos = particle.getPosition();\n  context.save();\n  if (transform.a !== void 0 || transform.b !== void 0 || transform.c !== void 0 || transform.d !== void 0) {\n    context.setTransform((_a = transform.a) !== null && _a !== void 0 ? _a : 1, (_b = transform.b) !== null && _b !== void 0 ? _b : 0, (_c = transform.c) !== null && _c !== void 0 ? _c : 0, (_d = transform.d) !== null && _d !== void 0 ? _d : 1, pos.x, pos.y);\n  } else {\n    context.translate(pos.x, pos.y);\n  }\n  context.beginPath();\n  const angle = ((_f = (_e = particle.rotate) === null || _e === void 0 ? void 0 : _e.value) !== null && _f !== void 0 ? _f : 0) + (particle.options.rotate.path ? particle.velocity.angle : 0);\n  if (angle !== 0) {\n    context.rotate(angle);\n  }\n  if (backgroundMask) {\n    context.globalCompositeOperation = composite;\n  }\n  const shadowColor = particle.shadowColor;\n  if (shadow.enable && shadowColor) {\n    context.shadowBlur = shadow.blur;\n    context.shadowColor = getStyleFromRgb(shadowColor);\n    context.shadowOffsetX = shadow.offset.x;\n    context.shadowOffsetY = shadow.offset.y;\n  }\n  if (colorStyles.fill) {\n    context.fillStyle = colorStyles.fill;\n  }\n  const stroke = particle.stroke;\n  context.lineWidth = (_g = particle.strokeWidth) !== null && _g !== void 0 ? _g : 0;\n  if (colorStyles.stroke) {\n    context.strokeStyle = colorStyles.stroke;\n  }\n  drawShape(container2, context, particle, radius, opacity, delta);\n  if (((_h = stroke === null || stroke === void 0 ? void 0 : stroke.width) !== null && _h !== void 0 ? _h : 0) > 0) {\n    context.stroke();\n  }\n  if (particle.close) {\n    context.closePath();\n  }\n  if (particle.fill) {\n    context.fill();\n  }\n  context.restore();\n  context.save();\n  if (transform.a !== void 0 || transform.b !== void 0 || transform.c !== void 0 || transform.d !== void 0) {\n    context.setTransform((_j = transform.a) !== null && _j !== void 0 ? _j : 1, (_k = transform.b) !== null && _k !== void 0 ? _k : 0, (_l = transform.c) !== null && _l !== void 0 ? _l : 0, (_m = transform.d) !== null && _m !== void 0 ? _m : 1, pos.x, pos.y);\n  } else {\n    context.translate(pos.x, pos.y);\n  }\n  if (angle !== 0) {\n    context.rotate(angle);\n  }\n  if (backgroundMask) {\n    context.globalCompositeOperation = composite;\n  }\n  drawShapeAfterEffect(container2, context, particle, radius, opacity, delta);\n  context.restore();\n}\nfunction drawShape(container2, context, particle, radius, opacity, delta) {\n  if (!particle.shape) {\n    return;\n  }\n  const drawer = container2.drawers.get(particle.shape);\n  if (!drawer) {\n    return;\n  }\n  drawer.draw(context, particle, radius, opacity, delta, container2.retina.pixelRatio);\n}\nfunction drawShapeAfterEffect(container2, context, particle, radius, opacity, delta) {\n  if (!particle.shape) {\n    return;\n  }\n  const drawer = container2.drawers.get(particle.shape);\n  if (!(drawer === null || drawer === void 0 ? void 0 : drawer.afterEffect)) {\n    return;\n  }\n  drawer.afterEffect(context, particle, radius, opacity, delta, container2.retina.pixelRatio);\n}\nfunction drawPlugin(context, plugin, delta) {\n  if (!plugin.draw) {\n    return;\n  }\n  context.save();\n  plugin.draw(context, delta);\n  context.restore();\n}\nfunction drawParticlePlugin(context, plugin, particle, delta) {\n  if (!plugin.drawParticle) {\n    return;\n  }\n  context.save();\n  plugin.drawParticle(context, particle, delta);\n  context.restore();\n}\nfunction alterHsl(color, type, value) {\n  return {\n    h: color.h,\n    s: color.s,\n    l: color.l + (type === \"darken\" ? -1 : 1) * value\n  };\n}\nvar __classPrivateFieldSet$9 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$8 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Canvas_context;\nfunction setTransformValue(factor, newFactor, key) {\n  var _a;\n  const newValue = newFactor[key];\n  if (newValue !== void 0) {\n    factor[key] = ((_a = factor[key]) !== null && _a !== void 0 ? _a : 1) * newValue;\n  }\n}\nclass Canvas {\n  constructor(container2) {\n    this.container = container2;\n    _Canvas_context.set(this, void 0);\n    this.size = {\n      height: 0,\n      width: 0\n    };\n    __classPrivateFieldSet$9(this, _Canvas_context, null, \"f\");\n    this.generatedCanvas = false;\n  }\n  clear() {\n    const options = this.container.actualOptions, trail = options.particles.move.trail;\n    if (options.backgroundMask.enable) {\n      this.paint();\n    } else if (trail.enable && trail.length > 0 && this.trailFillColor) {\n      this.paintBase(getStyleFromRgb(this.trailFillColor, 1 / trail.length));\n    } else {\n      this.draw((ctx) => {\n        clear(ctx, this.size);\n      });\n    }\n  }\n  destroy() {\n    var _a;\n    if (this.generatedCanvas) {\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n    } else {\n      this.resetOriginalStyle();\n    }\n    this.draw((ctx) => {\n      clear(ctx, this.size);\n    });\n  }\n  draw(cb) {\n    if (!__classPrivateFieldGet$8(this, _Canvas_context, \"f\")) {\n      return;\n    }\n    return cb(__classPrivateFieldGet$8(this, _Canvas_context, \"f\"));\n  }\n  drawParticle(particle, delta) {\n    var _a, _b, _c, _d, _e, _f;\n    if (particle.spawning || particle.destroyed) {\n      return;\n    }\n    const radius = particle.getRadius();\n    if (radius <= 0) {\n      return;\n    }\n    const pfColor = particle.getFillColor(), psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;\n    if (!pfColor && !psColor) {\n      return;\n    }\n    let [fColor, sColor] = this.getPluginParticleColors(particle);\n    if (!fColor || !sColor) {\n      if (!fColor) {\n        fColor = pfColor ? pfColor : void 0;\n      }\n      if (!sColor) {\n        sColor = psColor ? psColor : void 0;\n      }\n    }\n    const options = this.container.actualOptions, zIndexOptions = particle.options.zIndex, zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate, opacity = (_d = (_b = particle.bubble.opacity) !== null && _b !== void 0 ? _b : (_c = particle.opacity) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : 1, strokeOpacity = (_f = (_e = particle.stroke) === null || _e === void 0 ? void 0 : _e.opacity) !== null && _f !== void 0 ? _f : opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor;\n    const colorStyles = {\n      fill: fColor ? getStyleFromHsl(fColor, zOpacity) : void 0\n    };\n    colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n    this.draw((ctx) => {\n      const transform = {};\n      const zSizeFactor = (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate, container2 = this.container;\n      for (const updater of container2.particles.updaters) {\n        if (updater.beforeDraw) {\n          updater.beforeDraw(particle);\n        }\n        if (updater.getColorStyles) {\n          const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n          if (fill) {\n            colorStyles.fill = fill;\n          }\n          if (stroke) {\n            colorStyles.stroke = stroke;\n          }\n        }\n        if (updater.getTransformValues) {\n          const updaterTransform = updater.getTransformValues(particle);\n          for (const key in updaterTransform) {\n            setTransformValue(transform, updaterTransform, key);\n          }\n        }\n      }\n      drawParticle(container2, ctx, particle, delta, colorStyles, options.backgroundMask.enable, options.backgroundMask.composite, radius * zSizeFactor, zOpacity, particle.options.shadow, transform);\n      for (const updater of container2.particles.updaters) {\n        if (updater.afterDraw) {\n          updater.afterDraw(particle);\n        }\n      }\n    });\n  }\n  drawParticlePlugin(plugin, particle, delta) {\n    this.draw((ctx) => {\n      drawParticlePlugin(ctx, plugin, particle, delta);\n    });\n  }\n  drawPlugin(plugin, delta) {\n    this.draw((ctx) => {\n      drawPlugin(ctx, plugin, delta);\n    });\n  }\n  init() {\n    this.resize();\n    this.initStyle();\n    this.initCover();\n    this.initTrail();\n    this.initBackground();\n    this.paint();\n  }\n  initBackground() {\n    const options = this.container.actualOptions, background = options.background, element = this.element, elementStyle = element === null || element === void 0 ? void 0 : element.style;\n    if (!elementStyle) {\n      return;\n    }\n    if (background.color) {\n      const color = rangeColorToRgb(background.color);\n      elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n    } else {\n      elementStyle.backgroundColor = \"\";\n    }\n    elementStyle.backgroundImage = background.image || \"\";\n    elementStyle.backgroundPosition = background.position || \"\";\n    elementStyle.backgroundRepeat = background.repeat || \"\";\n    elementStyle.backgroundSize = background.size || \"\";\n  }\n  loadCanvas(canvas) {\n    var _a;\n    if (this.generatedCanvas) {\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n    this.generatedCanvas = canvas.dataset && generatedAttribute in canvas.dataset ? canvas.dataset[generatedAttribute] === \"true\" : this.generatedCanvas;\n    this.element = canvas;\n    this.originalStyle = deepExtend({}, this.element.style);\n    this.size.height = canvas.offsetHeight;\n    this.size.width = canvas.offsetWidth;\n    __classPrivateFieldSet$9(this, _Canvas_context, this.element.getContext(\"2d\"), \"f\");\n    this.container.retina.init();\n    this.initBackground();\n  }\n  paint() {\n    const options = this.container.actualOptions;\n    this.draw((ctx) => {\n      if (options.backgroundMask.enable && options.backgroundMask.cover) {\n        clear(ctx, this.size);\n        this.paintBase(this.coverColorStyle);\n      } else {\n        this.paintBase();\n      }\n    });\n  }\n  resize() {\n    if (!this.element) {\n      return;\n    }\n    const container2 = this.container, pxRatio = container2.retina.pixelRatio, size = container2.canvas.size, newSize = {\n      width: this.element.offsetWidth * pxRatio,\n      height: this.element.offsetHeight * pxRatio\n    };\n    if (newSize.height === size.height && newSize.width === size.width && newSize.height === this.element.height && newSize.width === this.element.width) {\n      return;\n    }\n    const oldSize = Object.assign({}, size);\n    this.element.width = size.width = this.element.offsetWidth * pxRatio;\n    this.element.height = size.height = this.element.offsetHeight * pxRatio;\n    if (this.container.started) {\n      this.resizeFactor = {\n        width: size.width / oldSize.width,\n        height: size.height / oldSize.height\n      };\n    }\n  }\n  async windowResize() {\n    if (!this.element) {\n      return;\n    }\n    this.resize();\n    const container2 = this.container, needsRefresh = container2.updateActualOptions();\n    container2.particles.setDensity();\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.resize !== void 0) {\n        plugin.resize();\n      }\n    }\n    if (needsRefresh) {\n      await container2.refresh();\n    }\n  }\n  getPluginParticleColors(particle) {\n    let fColor, sColor;\n    for (const [, plugin] of this.container.plugins) {\n      if (!fColor && plugin.particleFillColor) {\n        fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n      }\n      if (!sColor && plugin.particleStrokeColor) {\n        sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n      }\n      if (fColor && sColor) {\n        break;\n      }\n    }\n    return [fColor, sColor];\n  }\n  initCover() {\n    const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color, coverRgb = rangeColorToRgb(color);\n    if (coverRgb) {\n      const coverColor = {\n        r: coverRgb.r,\n        g: coverRgb.g,\n        b: coverRgb.b,\n        a: cover.opacity\n      };\n      this.coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n    }\n  }\n  initStyle() {\n    const element = this.element, options = this.container.actualOptions;\n    if (!element) {\n      return;\n    }\n    if (options.fullScreen.enable) {\n      this.originalStyle = deepExtend({}, element.style);\n      element.style.setProperty(\"position\", \"fixed\", \"important\");\n      element.style.setProperty(\"z-index\", options.fullScreen.zIndex.toString(10), \"important\");\n      element.style.setProperty(\"top\", \"0\", \"important\");\n      element.style.setProperty(\"left\", \"0\", \"important\");\n      element.style.setProperty(\"width\", \"100%\", \"important\");\n      element.style.setProperty(\"height\", \"100%\", \"important\");\n    } else {\n      this.resetOriginalStyle();\n    }\n    for (const key in options.style) {\n      if (!key || !options.style) {\n        continue;\n      }\n      const value = options.style[key];\n      if (!value) {\n        continue;\n      }\n      element.style.setProperty(key, value, \"important\");\n    }\n  }\n  initTrail() {\n    const options = this.container.actualOptions, trail = options.particles.move.trail, fillColor = rangeColorToRgb(trail.fillColor);\n    if (fillColor) {\n      const trail2 = options.particles.move.trail;\n      this.trailFillColor = {\n        r: fillColor.r,\n        g: fillColor.g,\n        b: fillColor.b,\n        a: 1 / trail2.length\n      };\n    }\n  }\n  paintBase(baseColor) {\n    this.draw((ctx) => {\n      paintBase(ctx, this.size, baseColor);\n    });\n  }\n  resetOriginalStyle() {\n    const element = this.element, originalStyle = this.originalStyle;\n    if (element && originalStyle) {\n      element.style.position = originalStyle.position;\n      element.style.zIndex = originalStyle.zIndex;\n      element.style.top = originalStyle.top;\n      element.style.left = originalStyle.left;\n      element.style.width = originalStyle.width;\n      element.style.height = originalStyle.height;\n    }\n  }\n}\n_Canvas_context = /* @__PURE__ */ new WeakMap();\nfunction manageListener(element, event, handler, add, options) {\n  if (add) {\n    let addOptions = { passive: true };\n    if (typeof options === \"boolean\") {\n      addOptions.capture = options;\n    } else if (options !== void 0) {\n      addOptions = options;\n    }\n    element.addEventListener(event, handler, addOptions);\n  } else {\n    const removeOptions = options;\n    element.removeEventListener(event, handler, removeOptions);\n  }\n}\nclass EventListeners {\n  constructor(container2) {\n    this.container = container2;\n    this.canPush = true;\n    this.mouseMoveHandler = (e) => this.mouseTouchMove(e);\n    this.touchStartHandler = (e) => this.mouseTouchMove(e);\n    this.touchMoveHandler = (e) => this.mouseTouchMove(e);\n    this.touchEndHandler = () => this.mouseTouchFinish();\n    this.mouseLeaveHandler = () => this.mouseTouchFinish();\n    this.touchCancelHandler = () => this.mouseTouchFinish();\n    this.touchEndClickHandler = (e) => this.mouseTouchClick(e);\n    this.mouseUpHandler = (e) => this.mouseTouchClick(e);\n    this.mouseDownHandler = () => this.mouseDown();\n    this.visibilityChangeHandler = () => this.handleVisibilityChange();\n    this.themeChangeHandler = (e) => this.handleThemeChange(e);\n    this.oldThemeChangeHandler = (e) => this.handleThemeChange(e);\n    this.resizeHandler = () => this.handleWindowResize();\n  }\n  addListeners() {\n    this.manageListeners(true);\n  }\n  removeListeners() {\n    this.manageListeners(false);\n  }\n  doMouseTouchClick(e) {\n    const container2 = this.container, options = container2.actualOptions;\n    if (this.canPush) {\n      const mousePos = container2.interactivity.mouse.position;\n      if (!mousePos) {\n        return;\n      }\n      container2.interactivity.mouse.clickPosition = {\n        x: mousePos.x,\n        y: mousePos.y\n      };\n      container2.interactivity.mouse.clickTime = new Date().getTime();\n      const onClick = options.interactivity.events.onClick;\n      if (onClick.mode instanceof Array) {\n        for (const mode of onClick.mode) {\n          this.handleClickMode(mode);\n        }\n      } else {\n        this.handleClickMode(onClick.mode);\n      }\n    }\n    if (e.type === \"touchend\") {\n      setTimeout(() => this.mouseTouchFinish(), 500);\n    }\n  }\n  handleClickMode(mode) {\n    this.container.handleClickMode(mode);\n  }\n  handleThemeChange(e) {\n    const mediaEvent = e, themeName = mediaEvent.matches ? this.container.options.defaultDarkTheme : this.container.options.defaultLightTheme, theme = this.container.options.themes.find((theme2) => theme2.name === themeName);\n    if (theme && theme.default.auto) {\n      this.container.loadTheme(themeName);\n    }\n  }\n  handleVisibilityChange() {\n    const container2 = this.container, options = container2.actualOptions;\n    this.mouseTouchFinish();\n    if (!options.pauseOnBlur) {\n      return;\n    }\n    if (document === null || document === void 0 ? void 0 : document.hidden) {\n      container2.pageHidden = true;\n      container2.pause();\n    } else {\n      container2.pageHidden = false;\n      if (container2.getAnimationStatus()) {\n        container2.play(true);\n      } else {\n        container2.draw(true);\n      }\n    }\n  }\n  handleWindowResize() {\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n      delete this.resizeTimeout;\n    }\n    this.resizeTimeout = setTimeout(async () => {\n      var _a;\n      return (_a = this.container.canvas) === null || _a === void 0 ? void 0 : _a.windowResize();\n    }, 500);\n  }\n  manageListeners(add) {\n    var _a;\n    const container2 = this.container, options = container2.actualOptions, detectType = options.interactivity.detectsOn;\n    let mouseLeaveTmpEvent = mouseLeaveEvent;\n    if (detectType === \"window\") {\n      container2.interactivity.element = window;\n      mouseLeaveTmpEvent = mouseOutEvent;\n    } else if (detectType === \"parent\" && container2.canvas.element) {\n      const canvasEl = container2.canvas.element;\n      container2.interactivity.element = (_a = canvasEl.parentElement) !== null && _a !== void 0 ? _a : canvasEl.parentNode;\n    } else {\n      container2.interactivity.element = container2.canvas.element;\n    }\n    const mediaMatch = !isSsr() && typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\");\n    if (mediaMatch) {\n      if (mediaMatch.addEventListener !== void 0) {\n        manageListener(mediaMatch, \"change\", this.themeChangeHandler, add);\n      } else if (mediaMatch.addListener !== void 0) {\n        if (add) {\n          mediaMatch.addListener(this.oldThemeChangeHandler);\n        } else {\n          mediaMatch.removeListener(this.oldThemeChangeHandler);\n        }\n      }\n    }\n    const interactivityEl = container2.interactivity.element;\n    if (!interactivityEl) {\n      return;\n    }\n    const html = interactivityEl;\n    if (options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable) {\n      manageListener(interactivityEl, mouseMoveEvent, this.mouseMoveHandler, add);\n      manageListener(interactivityEl, touchStartEvent, this.touchStartHandler, add);\n      manageListener(interactivityEl, touchMoveEvent, this.touchMoveHandler, add);\n      if (!options.interactivity.events.onClick.enable) {\n        manageListener(interactivityEl, touchEndEvent, this.touchEndHandler, add);\n      } else {\n        manageListener(interactivityEl, touchEndEvent, this.touchEndClickHandler, add);\n        manageListener(interactivityEl, mouseUpEvent, this.mouseUpHandler, add);\n        manageListener(interactivityEl, mouseDownEvent, this.mouseDownHandler, add);\n      }\n      manageListener(interactivityEl, mouseLeaveTmpEvent, this.mouseLeaveHandler, add);\n      manageListener(interactivityEl, touchCancelEvent, this.touchCancelHandler, add);\n    }\n    if (container2.canvas.element) {\n      container2.canvas.element.style.pointerEvents = html === container2.canvas.element ? \"initial\" : \"none\";\n    }\n    if (options.interactivity.events.resize) {\n      if (typeof ResizeObserver !== \"undefined\") {\n        if (this.resizeObserver && !add) {\n          if (container2.canvas.element) {\n            this.resizeObserver.unobserve(container2.canvas.element);\n          }\n          this.resizeObserver.disconnect();\n          delete this.resizeObserver;\n        } else if (!this.resizeObserver && add && container2.canvas.element) {\n          this.resizeObserver = new ResizeObserver((entries) => {\n            const entry = entries.find((e) => e.target === container2.canvas.element);\n            if (!entry) {\n              return;\n            }\n            this.handleWindowResize();\n          });\n          this.resizeObserver.observe(container2.canvas.element);\n        }\n      } else {\n        manageListener(window, resizeEvent, this.resizeHandler, add);\n      }\n    }\n    if (document) {\n      manageListener(document, visibilityChangeEvent, this.visibilityChangeHandler, add, false);\n    }\n  }\n  mouseDown() {\n    const interactivity = this.container.interactivity;\n    if (interactivity) {\n      const mouse = interactivity.mouse;\n      mouse.clicking = true;\n      mouse.downPosition = mouse.position;\n    }\n  }\n  mouseTouchClick(e) {\n    const container2 = this.container, options = container2.actualOptions, mouse = container2.interactivity.mouse;\n    mouse.inside = true;\n    let handled = false;\n    const mousePosition = mouse.position;\n    if (!mousePosition || !options.interactivity.events.onClick.enable) {\n      return;\n    }\n    for (const [, plugin] of container2.plugins) {\n      if (!plugin.clickPositionValid) {\n        continue;\n      }\n      handled = plugin.clickPositionValid(mousePosition);\n      if (handled) {\n        break;\n      }\n    }\n    if (!handled) {\n      this.doMouseTouchClick(e);\n    }\n    mouse.clicking = false;\n  }\n  mouseTouchFinish() {\n    const interactivity = this.container.interactivity;\n    if (!interactivity) {\n      return;\n    }\n    const mouse = interactivity.mouse;\n    delete mouse.position;\n    delete mouse.clickPosition;\n    delete mouse.downPosition;\n    interactivity.status = mouseLeaveEvent;\n    mouse.inside = false;\n    mouse.clicking = false;\n  }\n  mouseTouchMove(e) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const container2 = this.container, options = container2.actualOptions;\n    if (!((_a = container2.interactivity) === null || _a === void 0 ? void 0 : _a.element)) {\n      return;\n    }\n    container2.interactivity.mouse.inside = true;\n    let pos;\n    const canvas = container2.canvas.element;\n    if (e.type.startsWith(\"mouse\")) {\n      this.canPush = true;\n      const mouseEvent = e;\n      if (container2.interactivity.element === window) {\n        if (canvas) {\n          const clientRect = canvas.getBoundingClientRect();\n          pos = {\n            x: mouseEvent.clientX - clientRect.left,\n            y: mouseEvent.clientY - clientRect.top\n          };\n        }\n      } else if (options.interactivity.detectsOn === \"parent\") {\n        const source = mouseEvent.target;\n        const target = mouseEvent.currentTarget;\n        const canvasEl = container2.canvas.element;\n        if (source && target && canvasEl) {\n          const sourceRect = source.getBoundingClientRect();\n          const targetRect = target.getBoundingClientRect();\n          const canvasRect = canvasEl.getBoundingClientRect();\n          pos = {\n            x: mouseEvent.offsetX + 2 * sourceRect.left - (targetRect.left + canvasRect.left),\n            y: mouseEvent.offsetY + 2 * sourceRect.top - (targetRect.top + canvasRect.top)\n          };\n        } else {\n          pos = {\n            x: (_b = mouseEvent.offsetX) !== null && _b !== void 0 ? _b : mouseEvent.clientX,\n            y: (_c = mouseEvent.offsetY) !== null && _c !== void 0 ? _c : mouseEvent.clientY\n          };\n        }\n      } else {\n        if (mouseEvent.target === container2.canvas.element) {\n          pos = {\n            x: (_d = mouseEvent.offsetX) !== null && _d !== void 0 ? _d : mouseEvent.clientX,\n            y: (_e = mouseEvent.offsetY) !== null && _e !== void 0 ? _e : mouseEvent.clientY\n          };\n        }\n      }\n    } else {\n      this.canPush = e.type !== \"touchmove\";\n      const touchEvent = e;\n      const lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\n      const canvasRect = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();\n      pos = {\n        x: lastTouch.clientX - ((_f = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _f !== void 0 ? _f : 0),\n        y: lastTouch.clientY - ((_g = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _g !== void 0 ? _g : 0)\n      };\n    }\n    const pxRatio = container2.retina.pixelRatio;\n    if (pos) {\n      pos.x *= pxRatio;\n      pos.y *= pxRatio;\n    }\n    container2.interactivity.mouse.position = pos;\n    container2.interactivity.status = mouseMoveEvent;\n  }\n}\nclass FrameManager {\n  constructor(container2) {\n    this.container = container2;\n  }\n  async nextFrame(timestamp) {\n    var _a;\n    try {\n      const container2 = this.container;\n      if (container2.lastFrameTime !== void 0 && timestamp < container2.lastFrameTime + 1e3 / container2.fpsLimit) {\n        container2.draw(false);\n        return;\n      }\n      (_a = container2.lastFrameTime) !== null && _a !== void 0 ? _a : container2.lastFrameTime = timestamp;\n      const deltaValue = timestamp - container2.lastFrameTime, delta = {\n        value: deltaValue,\n        factor: 60 * deltaValue / 1e3\n      };\n      container2.lifeTime += delta.value;\n      container2.lastFrameTime = timestamp;\n      if (deltaValue > 1e3) {\n        container2.draw(false);\n        return;\n      }\n      await container2.particles.draw(delta);\n      if (container2.duration > 0 && container2.lifeTime > container2.duration) {\n        container2.destroy();\n        return;\n      }\n      if (container2.getAnimationStatus()) {\n        container2.draw(false);\n      }\n    } catch (e) {\n      console.error(\"tsParticles error in animation loop\", e);\n    }\n  }\n}\nclass OptionsColor {\n  constructor() {\n    this.value = \"\";\n  }\n  static create(source, data) {\n    const color = new OptionsColor();\n    color.load(source);\n    if (data !== void 0) {\n      if (typeof data === \"string\" || data instanceof Array) {\n        color.load({ value: data });\n      } else {\n        color.load(data);\n      }\n    }\n    return color;\n  }\n  load(data) {\n    if ((data === null || data === void 0 ? void 0 : data.value) === void 0) {\n      return;\n    }\n    this.value = data.value;\n  }\n}\nclass Background {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"\";\n    this.image = \"\";\n    this.position = \"\";\n    this.repeat = \"\";\n    this.size = \"\";\n    this.opacity = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n    if (data.image !== void 0) {\n      this.image = data.image;\n    }\n    if (data.position !== void 0) {\n      this.position = data.position;\n    }\n    if (data.repeat !== void 0) {\n      this.repeat = data.repeat;\n    }\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass BackgroundMaskCover {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"#fff\";\n    this.opacity = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass BackgroundMask {\n  constructor() {\n    this.composite = \"destination-out\";\n    this.cover = new BackgroundMaskCover();\n    this.enable = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.composite !== void 0) {\n      this.composite = data.composite;\n    }\n    if (data.cover !== void 0) {\n      const cover = data.cover;\n      const color = typeof data.cover === \"string\" ? { color: data.cover } : data.cover;\n      this.cover.load(cover.color !== void 0 ? cover : { color });\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n  }\n}\nclass FullScreen {\n  constructor() {\n    this.enable = true;\n    this.zIndex = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.zIndex !== void 0) {\n      this.zIndex = data.zIndex;\n    }\n  }\n}\nclass ClickEvent {\n  constructor() {\n    this.enable = false;\n    this.mode = [];\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n  }\n}\nclass DivEvent {\n  constructor() {\n    this.selectors = [];\n    this.enable = false;\n    this.mode = [];\n    this.type = \"circle\";\n  }\n  get el() {\n    return this.elementId;\n  }\n  set el(value) {\n    this.elementId = value;\n  }\n  get elementId() {\n    return this.ids;\n  }\n  set elementId(value) {\n    this.ids = value;\n  }\n  get ids() {\n    return this.selectors instanceof Array ? this.selectors.map((t) => t.replace(\"#\", \"\")) : this.selectors.replace(\"#\", \"\");\n  }\n  set ids(value) {\n    this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;\n  }\n  load(data) {\n    var _a, _b;\n    if (!data) {\n      return;\n    }\n    const ids = (_b = (_a = data.ids) !== null && _a !== void 0 ? _a : data.elementId) !== null && _b !== void 0 ? _b : data.el;\n    if (ids !== void 0) {\n      this.ids = ids;\n    }\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n}\nclass Parallax {\n  constructor() {\n    this.enable = false;\n    this.force = 2;\n    this.smooth = 10;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.force !== void 0) {\n      this.force = data.force;\n    }\n    if (data.smooth !== void 0) {\n      this.smooth = data.smooth;\n    }\n  }\n}\nclass HoverEvent {\n  constructor() {\n    this.enable = false;\n    this.mode = [];\n    this.parallax = new Parallax();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n    this.parallax.load(data.parallax);\n  }\n}\nclass Events {\n  constructor() {\n    this.onClick = new ClickEvent();\n    this.onDiv = new DivEvent();\n    this.onHover = new HoverEvent();\n    this.resize = true;\n  }\n  get onclick() {\n    return this.onClick;\n  }\n  set onclick(value) {\n    this.onClick = value;\n  }\n  get ondiv() {\n    return this.onDiv;\n  }\n  set ondiv(value) {\n    this.onDiv = value;\n  }\n  get onhover() {\n    return this.onHover;\n  }\n  set onhover(value) {\n    this.onHover = value;\n  }\n  load(data) {\n    var _a, _b, _c;\n    if (!data) {\n      return;\n    }\n    this.onClick.load((_a = data.onClick) !== null && _a !== void 0 ? _a : data.onclick);\n    const onDiv = (_b = data.onDiv) !== null && _b !== void 0 ? _b : data.ondiv;\n    if (onDiv !== void 0) {\n      if (onDiv instanceof Array) {\n        this.onDiv = onDiv.map((div) => {\n          const tmp = new DivEvent();\n          tmp.load(div);\n          return tmp;\n        });\n      } else {\n        this.onDiv = new DivEvent();\n        this.onDiv.load(onDiv);\n      }\n    }\n    this.onHover.load((_c = data.onHover) !== null && _c !== void 0 ? _c : data.onhover);\n    if (data.resize !== void 0) {\n      this.resize = data.resize;\n    }\n  }\n}\nclass Attract {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.easing = \"ease-out-quad\";\n    this.factor = 1;\n    this.maxSpeed = 50;\n    this.speed = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n    if (data.easing !== void 0) {\n      this.easing = data.easing;\n    }\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = data.maxSpeed;\n    }\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n  }\n}\nclass Bounce {\n  constructor() {\n    this.distance = 200;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n  }\n}\nclass BubbleBase {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.mix = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n    if (data.mix !== void 0) {\n      this.mix = data.mix;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n    if (data.color !== void 0) {\n      if (data.color instanceof Array) {\n        this.color = data.color.map((s) => OptionsColor.create(void 0, s));\n      } else {\n        if (this.color instanceof Array) {\n          this.color = new OptionsColor();\n        }\n        this.color = OptionsColor.create(this.color, data.color);\n      }\n    }\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n  }\n}\nclass BubbleDiv extends BubbleBase {\n  constructor() {\n    super();\n    this.selectors = [];\n  }\n  get ids() {\n    return this.selectors instanceof Array ? this.selectors.map((t) => t.replace(\"#\", \"\")) : this.selectors.replace(\"#\", \"\");\n  }\n  set ids(value) {\n    this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;\n  }\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.ids !== void 0) {\n      this.ids = data.ids;\n    }\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n  }\n}\nclass Bubble extends BubbleBase {\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.divs instanceof Array) {\n      this.divs = data.divs.map((s) => {\n        const tmp = new BubbleDiv();\n        tmp.load(s);\n        return tmp;\n      });\n    } else {\n      if (this.divs instanceof Array || !this.divs) {\n        this.divs = new BubbleDiv();\n      }\n      this.divs.load(data.divs);\n    }\n  }\n}\nclass ConnectLinks {\n  constructor() {\n    this.opacity = 0.5;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass Connect {\n  constructor() {\n    this.distance = 80;\n    this.links = new ConnectLinks();\n    this.radius = 60;\n  }\n  get lineLinked() {\n    return this.links;\n  }\n  set lineLinked(value) {\n    this.links = value;\n  }\n  get line_linked() {\n    return this.links;\n  }\n  set line_linked(value) {\n    this.links = value;\n  }\n  load(data) {\n    var _a, _b;\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n}\nclass GrabLinks {\n  constructor() {\n    this.blink = false;\n    this.consent = false;\n    this.opacity = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.blink !== void 0) {\n      this.blink = data.blink;\n    }\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n    if (data.consent !== void 0) {\n      this.consent = data.consent;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass Grab {\n  constructor() {\n    this.distance = 100;\n    this.links = new GrabLinks();\n  }\n  get lineLinked() {\n    return this.links;\n  }\n  set lineLinked(value) {\n    this.links = value;\n  }\n  get line_linked() {\n    return this.links;\n  }\n  set line_linked(value) {\n    this.links = value;\n  }\n  load(data) {\n    var _a, _b;\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\n  }\n}\nclass LightGradient {\n  constructor() {\n    this.start = new OptionsColor();\n    this.stop = new OptionsColor();\n    this.start.value = \"#ffffff\";\n    this.stop.value = \"#000000\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.start = OptionsColor.create(this.start, data.start);\n    this.stop = OptionsColor.create(this.stop, data.stop);\n  }\n}\nclass LightArea {\n  constructor() {\n    this.gradient = new LightGradient();\n    this.radius = 1e3;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.gradient.load(data.gradient);\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n}\nclass LightShadow {\n  constructor() {\n    this.color = new OptionsColor();\n    this.color.value = \"#000000\";\n    this.length = 2e3;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.color = OptionsColor.create(this.color, data.color);\n    if (data.length !== void 0) {\n      this.length = data.length;\n    }\n  }\n}\nclass Light {\n  constructor() {\n    this.area = new LightArea();\n    this.shadow = new LightShadow();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.area.load(data.area);\n    this.shadow.load(data.shadow);\n  }\n}\nclass Push {\n  constructor() {\n    this.default = true;\n    this.groups = [];\n    this.quantity = 4;\n  }\n  get particles_nb() {\n    return this.quantity;\n  }\n  set particles_nb(value) {\n    this.quantity = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    if (data.default !== void 0) {\n      this.default = data.default;\n    }\n    if (data.groups !== void 0) {\n      this.groups = data.groups.map((t) => t);\n    }\n    if (!this.groups.length) {\n      this.default = true;\n    }\n    const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\n    if (quantity !== void 0) {\n      this.quantity = quantity;\n    }\n  }\n}\nclass Remove {\n  constructor() {\n    this.quantity = 2;\n  }\n  get particles_nb() {\n    return this.quantity;\n  }\n  set particles_nb(value) {\n    this.quantity = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\n    if (quantity !== void 0) {\n      this.quantity = quantity;\n    }\n  }\n}\nclass RepulseBase {\n  constructor() {\n    this.distance = 200;\n    this.duration = 0.4;\n    this.factor = 100;\n    this.speed = 1;\n    this.maxSpeed = 50;\n    this.easing = \"ease-out-quad\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n    if (data.easing !== void 0) {\n      this.easing = data.easing;\n    }\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = data.maxSpeed;\n    }\n  }\n}\nclass RepulseDiv extends RepulseBase {\n  constructor() {\n    super();\n    this.selectors = [];\n  }\n  get ids() {\n    if (this.selectors instanceof Array) {\n      return this.selectors.map((t) => t.replace(\"#\", \"\"));\n    } else {\n      return this.selectors.replace(\"#\", \"\");\n    }\n  }\n  set ids(value) {\n    if (value instanceof Array) {\n      this.selectors = value.map(() => `#${value}`);\n    } else {\n      this.selectors = `#${value}`;\n    }\n  }\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.ids !== void 0) {\n      this.ids = data.ids;\n    }\n    if (data.selectors !== void 0) {\n      this.selectors = data.selectors;\n    }\n  }\n}\nclass Repulse extends RepulseBase {\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.divs instanceof Array) {\n      this.divs = data.divs.map((s) => {\n        const tmp = new RepulseDiv();\n        tmp.load(s);\n        return tmp;\n      });\n    } else {\n      if (this.divs instanceof Array || !this.divs) {\n        this.divs = new RepulseDiv();\n      }\n      this.divs.load(data.divs);\n    }\n  }\n}\nclass Slow {\n  constructor() {\n    this.factor = 3;\n    this.radius = 200;\n  }\n  get active() {\n    return false;\n  }\n  set active(_value) {\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n    if (data.radius !== void 0) {\n      this.radius = data.radius;\n    }\n  }\n}\nclass Trail {\n  constructor() {\n    this.delay = 1;\n    this.pauseOnStop = false;\n    this.quantity = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.delay !== void 0) {\n      this.delay = data.delay;\n    }\n    if (data.quantity !== void 0) {\n      this.quantity = data.quantity;\n    }\n    if (data.particles !== void 0) {\n      this.particles = deepExtend({}, data.particles);\n    }\n    if (data.pauseOnStop !== void 0) {\n      this.pauseOnStop = data.pauseOnStop;\n    }\n  }\n}\nclass Modes {\n  constructor() {\n    this.attract = new Attract();\n    this.bounce = new Bounce();\n    this.bubble = new Bubble();\n    this.connect = new Connect();\n    this.grab = new Grab();\n    this.light = new Light();\n    this.push = new Push();\n    this.remove = new Remove();\n    this.repulse = new Repulse();\n    this.slow = new Slow();\n    this.trail = new Trail();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.attract.load(data.attract);\n    this.bubble.load(data.bubble);\n    this.connect.load(data.connect);\n    this.grab.load(data.grab);\n    this.light.load(data.light);\n    this.push.load(data.push);\n    this.remove.load(data.remove);\n    this.repulse.load(data.repulse);\n    this.slow.load(data.slow);\n    this.trail.load(data.trail);\n  }\n}\nclass Interactivity {\n  constructor() {\n    this.detectsOn = \"window\";\n    this.events = new Events();\n    this.modes = new Modes();\n  }\n  get detect_on() {\n    return this.detectsOn;\n  }\n  set detect_on(value) {\n    this.detectsOn = value;\n  }\n  load(data) {\n    var _a, _b, _c;\n    if (!data) {\n      return;\n    }\n    const detectsOn = (_a = data.detectsOn) !== null && _a !== void 0 ? _a : data.detect_on;\n    if (detectsOn !== void 0) {\n      this.detectsOn = detectsOn;\n    }\n    this.events.load(data.events);\n    this.modes.load(data.modes);\n    if (((_c = (_b = data.modes) === null || _b === void 0 ? void 0 : _b.slow) === null || _c === void 0 ? void 0 : _c.active) === true) {\n      if (this.events.onHover.mode instanceof Array) {\n        if (this.events.onHover.mode.indexOf(\"slow\") < 0) {\n          this.events.onHover.mode.push(\"slow\");\n        }\n      } else if (this.events.onHover.mode !== \"slow\") {\n        this.events.onHover.mode = [this.events.onHover.mode, \"slow\"];\n      }\n    }\n  }\n}\nclass ManualParticle {\n  load(data) {\n    var _a, _b;\n    if (!data) {\n      return;\n    }\n    if (data.position !== void 0) {\n      this.position = {\n        x: (_a = data.position.x) !== null && _a !== void 0 ? _a : 50,\n        y: (_b = data.position.y) !== null && _b !== void 0 ? _b : 50\n      };\n    }\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n}\nclass MotionReduce {\n  constructor() {\n    this.factor = 4;\n    this.value = true;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n}\nclass Motion {\n  constructor() {\n    this.disable = false;\n    this.reduce = new MotionReduce();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.disable !== void 0) {\n      this.disable = data.disable;\n    }\n    this.reduce.load(data.reduce);\n  }\n}\nclass Responsive {\n  constructor() {\n    this.maxWidth = Infinity;\n    this.options = {};\n    this.mode = \"canvas\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.maxWidth !== void 0) {\n      this.maxWidth = data.maxWidth;\n    }\n    if (data.mode !== void 0) {\n      if (data.mode === \"screen\") {\n        this.mode = \"screen\";\n      } else {\n        this.mode = \"canvas\";\n      }\n    }\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n}\nclass ThemeDefault {\n  constructor() {\n    this.auto = false;\n    this.mode = \"any\";\n    this.value = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.auto !== void 0) {\n      this.auto = data.auto;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n}\nclass Theme {\n  constructor() {\n    this.name = \"\";\n    this.default = new ThemeDefault();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.name !== void 0) {\n      this.name = data.name;\n    }\n    this.default.load(data.default);\n    if (data.options !== void 0) {\n      this.options = deepExtend({}, data.options);\n    }\n  }\n}\nclass ColorAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.offset = 0;\n    this.speed = 1;\n    this.decay = 0;\n    this.sync = true;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.offset !== void 0) {\n      this.offset = setRangeValue(data.offset);\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass HslAnimation {\n  constructor() {\n    this.h = new ColorAnimation();\n    this.s = new ColorAnimation();\n    this.l = new ColorAnimation();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.h.load(data.h);\n    this.s.load(data.s);\n    this.l.load(data.l);\n  }\n}\nclass AnimatableColor extends OptionsColor {\n  constructor() {\n    super();\n    this.animation = new HslAnimation();\n  }\n  static create(source, data) {\n    const color = new AnimatableColor();\n    color.load(source);\n    if (data !== void 0) {\n      if (typeof data === \"string\" || data instanceof Array) {\n        color.load({ value: data });\n      } else {\n        color.load(data);\n      }\n    }\n    return color;\n  }\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    const colorAnimation = data.animation;\n    if (colorAnimation !== void 0) {\n      if (colorAnimation.enable !== void 0) {\n        this.animation.h.load(colorAnimation);\n      } else {\n        this.animation.load(data.animation);\n      }\n    }\n  }\n}\nclass GradientColorOpacityAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n    this.startValue = \"random\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n  }\n}\nclass GradientColorOpacity {\n  constructor() {\n    this.value = 0;\n    this.animation = new GradientColorOpacityAnimation();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.animation.load(data.animation);\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value);\n    }\n  }\n}\nclass AnimatableGradientColor {\n  constructor() {\n    this.stop = 0;\n    this.value = new AnimatableColor();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.stop !== void 0) {\n      this.stop = data.stop;\n    }\n    this.value = AnimatableColor.create(this.value, data.value);\n    if (data.opacity !== void 0) {\n      this.opacity = new GradientColorOpacity();\n      if (typeof data.opacity === \"number\") {\n        this.opacity.value = data.opacity;\n      } else {\n        this.opacity.load(data.opacity);\n      }\n    }\n  }\n}\nclass GradientAngleAnimation {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass GradientAngle {\n  constructor() {\n    this.value = 0;\n    this.animation = new GradientAngleAnimation();\n    this.direction = \"clockwise\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.animation.load(data.animation);\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n  }\n}\nclass AnimatableGradient {\n  constructor() {\n    this.angle = new GradientAngle();\n    this.colors = [];\n    this.type = \"random\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.angle.load(data.angle);\n    if (data.colors !== void 0) {\n      this.colors = data.colors.map((s) => {\n        const tmp = new AnimatableGradientColor();\n        tmp.load(s);\n        return tmp;\n      });\n    }\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n}\nclass CollisionsOverlap {\n  constructor() {\n    this.enable = true;\n    this.retries = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.retries !== void 0) {\n      this.retries = data.retries;\n    }\n  }\n}\nclass Random {\n  constructor() {\n    this.enable = false;\n    this.minimumValue = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.minimumValue !== void 0) {\n      this.minimumValue = data.minimumValue;\n    }\n  }\n}\nclass ValueWithRandom {\n  constructor() {\n    this.random = new Random();\n    this.value = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (typeof data.random === \"boolean\") {\n      this.random.enable = data.random;\n    } else {\n      this.random.load(data.random);\n    }\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value, this.random.enable ? this.random.minimumValue : void 0);\n    }\n  }\n}\nclass ParticlesBounceFactor extends ValueWithRandom {\n  constructor() {\n    super();\n    this.random.minimumValue = 0.1;\n    this.value = 1;\n  }\n}\nclass ParticlesBounce {\n  constructor() {\n    this.horizontal = new ParticlesBounceFactor();\n    this.vertical = new ParticlesBounceFactor();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.horizontal.load(data.horizontal);\n    this.vertical.load(data.vertical);\n  }\n}\nclass Collisions {\n  constructor() {\n    this.bounce = new ParticlesBounce();\n    this.enable = false;\n    this.mode = \"bounce\";\n    this.overlap = new CollisionsOverlap();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    this.bounce.load(data.bounce);\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n    this.overlap.load(data.overlap);\n  }\n}\nclass SplitFactor extends ValueWithRandom {\n  constructor() {\n    super();\n    this.value = 3;\n  }\n}\nclass SplitRate extends ValueWithRandom {\n  constructor() {\n    super();\n    this.value = { min: 4, max: 9 };\n  }\n}\nclass Split {\n  constructor() {\n    this.count = 1;\n    this.factor = new SplitFactor();\n    this.rate = new SplitRate();\n    this.sizeOffset = true;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.count !== void 0) {\n      this.count = data.count;\n    }\n    this.factor.load(data.factor);\n    this.rate.load(data.rate);\n    if (data.particles !== void 0) {\n      if (data.particles instanceof Array) {\n        this.particles = data.particles.map((s) => {\n          return deepExtend({}, s);\n        });\n      } else {\n        this.particles = deepExtend({}, data.particles);\n      }\n    }\n    if (data.sizeOffset !== void 0) {\n      this.sizeOffset = data.sizeOffset;\n    }\n  }\n}\nclass Destroy {\n  constructor() {\n    this.mode = \"none\";\n    this.split = new Split();\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.mode !== void 0) {\n      this.mode = data.mode;\n    }\n    this.split.load(data.split);\n  }\n}\nclass LinksShadow {\n  constructor() {\n    this.blur = 5;\n    this.color = new OptionsColor();\n    this.color.value = \"#000\";\n    this.enable = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.blur !== void 0) {\n      this.blur = data.blur;\n    }\n    this.color = OptionsColor.create(this.color, data.color);\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n  }\n}\nclass LinksTriangle {\n  constructor() {\n    this.enable = false;\n    this.frequency = 1;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.color !== void 0) {\n      this.color = OptionsColor.create(this.color, data.color);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.frequency !== void 0) {\n      this.frequency = data.frequency;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass Links {\n  constructor() {\n    this.blink = false;\n    this.color = new OptionsColor();\n    this.color.value = \"#fff\";\n    this.consent = false;\n    this.distance = 100;\n    this.enable = false;\n    this.frequency = 1;\n    this.opacity = 1;\n    this.shadow = new LinksShadow();\n    this.triangles = new LinksTriangle();\n    this.width = 1;\n    this.warp = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.id !== void 0) {\n      this.id = data.id;\n    }\n    if (data.blink !== void 0) {\n      this.blink = data.blink;\n    }\n    this.color = OptionsColor.create(this.color, data.color);\n    if (data.consent !== void 0) {\n      this.consent = data.consent;\n    }\n    if (data.distance !== void 0) {\n      this.distance = data.distance;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.frequency !== void 0) {\n      this.frequency = data.frequency;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n    this.shadow.load(data.shadow);\n    this.triangles.load(data.triangles);\n    if (data.width !== void 0) {\n      this.width = data.width;\n    }\n    if (data.warp !== void 0) {\n      this.warp = data.warp;\n    }\n  }\n}\nclass MoveAngle {\n  constructor() {\n    this.offset = 0;\n    this.value = 90;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.offset !== void 0) {\n      this.offset = setRangeValue(data.offset);\n    }\n    if (data.value !== void 0) {\n      this.value = setRangeValue(data.value);\n    }\n  }\n}\nclass MoveAttract {\n  constructor() {\n    this.distance = 200;\n    this.enable = false;\n    this.rotate = {\n      x: 3e3,\n      y: 3e3\n    };\n  }\n  get rotateX() {\n    return this.rotate.x;\n  }\n  set rotateX(value) {\n    this.rotate.x = value;\n  }\n  get rotateY() {\n    return this.rotate.y;\n  }\n  set rotateY(value) {\n    this.rotate.y = value;\n  }\n  load(data) {\n    var _a, _b, _c, _d;\n    if (!data) {\n      return;\n    }\n    if (data.distance !== void 0) {\n      this.distance = setRangeValue(data.distance);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    const rotateX = (_b = (_a = data.rotate) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : data.rotateX;\n    if (rotateX !== void 0) {\n      this.rotate.x = rotateX;\n    }\n    const rotateY = (_d = (_c = data.rotate) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : data.rotateY;\n    if (rotateY !== void 0) {\n      this.rotate.y = rotateY;\n    }\n  }\n}\nclass MoveGravity {\n  constructor() {\n    this.acceleration = 9.81;\n    this.enable = false;\n    this.inverse = false;\n    this.maxSpeed = 50;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.acceleration !== void 0) {\n      this.acceleration = setRangeValue(data.acceleration);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.inverse !== void 0) {\n      this.inverse = data.inverse;\n    }\n    if (data.maxSpeed !== void 0) {\n      this.maxSpeed = setRangeValue(data.maxSpeed);\n    }\n  }\n}\nclass MovePathDelay extends ValueWithRandom {\n  constructor() {\n    super();\n  }\n}\nclass MovePath {\n  constructor() {\n    this.clamp = true;\n    this.delay = new MovePathDelay();\n    this.enable = false;\n    this.options = {};\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.clamp !== void 0) {\n      this.clamp = data.clamp;\n    }\n    this.delay.load(data.delay);\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.generator = data.generator;\n    if (data.options) {\n      this.options = deepExtend(this.options, data.options);\n    }\n  }\n}\nclass MoveTrail {\n  constructor() {\n    this.enable = false;\n    this.length = 10;\n    this.fillColor = new OptionsColor();\n    this.fillColor.value = \"#000000\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.fillColor = OptionsColor.create(this.fillColor, data.fillColor);\n    if (data.length !== void 0) {\n      this.length = data.length;\n    }\n  }\n}\nclass OutModes {\n  constructor() {\n    this.default = \"out\";\n  }\n  load(data) {\n    var _a, _b, _c, _d;\n    if (!data) {\n      return;\n    }\n    if (data.default !== void 0) {\n      this.default = data.default;\n    }\n    this.bottom = (_a = data.bottom) !== null && _a !== void 0 ? _a : data.default;\n    this.left = (_b = data.left) !== null && _b !== void 0 ? _b : data.default;\n    this.right = (_c = data.right) !== null && _c !== void 0 ? _c : data.default;\n    this.top = (_d = data.top) !== null && _d !== void 0 ? _d : data.default;\n  }\n}\nclass Spin {\n  constructor() {\n    this.acceleration = 0;\n    this.enable = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.acceleration !== void 0) {\n      this.acceleration = setRangeValue(data.acceleration);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.position = data.position ? deepExtend({}, data.position) : void 0;\n  }\n}\nclass Move {\n  constructor() {\n    this.angle = new MoveAngle();\n    this.attract = new MoveAttract();\n    this.center = {\n      x: 50,\n      y: 50,\n      radius: 0\n    };\n    this.decay = 0;\n    this.distance = {};\n    this.direction = \"none\";\n    this.drift = 0;\n    this.enable = false;\n    this.gravity = new MoveGravity();\n    this.path = new MovePath();\n    this.outModes = new OutModes();\n    this.random = false;\n    this.size = false;\n    this.speed = 2;\n    this.spin = new Spin();\n    this.straight = false;\n    this.trail = new MoveTrail();\n    this.vibrate = false;\n    this.warp = false;\n  }\n  get bounce() {\n    return this.collisions;\n  }\n  set bounce(value) {\n    this.collisions = value;\n  }\n  get collisions() {\n    return false;\n  }\n  set collisions(value) {\n  }\n  get noise() {\n    return this.path;\n  }\n  set noise(value) {\n    this.path = value;\n  }\n  get outMode() {\n    return this.outModes.default;\n  }\n  set outMode(value) {\n    this.outModes.default = value;\n  }\n  get out_mode() {\n    return this.outMode;\n  }\n  set out_mode(value) {\n    this.outMode = value;\n  }\n  load(data) {\n    var _a, _b, _c;\n    if (!data) {\n      return;\n    }\n    if (data.angle !== void 0) {\n      if (typeof data.angle === \"number\") {\n        this.angle.value = data.angle;\n      } else {\n        this.angle.load(data.angle);\n      }\n    }\n    this.attract.load(data.attract);\n    this.center = deepExtend(this.center, data.center);\n    if (data.decay !== void 0) {\n      this.decay = data.decay;\n    }\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n    if (data.distance !== void 0) {\n      this.distance = typeof data.distance === \"number\" ? {\n        horizontal: data.distance,\n        vertical: data.distance\n      } : deepExtend({}, data.distance);\n    }\n    if (data.drift !== void 0) {\n      this.drift = setRangeValue(data.drift);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.gravity.load(data.gravity);\n    const outMode = (_a = data.outMode) !== null && _a !== void 0 ? _a : data.out_mode;\n    if (data.outModes !== void 0 || outMode !== void 0) {\n      if (typeof data.outModes === \"string\" || data.outModes === void 0 && outMode !== void 0) {\n        this.outModes.load({\n          default: (_b = data.outModes) !== null && _b !== void 0 ? _b : outMode\n        });\n      } else {\n        this.outModes.load(data.outModes);\n      }\n    }\n    this.path.load((_c = data.path) !== null && _c !== void 0 ? _c : data.noise);\n    if (data.random !== void 0) {\n      this.random = data.random;\n    }\n    if (data.size !== void 0) {\n      this.size = data.size;\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    this.spin.load(data.spin);\n    if (data.straight !== void 0) {\n      this.straight = data.straight;\n    }\n    this.trail.load(data.trail);\n    if (data.vibrate !== void 0) {\n      this.vibrate = data.vibrate;\n    }\n    if (data.warp !== void 0) {\n      this.warp = data.warp;\n    }\n  }\n}\nclass AnimationOptions {\n  constructor() {\n    this.count = 0;\n    this.enable = false;\n    this.speed = 1;\n    this.decay = 0;\n    this.sync = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.count !== void 0) {\n      this.count = setRangeValue(data.count);\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass OpacityAnimation extends AnimationOptions {\n  constructor() {\n    super();\n    this.destroy = \"none\";\n    this.enable = false;\n    this.speed = 2;\n    this.startValue = \"random\";\n    this.sync = false;\n  }\n  get opacity_min() {\n    return this.minimumValue;\n  }\n  set opacity_min(value) {\n    this.minimumValue = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    super.load(data);\n    if (data.destroy !== void 0) {\n      this.destroy = data.destroy;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.opacity_min;\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass Opacity extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new OpacityAnimation();\n    this.random.minimumValue = 0.1;\n    this.value = 1;\n  }\n  get anim() {\n    return this.animation;\n  }\n  set anim(value) {\n    this.animation = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    super.load(data);\n    const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n    if (animation !== void 0) {\n      this.animation.load(animation);\n      this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : void 0);\n    }\n  }\n}\nclass ParticlesDensity {\n  constructor() {\n    this.enable = false;\n    this.area = 800;\n    this.factor = 1e3;\n  }\n  get value_area() {\n    return this.area;\n  }\n  set value_area(value) {\n    this.area = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    const area = (_a = data.area) !== null && _a !== void 0 ? _a : data.value_area;\n    if (area !== void 0) {\n      this.area = area;\n    }\n    if (data.factor !== void 0) {\n      this.factor = data.factor;\n    }\n  }\n}\nclass ParticlesNumber {\n  constructor() {\n    this.density = new ParticlesDensity();\n    this.limit = 0;\n    this.value = 100;\n  }\n  get max() {\n    return this.limit;\n  }\n  set max(value) {\n    this.limit = value;\n  }\n  load(data) {\n    var _a;\n    if (!data) {\n      return;\n    }\n    this.density.load(data.density);\n    const limit = (_a = data.limit) !== null && _a !== void 0 ? _a : data.max;\n    if (limit !== void 0) {\n      this.limit = limit;\n    }\n    if (data.value !== void 0) {\n      this.value = data.value;\n    }\n  }\n}\nclass ParticlesRepulse extends ValueWithRandom {\n  constructor() {\n    super();\n    this.enabled = false;\n    this.distance = 1;\n    this.duration = 1;\n    this.factor = 1;\n    this.speed = 1;\n  }\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.enabled !== void 0) {\n      this.enabled = data.enabled;\n    }\n    if (data.distance !== void 0) {\n      this.distance = setRangeValue(data.distance);\n    }\n    if (data.duration !== void 0) {\n      this.duration = setRangeValue(data.duration);\n    }\n    if (data.factor !== void 0) {\n      this.factor = setRangeValue(data.factor);\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n  }\n}\nclass RotateAnimation {\n  constructor() {\n    this.enable = false;\n    this.speed = 0;\n    this.decay = 0;\n    this.sync = false;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.speed !== void 0) {\n      this.speed = setRangeValue(data.speed);\n    }\n    if (data.decay !== void 0) {\n      this.decay = setRangeValue(data.decay);\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass Rotate extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new RotateAnimation();\n    this.direction = \"clockwise\";\n    this.path = false;\n    this.value = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    super.load(data);\n    if (data.direction !== void 0) {\n      this.direction = data.direction;\n    }\n    this.animation.load(data.animation);\n    if (data.path !== void 0) {\n      this.path = data.path;\n    }\n  }\n}\nclass Shadow {\n  constructor() {\n    this.blur = 0;\n    this.color = new OptionsColor();\n    this.enable = false;\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    this.color.value = \"#000\";\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.blur !== void 0) {\n      this.blur = data.blur;\n    }\n    this.color = OptionsColor.create(this.color, data.color);\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    if (data.offset === void 0) {\n      return;\n    }\n    if (data.offset.x !== void 0) {\n      this.offset.x = data.offset.x;\n    }\n    if (data.offset.y !== void 0) {\n      this.offset.y = data.offset.y;\n    }\n  }\n}\nclass Shape {\n  constructor() {\n    this.options = {};\n    this.type = \"circle\";\n  }\n  get character() {\n    var _a;\n    return (_a = this.options[\"character\"]) !== null && _a !== void 0 ? _a : this.options[\"char\"];\n  }\n  set character(value) {\n    this.options[\"character\"] = value;\n    this.options[\"char\"] = value;\n  }\n  get custom() {\n    return this.options;\n  }\n  set custom(value) {\n    this.options = value;\n  }\n  get image() {\n    var _a;\n    return (_a = this.options[\"image\"]) !== null && _a !== void 0 ? _a : this.options[\"images\"];\n  }\n  set image(value) {\n    this.options[\"image\"] = value;\n    this.options[\"images\"] = value;\n  }\n  get images() {\n    return this.image;\n  }\n  set images(value) {\n    this.image = value;\n  }\n  get polygon() {\n    var _a;\n    return (_a = this.options[\"polygon\"]) !== null && _a !== void 0 ? _a : this.options[\"star\"];\n  }\n  set polygon(value) {\n    this.options[\"polygon\"] = value;\n    this.options[\"star\"] = value;\n  }\n  get stroke() {\n    return [];\n  }\n  set stroke(_value) {\n  }\n  load(data) {\n    var _a, _b, _c;\n    if (!data) {\n      return;\n    }\n    const options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;\n    if (options !== void 0) {\n      for (const shape in options) {\n        const item = options[shape];\n        if (item) {\n          this.options[shape] = deepExtend((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);\n        }\n      }\n    }\n    this.loadShape(data.character, \"character\", \"char\", true);\n    this.loadShape(data.polygon, \"polygon\", \"star\", false);\n    this.loadShape((_c = data.image) !== null && _c !== void 0 ? _c : data.images, \"image\", \"images\", true);\n    if (data.type !== void 0) {\n      this.type = data.type;\n    }\n  }\n  loadShape(item, mainKey, altKey, altOverride) {\n    var _a, _b, _c, _d;\n    if (item === void 0) {\n      return;\n    }\n    if (item instanceof Array) {\n      if (!(this.options[mainKey] instanceof Array)) {\n        this.options[mainKey] = [];\n        if (!this.options[altKey] || altOverride) {\n          this.options[altKey] = [];\n        }\n      }\n      this.options[mainKey] = deepExtend((_a = this.options[mainKey]) !== null && _a !== void 0 ? _a : [], item);\n      if (!this.options[altKey] || altOverride) {\n        this.options[altKey] = deepExtend((_b = this.options[altKey]) !== null && _b !== void 0 ? _b : [], item);\n      }\n    } else {\n      if (this.options[mainKey] instanceof Array) {\n        this.options[mainKey] = {};\n        if (!this.options[altKey] || altOverride) {\n          this.options[altKey] = {};\n        }\n      }\n      this.options[mainKey] = deepExtend((_c = this.options[mainKey]) !== null && _c !== void 0 ? _c : {}, item);\n      if (!this.options[altKey] || altOverride) {\n        this.options[altKey] = deepExtend((_d = this.options[altKey]) !== null && _d !== void 0 ? _d : {}, item);\n      }\n    }\n  }\n}\nclass SizeAnimation extends AnimationOptions {\n  constructor() {\n    super();\n    this.destroy = \"none\";\n    this.enable = false;\n    this.speed = 5;\n    this.startValue = \"random\";\n    this.sync = false;\n  }\n  get size_min() {\n    return this.minimumValue;\n  }\n  set size_min(value) {\n    this.minimumValue = value;\n  }\n  load(data) {\n    var _a;\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.destroy !== void 0) {\n      this.destroy = data.destroy;\n    }\n    if (data.enable !== void 0) {\n      this.enable = data.enable;\n    }\n    this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.size_min;\n    if (data.speed !== void 0) {\n      this.speed = data.speed;\n    }\n    if (data.startValue !== void 0) {\n      this.startValue = data.startValue;\n    }\n    if (data.sync !== void 0) {\n      this.sync = data.sync;\n    }\n  }\n}\nclass Size extends ValueWithRandom {\n  constructor() {\n    super();\n    this.animation = new SizeAnimation();\n    this.random.minimumValue = 1;\n    this.value = 3;\n  }\n  get anim() {\n    return this.animation;\n  }\n  set anim(value) {\n    this.animation = value;\n  }\n  load(data) {\n    var _a;\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n    if (animation !== void 0) {\n      this.animation.load(animation);\n      this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : void 0);\n    }\n  }\n}\nclass Stroke {\n  constructor() {\n    this.width = 0;\n  }\n  load(data) {\n    if (!data) {\n      return;\n    }\n    if (data.color !== void 0) {\n      this.color = AnimatableColor.create(this.color, data.color);\n    }\n    if (data.width !== void 0) {\n      this.width = data.width;\n    }\n    if (data.opacity !== void 0) {\n      this.opacity = data.opacity;\n    }\n  }\n}\nclass ZIndex extends ValueWithRandom {\n  constructor() {\n    super();\n    this.opacityRate = 1;\n    this.sizeRate = 1;\n    this.velocityRate = 1;\n  }\n  load(data) {\n    super.load(data);\n    if (!data) {\n      return;\n    }\n    if (data.opacityRate !== void 0) {\n      this.opacityRate = data.opacityRate;\n    }\n    if (data.sizeRate !== void 0) {\n      this.sizeRate = data.sizeRate;\n    }\n    if (data.velocityRate !== void 0) {\n      this.velocityRate = data.velocityRate;\n    }\n  }\n}\nvar __classPrivateFieldSet$8 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$7 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ParticlesOptions_container, _ParticlesOptions_engine;\nclass ParticlesOptions {\n  constructor(engine, container2) {\n    _ParticlesOptions_container.set(this, void 0);\n    _ParticlesOptions_engine.set(this, void 0);\n    __classPrivateFieldSet$8(this, _ParticlesOptions_engine, engine, \"f\");\n    __classPrivateFieldSet$8(this, _ParticlesOptions_container, container2, \"f\");\n    this.bounce = new ParticlesBounce();\n    this.collisions = new Collisions();\n    this.color = new AnimatableColor();\n    this.color.value = \"#fff\";\n    this.destroy = new Destroy();\n    this.gradient = [];\n    this.groups = {};\n    this.links = new Links();\n    this.move = new Move();\n    this.number = new ParticlesNumber();\n    this.opacity = new Opacity();\n    this.reduceDuplicates = false;\n    this.repulse = new ParticlesRepulse();\n    this.rotate = new Rotate();\n    this.shadow = new Shadow();\n    this.shape = new Shape();\n    this.size = new Size();\n    this.stroke = new Stroke();\n    this.zIndex = new ZIndex();\n  }\n  get lineLinked() {\n    return this.links;\n  }\n  set lineLinked(value) {\n    this.links = value;\n  }\n  get line_linked() {\n    return this.links;\n  }\n  set line_linked(value) {\n    this.links = value;\n  }\n  load(data) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (!data) {\n      return;\n    }\n    this.bounce.load(data.bounce);\n    this.color.load(AnimatableColor.create(this.color, data.color));\n    this.destroy.load(data.destroy);\n    const links = (_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked;\n    if (links !== void 0) {\n      this.links.load(links);\n    }\n    if (data.groups !== void 0) {\n      for (const group in data.groups) {\n        const item = data.groups[group];\n        if (item !== void 0) {\n          this.groups[group] = deepExtend((_c = this.groups[group]) !== null && _c !== void 0 ? _c : {}, item);\n        }\n      }\n    }\n    this.move.load(data.move);\n    this.number.load(data.number);\n    this.opacity.load(data.opacity);\n    if (data.reduceDuplicates !== void 0) {\n      this.reduceDuplicates = data.reduceDuplicates;\n    }\n    this.repulse.load(data.repulse);\n    this.rotate.load(data.rotate);\n    this.shape.load(data.shape);\n    this.size.load(data.size);\n    this.shadow.load(data.shadow);\n    this.zIndex.load(data.zIndex);\n    const collisions = (_e = (_d = data.move) === null || _d === void 0 ? void 0 : _d.collisions) !== null && _e !== void 0 ? _e : (_f = data.move) === null || _f === void 0 ? void 0 : _f.bounce;\n    if (collisions !== void 0) {\n      this.collisions.enable = collisions;\n    }\n    this.collisions.load(data.collisions);\n    if (data.interactivity !== void 0) {\n      this.interactivity = deepExtend({}, data.interactivity);\n    }\n    const strokeToLoad = (_g = data.stroke) !== null && _g !== void 0 ? _g : (_h = data.shape) === null || _h === void 0 ? void 0 : _h.stroke;\n    if (strokeToLoad) {\n      if (strokeToLoad instanceof Array) {\n        this.stroke = strokeToLoad.map((s) => {\n          const tmp = new Stroke();\n          tmp.load(s);\n          return tmp;\n        });\n      } else {\n        if (this.stroke instanceof Array) {\n          this.stroke = new Stroke();\n        }\n        this.stroke.load(strokeToLoad);\n      }\n    }\n    const gradientToLoad = data.gradient;\n    if (gradientToLoad) {\n      if (gradientToLoad instanceof Array) {\n        this.gradient = gradientToLoad.map((s) => {\n          const tmp = new AnimatableGradient();\n          tmp.load(s);\n          return tmp;\n        });\n      } else {\n        if (this.gradient instanceof Array) {\n          this.gradient = new AnimatableGradient();\n        }\n        this.gradient.load(gradientToLoad);\n      }\n    }\n    if (__classPrivateFieldGet$7(this, _ParticlesOptions_container, \"f\")) {\n      const updaters = __classPrivateFieldGet$7(this, _ParticlesOptions_engine, \"f\").plugins.updaters.get(__classPrivateFieldGet$7(this, _ParticlesOptions_container, \"f\"));\n      if (updaters) {\n        for (const updater of updaters) {\n          if (updater.loadOptions) {\n            updater.loadOptions(this, data);\n          }\n        }\n      }\n    }\n  }\n}\n_ParticlesOptions_container = /* @__PURE__ */ new WeakMap(), _ParticlesOptions_engine = /* @__PURE__ */ new WeakMap();\nfunction loadOptions(options, ...sourceOptionsArr) {\n  for (const sourceOptions of sourceOptionsArr) {\n    options.load(sourceOptions);\n  }\n}\nfunction loadParticlesOptions(engine, container2, ...sourceOptionsArr) {\n  const options = new ParticlesOptions(engine, container2);\n  loadOptions(options, ...sourceOptionsArr);\n  return options;\n}\nvar __classPrivateFieldSet$7 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$6 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Options_instances, _Options_container, _Options_engine, _Options_findDefaultTheme;\nclass Options {\n  constructor(engine, container2) {\n    _Options_instances.add(this);\n    _Options_container.set(this, void 0);\n    _Options_engine.set(this, void 0);\n    __classPrivateFieldSet$7(this, _Options_engine, engine, \"f\");\n    __classPrivateFieldSet$7(this, _Options_container, container2, \"f\");\n    this.autoPlay = true;\n    this.background = new Background();\n    this.backgroundMask = new BackgroundMask();\n    this.fullScreen = new FullScreen();\n    this.detectRetina = true;\n    this.duration = 0;\n    this.fpsLimit = 120;\n    this.interactivity = new Interactivity();\n    this.manualParticles = [];\n    this.motion = new Motion();\n    this.particles = loadParticlesOptions(__classPrivateFieldGet$6(this, _Options_engine, \"f\"), __classPrivateFieldGet$6(this, _Options_container, \"f\"));\n    this.pauseOnBlur = true;\n    this.pauseOnOutsideViewport = true;\n    this.responsive = [];\n    this.style = {};\n    this.themes = [];\n    this.zLayers = 100;\n  }\n  get backgroundMode() {\n    return this.fullScreen;\n  }\n  set backgroundMode(value) {\n    this.fullScreen.load(value);\n  }\n  get fps_limit() {\n    return this.fpsLimit;\n  }\n  set fps_limit(value) {\n    this.fpsLimit = value;\n  }\n  get retina_detect() {\n    return this.detectRetina;\n  }\n  set retina_detect(value) {\n    this.detectRetina = value;\n  }\n  load(data) {\n    var _a, _b, _c, _d, _e;\n    if (!data) {\n      return;\n    }\n    if (data.preset !== void 0) {\n      if (data.preset instanceof Array) {\n        for (const preset of data.preset) {\n          this.importPreset(preset);\n        }\n      } else {\n        this.importPreset(data.preset);\n      }\n    }\n    if (data.autoPlay !== void 0) {\n      this.autoPlay = data.autoPlay;\n    }\n    const detectRetina = (_a = data.detectRetina) !== null && _a !== void 0 ? _a : data.retina_detect;\n    if (detectRetina !== void 0) {\n      this.detectRetina = detectRetina;\n    }\n    if (data.duration !== void 0) {\n      this.duration = data.duration;\n    }\n    const fpsLimit = (_b = data.fpsLimit) !== null && _b !== void 0 ? _b : data.fps_limit;\n    if (fpsLimit !== void 0) {\n      this.fpsLimit = fpsLimit;\n    }\n    if (data.pauseOnBlur !== void 0) {\n      this.pauseOnBlur = data.pauseOnBlur;\n    }\n    if (data.pauseOnOutsideViewport !== void 0) {\n      this.pauseOnOutsideViewport = data.pauseOnOutsideViewport;\n    }\n    if (data.zLayers !== void 0) {\n      this.zLayers = data.zLayers;\n    }\n    this.background.load(data.background);\n    const fullScreen = (_c = data.fullScreen) !== null && _c !== void 0 ? _c : data.backgroundMode;\n    if (typeof fullScreen === \"boolean\") {\n      this.fullScreen.enable = fullScreen;\n    } else {\n      this.fullScreen.load(fullScreen);\n    }\n    this.backgroundMask.load(data.backgroundMask);\n    this.interactivity.load(data.interactivity);\n    if (data.manualParticles !== void 0) {\n      this.manualParticles = data.manualParticles.map((t) => {\n        const tmp = new ManualParticle();\n        tmp.load(t);\n        return tmp;\n      });\n    }\n    this.motion.load(data.motion);\n    this.particles.load(data.particles);\n    this.style = deepExtend(this.style, data.style);\n    __classPrivateFieldGet$6(this, _Options_engine, \"f\").plugins.loadOptions(this, data);\n    if (data.responsive !== void 0) {\n      for (const responsive of data.responsive) {\n        const optResponsive = new Responsive();\n        optResponsive.load(responsive);\n        this.responsive.push(optResponsive);\n      }\n    }\n    this.responsive.sort((a, b) => a.maxWidth - b.maxWidth);\n    if (data.themes !== void 0) {\n      for (const theme of data.themes) {\n        const optTheme = new Theme();\n        optTheme.load(theme);\n        this.themes.push(optTheme);\n      }\n    }\n    this.defaultDarkTheme = (_d = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, \"dark\")) === null || _d === void 0 ? void 0 : _d.name;\n    this.defaultLightTheme = (_e = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, \"light\")) === null || _e === void 0 ? void 0 : _e.name;\n  }\n  setResponsive(width, pxRatio, defaultOptions) {\n    this.load(defaultOptions);\n    const responsiveOptions = this.responsive.find((t) => t.mode === \"screen\" && screen ? t.maxWidth * pxRatio > screen.availWidth : t.maxWidth * pxRatio > width);\n    this.load(responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.options);\n    return responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.maxWidth;\n  }\n  setTheme(name) {\n    if (name) {\n      const chosenTheme = this.themes.find((theme) => theme.name === name);\n      if (chosenTheme) {\n        this.load(chosenTheme.options);\n      }\n    } else {\n      const mediaMatch = typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\"), clientDarkMode = mediaMatch && mediaMatch.matches, defaultTheme = __classPrivateFieldGet$6(this, _Options_instances, \"m\", _Options_findDefaultTheme).call(this, clientDarkMode ? \"dark\" : \"light\");\n      if (defaultTheme) {\n        this.load(defaultTheme.options);\n      }\n    }\n  }\n  importPreset(preset) {\n    this.load(__classPrivateFieldGet$6(this, _Options_engine, \"f\").plugins.getPreset(preset));\n  }\n}\n_Options_container = /* @__PURE__ */ new WeakMap(), _Options_engine = /* @__PURE__ */ new WeakMap(), _Options_instances = /* @__PURE__ */ new WeakSet(), _Options_findDefaultTheme = function _Options_findDefaultTheme2(mode) {\n  var _a;\n  return (_a = this.themes.find((theme) => theme.default.value && theme.default.mode === mode)) !== null && _a !== void 0 ? _a : this.themes.find((theme) => theme.default.value && theme.default.mode === \"any\");\n};\nvar __classPrivateFieldSet$6 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$5 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _InteractionManager_engine;\nclass InteractionManager {\n  constructor(engine, container2) {\n    this.container = container2;\n    _InteractionManager_engine.set(this, void 0);\n    __classPrivateFieldSet$6(this, _InteractionManager_engine, engine, \"f\");\n    this.externalInteractors = [];\n    this.particleInteractors = [];\n  }\n  async externalInteract(delta) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.isEnabled()) {\n        await interactor.interact(delta);\n      }\n    }\n  }\n  handleClickMode(mode) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.handleClickMode) {\n        interactor.handleClickMode(mode);\n      }\n    }\n  }\n  init() {\n    const interactors = __classPrivateFieldGet$5(this, _InteractionManager_engine, \"f\").plugins.getInteractors(this.container, true);\n    this.externalInteractors = [];\n    this.particleInteractors = [];\n    for (const interactor of interactors) {\n      switch (interactor.type) {\n        case 0:\n          this.externalInteractors.push(interactor);\n          break;\n        case 1:\n          this.particleInteractors.push(interactor);\n          break;\n      }\n      interactor.init();\n    }\n  }\n  async particlesInteract(particle, delta) {\n    for (const interactor of this.externalInteractors) {\n      interactor.clear(particle);\n    }\n    for (const interactor of this.particleInteractors) {\n      if (interactor.isEnabled(particle)) {\n        await interactor.interact(particle, delta);\n      }\n    }\n  }\n  async reset(particle) {\n    for (const interactor of this.externalInteractors) {\n      if (interactor.isEnabled()) {\n        await interactor.reset(particle);\n      }\n    }\n    for (const interactor of this.particleInteractors) {\n      if (interactor.isEnabled(particle)) {\n        await interactor.reset(particle);\n      }\n    }\n  }\n}\n_InteractionManager_engine = /* @__PURE__ */ new WeakMap();\nclass Vector3d extends Vector {\n  constructor(xOrCoords, y, z) {\n    super(xOrCoords, y);\n    if (typeof xOrCoords !== \"number\" && xOrCoords) {\n      this.z = xOrCoords.z;\n    } else if (z !== void 0) {\n      this.z = z;\n    } else {\n      throw new Error(\"tsParticles - Vector not initialized correctly\");\n    }\n  }\n  static get origin() {\n    return Vector3d.create(0, 0, 0);\n  }\n  static clone(source) {\n    return Vector3d.create(source.x, source.y, source.z);\n  }\n  static create(x, y, z) {\n    return new Vector3d(x, y, z);\n  }\n  add(v) {\n    return v instanceof Vector3d ? Vector3d.create(this.x + v.x, this.y + v.y, this.z + v.z) : super.add(v);\n  }\n  addTo(v) {\n    super.addTo(v);\n    if (v instanceof Vector3d) {\n      this.z += v.z;\n    }\n  }\n  copy() {\n    return Vector3d.clone(this);\n  }\n  div(n) {\n    return Vector3d.create(this.x / n, this.y / n, this.z / n);\n  }\n  divTo(n) {\n    super.divTo(n);\n    this.z /= n;\n  }\n  mult(n) {\n    return Vector3d.create(this.x * n, this.y * n, this.z * n);\n  }\n  multTo(n) {\n    super.multTo(n);\n    this.z *= n;\n  }\n  setTo(v) {\n    super.setTo(v);\n    const v3d = v;\n    if (v3d.z !== void 0) {\n      this.z = v3d.z;\n    }\n  }\n  sub(v) {\n    return v instanceof Vector3d ? Vector3d.create(this.x - v.x, this.y - v.y, this.z - v.z) : super.sub(v);\n  }\n  subFrom(v) {\n    super.subFrom(v);\n    if (v instanceof Vector3d) {\n      this.z -= v.z;\n    }\n  }\n}\nvar __classPrivateFieldSet$5 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$4 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Particle_engine;\nconst fixOutMode = (data) => {\n  if (!(isInArray(data.outMode, data.checkModes) || isInArray(data.outMode, data.checkModes))) {\n    return;\n  }\n  if (data.coord > data.maxCoord - data.radius * 2) {\n    data.setCb(-data.radius);\n  } else if (data.coord < data.radius * 2) {\n    data.setCb(data.radius);\n  }\n};\nclass Particle {\n  constructor(engine, id, container2, position, overrideOptions, group) {\n    var _a, _b, _c, _d, _e, _f;\n    this.id = id;\n    this.container = container2;\n    this.group = group;\n    _Particle_engine.set(this, void 0);\n    __classPrivateFieldSet$5(this, _Particle_engine, engine, \"f\");\n    this.fill = true;\n    this.close = true;\n    this.lastPathTime = 0;\n    this.destroyed = false;\n    this.unbreakable = false;\n    this.splitCount = 0;\n    this.misplaced = false;\n    this.retina = {\n      maxDistance: {}\n    };\n    this.outType = \"normal\";\n    this.ignoresResizeRatio = true;\n    const pxRatio = container2.retina.pixelRatio, mainOptions = container2.actualOptions, particlesOptions = loadParticlesOptions(__classPrivateFieldGet$4(this, _Particle_engine, \"f\"), container2, mainOptions.particles);\n    const shapeType = particlesOptions.shape.type, reduceDuplicates = particlesOptions.reduceDuplicates;\n    this.shape = shapeType instanceof Array ? itemFromArray(shapeType, this.id, reduceDuplicates) : shapeType;\n    if (overrideOptions === null || overrideOptions === void 0 ? void 0 : overrideOptions.shape) {\n      if (overrideOptions.shape.type) {\n        const overrideShapeType = overrideOptions.shape.type;\n        this.shape = overrideShapeType instanceof Array ? itemFromArray(overrideShapeType, this.id, reduceDuplicates) : overrideShapeType;\n      }\n      const shapeOptions = new Shape();\n      shapeOptions.load(overrideOptions.shape);\n      if (this.shape) {\n        this.shapeData = this.loadShapeData(shapeOptions, reduceDuplicates);\n      }\n    } else {\n      this.shapeData = this.loadShapeData(particlesOptions.shape, reduceDuplicates);\n    }\n    particlesOptions.load(overrideOptions);\n    particlesOptions.load((_a = this.shapeData) === null || _a === void 0 ? void 0 : _a.particles);\n    this.interactivity = new Interactivity();\n    this.interactivity.load(container2.actualOptions.interactivity);\n    this.interactivity.load(particlesOptions.interactivity);\n    this.fill = (_c = (_b = this.shapeData) === null || _b === void 0 ? void 0 : _b.fill) !== null && _c !== void 0 ? _c : this.fill;\n    this.close = (_e = (_d = this.shapeData) === null || _d === void 0 ? void 0 : _d.close) !== null && _e !== void 0 ? _e : this.close;\n    this.options = particlesOptions;\n    this.pathDelay = getValue(this.options.move.path.delay) * 1e3;\n    const zIndexValue = getRangeValue(this.options.zIndex.value);\n    container2.retina.initParticle(this);\n    const sizeOptions = this.options.size, sizeRange = sizeOptions.value, sizeAnimation = sizeOptions.animation;\n    this.size = {\n      enable: sizeOptions.animation.enable,\n      value: getRangeValue(sizeOptions.value) * container2.retina.pixelRatio,\n      max: getRangeMax(sizeRange) * pxRatio,\n      min: getRangeMin(sizeRange) * pxRatio,\n      loops: 0,\n      maxLoops: getRangeValue(sizeOptions.animation.count)\n    };\n    if (sizeAnimation.enable) {\n      this.size.status = 0;\n      this.size.decay = 1 - getRangeValue(sizeAnimation.decay);\n      switch (sizeAnimation.startValue) {\n        case \"min\":\n          this.size.value = this.size.min;\n          this.size.status = 0;\n          break;\n        case \"random\":\n          this.size.value = randomInRange(this.size) * pxRatio;\n          this.size.status = Math.random() >= 0.5 ? 0 : 1;\n          break;\n        case \"max\":\n        default:\n          this.size.value = this.size.max;\n          this.size.status = 1;\n          break;\n      }\n      this.size.velocity = ((_f = this.retina.sizeAnimationSpeed) !== null && _f !== void 0 ? _f : container2.retina.sizeAnimationSpeed) / 100 * container2.retina.reduceFactor;\n      if (!sizeAnimation.sync) {\n        this.size.velocity *= Math.random();\n      }\n    }\n    this.bubble = {\n      inRange: false\n    };\n    this.position = this.calcPosition(container2, position, clamp(zIndexValue, 0, container2.zLayers));\n    this.initialPosition = this.position.copy();\n    const canvasSize = container2.canvas.size, moveCenterPerc = this.options.move.center;\n    this.moveCenter = {\n      x: canvasSize.width * moveCenterPerc.x / 100,\n      y: canvasSize.height * moveCenterPerc.y / 100,\n      radius: this.options.move.center.radius\n    };\n    this.direction = getParticleDirectionAngle(this.options.move.direction, this.position, this.moveCenter);\n    switch (this.options.move.direction) {\n      case \"inside\":\n        this.outType = \"inside\";\n        break;\n      case \"outside\":\n        this.outType = \"outside\";\n        break;\n    }\n    this.initialVelocity = this.calculateVelocity();\n    this.velocity = this.initialVelocity.copy();\n    this.moveDecay = 1 - getRangeValue(this.options.move.decay);\n    this.offset = Vector.origin;\n    const particles2 = container2.particles;\n    particles2.needsSort = particles2.needsSort || particles2.lastZIndex < this.position.z;\n    particles2.lastZIndex = this.position.z;\n    this.zIndexFactor = this.position.z / container2.zLayers;\n    this.sides = 24;\n    let drawer = container2.drawers.get(this.shape);\n    if (!drawer) {\n      drawer = __classPrivateFieldGet$4(this, _Particle_engine, \"f\").plugins.getShapeDrawer(this.shape);\n      if (drawer) {\n        container2.drawers.set(this.shape, drawer);\n      }\n    }\n    if (drawer === null || drawer === void 0 ? void 0 : drawer.loadShape) {\n      drawer === null || drawer === void 0 ? void 0 : drawer.loadShape(this);\n    }\n    const sideCountFunc = drawer === null || drawer === void 0 ? void 0 : drawer.getSidesCount;\n    if (sideCountFunc) {\n      this.sides = sideCountFunc(this);\n    }\n    this.spawning = false;\n    this.shadowColor = rangeColorToRgb(this.options.shadow.color);\n    for (const updater of container2.particles.updaters) {\n      if (updater.init) {\n        updater.init(this);\n      }\n    }\n    for (const mover of container2.particles.movers) {\n      if (mover.init) {\n        mover.init(this);\n      }\n    }\n    if (drawer && drawer.particleInit) {\n      drawer.particleInit(container2, this);\n    }\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.particleCreated) {\n        plugin.particleCreated(this);\n      }\n    }\n  }\n  destroy(override) {\n    if (this.unbreakable || this.destroyed) {\n      return;\n    }\n    this.destroyed = true;\n    this.bubble.inRange = false;\n    for (const [, plugin] of this.container.plugins) {\n      if (plugin.particleDestroyed) {\n        plugin.particleDestroyed(this, override);\n      }\n    }\n    if (override) {\n      return;\n    }\n    const destroyOptions = this.options.destroy;\n    if (destroyOptions.mode === \"split\") {\n      this.split();\n    }\n  }\n  draw(delta) {\n    const container2 = this.container;\n    for (const [, plugin] of container2.plugins) {\n      container2.canvas.drawParticlePlugin(plugin, this, delta);\n    }\n    container2.canvas.drawParticle(this, delta);\n  }\n  getFillColor() {\n    var _a, _b;\n    const color = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.color);\n    if (color && this.roll && (this.backColor || this.roll.alter)) {\n      const backFactor = this.roll.horizontal && this.roll.vertical ? 2 : 1, backSum = this.roll.horizontal ? Math.PI / 2 : 0, rolled = Math.floor((((_b = this.roll.angle) !== null && _b !== void 0 ? _b : 0) + backSum) / (Math.PI / backFactor)) % 2;\n      if (rolled) {\n        if (this.backColor) {\n          return this.backColor;\n        }\n        if (this.roll.alter) {\n          return alterHsl(color, this.roll.alter.type, this.roll.alter.value);\n        }\n      }\n    }\n    return color;\n  }\n  getMass() {\n    return this.getRadius() ** 2 * Math.PI / 2;\n  }\n  getPosition() {\n    return {\n      x: this.position.x + this.offset.x,\n      y: this.position.y + this.offset.y,\n      z: this.position.z\n    };\n  }\n  getRadius() {\n    var _a;\n    return (_a = this.bubble.radius) !== null && _a !== void 0 ? _a : this.size.value;\n  }\n  getStrokeColor() {\n    var _a, _b;\n    return (_b = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.strokeColor)) !== null && _b !== void 0 ? _b : this.getFillColor();\n  }\n  isInsideCanvas() {\n    const radius = this.getRadius(), canvasSize = this.container.canvas.size;\n    return this.position.x >= -radius && this.position.y >= -radius && this.position.y <= canvasSize.height + radius && this.position.x <= canvasSize.width + radius;\n  }\n  isVisible() {\n    return !this.destroyed && !this.spawning && this.isInsideCanvas();\n  }\n  reset() {\n    if (this.opacity) {\n      this.opacity.loops = 0;\n    }\n    this.size.loops = 0;\n  }\n  calcPosition(container2, position, zIndex, tryCount = 0) {\n    var _a, _b, _c, _d;\n    for (const [, plugin] of container2.plugins) {\n      const pluginPos = plugin.particlePosition !== void 0 ? plugin.particlePosition(position, this) : void 0;\n      if (pluginPos !== void 0) {\n        return Vector3d.create(pluginPos.x, pluginPos.y, zIndex);\n      }\n    }\n    const canvasSize = container2.canvas.size, exactPosition = calcExactPositionOrRandomFromSize({\n      size: canvasSize,\n      position\n    }), pos = Vector3d.create(exactPosition.x, exactPosition.y, zIndex), radius = this.getRadius(), outModes = this.options.move.outModes, fixHorizontal = (outMode) => {\n      fixOutMode({\n        outMode,\n        checkModes: [\"bounce\", \"bounce-horizontal\"],\n        coord: pos.x,\n        maxCoord: container2.canvas.size.width,\n        setCb: (value) => pos.x += value,\n        radius\n      });\n    }, fixVertical = (outMode) => {\n      fixOutMode({\n        outMode,\n        checkModes: [\"bounce\", \"bounce-vertical\"],\n        coord: pos.y,\n        maxCoord: container2.canvas.size.height,\n        setCb: (value) => pos.y += value,\n        radius\n      });\n    };\n    fixHorizontal((_a = outModes.left) !== null && _a !== void 0 ? _a : outModes.default);\n    fixHorizontal((_b = outModes.right) !== null && _b !== void 0 ? _b : outModes.default);\n    fixVertical((_c = outModes.top) !== null && _c !== void 0 ? _c : outModes.default);\n    fixVertical((_d = outModes.bottom) !== null && _d !== void 0 ? _d : outModes.default);\n    if (this.checkOverlap(pos, tryCount)) {\n      return this.calcPosition(container2, void 0, zIndex, tryCount + 1);\n    }\n    return pos;\n  }\n  calculateVelocity() {\n    const baseVelocity = getParticleBaseVelocity(this.direction);\n    const res = baseVelocity.copy();\n    const moveOptions = this.options.move;\n    if (moveOptions.direction === \"inside\" || moveOptions.direction === \"outside\") {\n      return res;\n    }\n    const rad = Math.PI / 180 * getRangeValue(moveOptions.angle.value);\n    const radOffset = Math.PI / 180 * getRangeValue(moveOptions.angle.offset);\n    const range = {\n      left: radOffset - rad / 2,\n      right: radOffset + rad / 2\n    };\n    if (!moveOptions.straight) {\n      res.angle += randomInRange(setRangeValue(range.left, range.right));\n    }\n    if (moveOptions.random && typeof moveOptions.speed === \"number\") {\n      res.length *= Math.random();\n    }\n    return res;\n  }\n  checkOverlap(pos, tryCount = 0) {\n    const collisionsOptions = this.options.collisions, radius = this.getRadius();\n    if (!collisionsOptions.enable) {\n      return false;\n    }\n    const overlapOptions = collisionsOptions.overlap;\n    if (overlapOptions.enable) {\n      return false;\n    }\n    const retries = overlapOptions.retries;\n    if (retries >= 0 && tryCount > retries) {\n      throw new Error(\"Particle is overlapping and can't be placed\");\n    }\n    let overlaps = false;\n    for (const particle of this.container.particles.array) {\n      if (getDistance(pos, particle.position) < radius + particle.getRadius()) {\n        overlaps = true;\n        break;\n      }\n    }\n    return overlaps;\n  }\n  loadShapeData(shapeOptions, reduceDuplicates) {\n    const shapeData = shapeOptions.options[this.shape];\n    if (shapeData) {\n      return deepExtend({}, shapeData instanceof Array ? itemFromArray(shapeData, this.id, reduceDuplicates) : shapeData);\n    }\n  }\n  split() {\n    const splitOptions = this.options.destroy.split;\n    if (splitOptions.count >= 0 && this.splitCount++ > splitOptions.count) {\n      return;\n    }\n    const rate = getValue(splitOptions.rate), particlesSplitOptions = splitOptions.particles instanceof Array ? itemFromArray(splitOptions.particles) : splitOptions.particles;\n    for (let i = 0; i < rate; i++) {\n      this.container.particles.addSplitParticle(this, particlesSplitOptions);\n    }\n  }\n}\n_Particle_engine = /* @__PURE__ */ new WeakMap();\nclass Point {\n  constructor(position, particle) {\n    this.position = position;\n    this.particle = particle;\n  }\n}\nclass Range {\n  constructor(x, y) {\n    this.position = {\n      x,\n      y\n    };\n  }\n}\nclass Circle extends Range {\n  constructor(x, y, radius) {\n    super(x, y);\n    this.radius = radius;\n  }\n  contains(point) {\n    return getDistance(point, this.position) <= this.radius;\n  }\n  intersects(range) {\n    const rect = range, circle = range, pos1 = this.position, pos2 = range.position, xDist = Math.abs(pos2.x - pos1.x), yDist = Math.abs(pos2.y - pos1.y), r = this.radius;\n    if (circle.radius !== void 0) {\n      const rSum = r + circle.radius, dist = Math.sqrt(xDist * xDist + yDist + yDist);\n      return rSum > dist;\n    } else if (rect.size !== void 0) {\n      const w = rect.size.width, h = rect.size.height, edges = Math.pow(xDist - w, 2) + Math.pow(yDist - h, 2);\n      if (xDist > r + w || yDist > r + h) {\n        return false;\n      }\n      if (xDist <= w || yDist <= h) {\n        return true;\n      }\n      return edges <= r * r;\n    }\n    return false;\n  }\n}\nclass Rectangle extends Range {\n  constructor(x, y, width, height) {\n    super(x, y);\n    this.size = {\n      height,\n      width\n    };\n  }\n  contains(point) {\n    const w = this.size.width, h = this.size.height, pos = this.position;\n    return point.x >= pos.x && point.x <= pos.x + w && point.y >= pos.y && point.y <= pos.y + h;\n  }\n  intersects(range) {\n    const rect = range, circle = range, w = this.size.width, h = this.size.height, pos1 = this.position, pos2 = range.position;\n    if (circle.radius !== void 0) {\n      return circle.intersects(this);\n    }\n    if (!rect.size) {\n      return false;\n    }\n    const size2 = rect.size, w2 = size2.width, h2 = size2.height;\n    return pos2.x < pos1.x + w && pos2.x + w2 > pos1.x && pos2.y < pos1.y + h && pos2.y + h2 > pos1.y;\n  }\n}\nclass CircleWarp extends Circle {\n  constructor(x, y, radius, canvasSize) {\n    super(x, y, radius);\n    this.canvasSize = canvasSize;\n    this.canvasSize = Object.assign({}, canvasSize);\n  }\n  contains(point) {\n    if (super.contains(point)) {\n      return true;\n    }\n    const posNE = {\n      x: point.x - this.canvasSize.width,\n      y: point.y\n    };\n    if (super.contains(posNE)) {\n      return true;\n    }\n    const posSE = {\n      x: point.x - this.canvasSize.width,\n      y: point.y - this.canvasSize.height\n    };\n    if (super.contains(posSE)) {\n      return true;\n    }\n    const posSW = {\n      x: point.x,\n      y: point.y - this.canvasSize.height\n    };\n    return super.contains(posSW);\n  }\n  intersects(range) {\n    if (super.intersects(range)) {\n      return true;\n    }\n    const rect = range, circle = range, newPos = {\n      x: range.position.x - this.canvasSize.width,\n      y: range.position.y - this.canvasSize.height\n    };\n    if (circle.radius !== void 0) {\n      const biggerCircle = new Circle(newPos.x, newPos.y, circle.radius * 2);\n      return super.intersects(biggerCircle);\n    } else if (rect.size !== void 0) {\n      const rectSW = new Rectangle(newPos.x, newPos.y, rect.size.width * 2, rect.size.height * 2);\n      return super.intersects(rectSW);\n    }\n    return false;\n  }\n}\nclass QuadTree {\n  constructor(rectangle, capacity) {\n    this.rectangle = rectangle;\n    this.capacity = capacity;\n    this.points = [];\n    this.divided = false;\n  }\n  insert(point) {\n    var _a, _b, _c, _d, _e;\n    if (!this.rectangle.contains(point.position)) {\n      return false;\n    }\n    if (this.points.length < this.capacity) {\n      this.points.push(point);\n      return true;\n    }\n    if (!this.divided) {\n      this.subdivide();\n    }\n    return (_e = ((_a = this.northEast) === null || _a === void 0 ? void 0 : _a.insert(point)) || ((_b = this.northWest) === null || _b === void 0 ? void 0 : _b.insert(point)) || ((_c = this.southEast) === null || _c === void 0 ? void 0 : _c.insert(point)) || ((_d = this.southWest) === null || _d === void 0 ? void 0 : _d.insert(point))) !== null && _e !== void 0 ? _e : false;\n  }\n  query(range, check, found) {\n    var _a, _b, _c, _d;\n    const res = found !== null && found !== void 0 ? found : [];\n    if (!range.intersects(this.rectangle)) {\n      return [];\n    }\n    for (const p of this.points) {\n      if (!range.contains(p.position) && getDistance(range.position, p.position) > p.particle.getRadius() && (!check || check(p.particle))) {\n        continue;\n      }\n      res.push(p.particle);\n    }\n    if (this.divided) {\n      (_a = this.northEast) === null || _a === void 0 ? void 0 : _a.query(range, check, res);\n      (_b = this.northWest) === null || _b === void 0 ? void 0 : _b.query(range, check, res);\n      (_c = this.southEast) === null || _c === void 0 ? void 0 : _c.query(range, check, res);\n      (_d = this.southWest) === null || _d === void 0 ? void 0 : _d.query(range, check, res);\n    }\n    return res;\n  }\n  queryCircle(position, radius, check) {\n    return this.query(new Circle(position.x, position.y, radius), check);\n  }\n  queryCircleWarp(position, radius, containerOrSize, check) {\n    const container2 = containerOrSize, size = containerOrSize;\n    return this.query(new CircleWarp(position.x, position.y, radius, container2.canvas !== void 0 ? container2.canvas.size : size), check);\n  }\n  queryRectangle(position, size, check) {\n    return this.query(new Rectangle(position.x, position.y, size.width, size.height), check);\n  }\n  subdivide() {\n    const x = this.rectangle.position.x, y = this.rectangle.position.y, w = this.rectangle.size.width, h = this.rectangle.size.height, capacity = this.capacity;\n    this.northEast = new QuadTree(new Rectangle(x, y, w / 2, h / 2), capacity);\n    this.northWest = new QuadTree(new Rectangle(x + w / 2, y, w / 2, h / 2), capacity);\n    this.southEast = new QuadTree(new Rectangle(x, y + h / 2, w / 2, h / 2), capacity);\n    this.southWest = new QuadTree(new Rectangle(x + w / 2, y + h / 2, w / 2, h / 2), capacity);\n    this.divided = true;\n  }\n}\nvar __classPrivateFieldSet$4 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$3 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Particles_engine;\nclass Particles {\n  constructor(engine, container2) {\n    this.container = container2;\n    _Particles_engine.set(this, void 0);\n    __classPrivateFieldSet$4(this, _Particles_engine, engine, \"f\");\n    this.nextId = 0;\n    this.array = [];\n    this.zArray = [];\n    this.limit = 0;\n    this.needsSort = false;\n    this.lastZIndex = 0;\n    this.freqs = {\n      links: /* @__PURE__ */ new Map(),\n      triangles: /* @__PURE__ */ new Map()\n    };\n    this.interactionManager = new InteractionManager(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), container2);\n    const canvasSize = this.container.canvas.size;\n    this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, canvasSize.width * 3 / 2, canvasSize.height * 3 / 2), 4);\n    this.movers = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getMovers(container2, true);\n    this.updaters = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getUpdaters(container2, true);\n  }\n  get count() {\n    return this.array.length;\n  }\n  addManualParticles() {\n    const container2 = this.container, options = container2.actualOptions;\n    for (const particle of options.manualParticles) {\n      this.addParticle(calcPositionFromSize({\n        size: container2.canvas.size,\n        position: particle.position\n      }), particle.options);\n    }\n  }\n  addParticle(position, overrideOptions, group) {\n    const container2 = this.container, options = container2.actualOptions, limit = options.particles.number.limit * container2.density;\n    if (limit > 0) {\n      const countToRemove = this.count + 1 - limit;\n      if (countToRemove > 0) {\n        this.removeQuantity(countToRemove);\n      }\n    }\n    return this.pushParticle(position, overrideOptions, group);\n  }\n  addSplitParticle(parent, splitParticlesOptions) {\n    const splitOptions = parent.options.destroy.split, options = loadParticlesOptions(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), this.container, parent.options), factor = getValue(splitOptions.factor);\n    options.color.load({\n      value: {\n        hsl: parent.getFillColor()\n      }\n    });\n    if (typeof options.size.value === \"number\") {\n      options.size.value /= factor;\n    } else {\n      options.size.value.min /= factor;\n      options.size.value.max /= factor;\n    }\n    options.load(splitParticlesOptions);\n    const offset = splitOptions.sizeOffset ? setRangeValue(-parent.size.value, parent.size.value) : 0, position = {\n      x: parent.position.x + randomInRange(offset),\n      y: parent.position.y + randomInRange(offset)\n    };\n    return this.pushParticle(position, options, parent.group, (particle) => {\n      if (particle.size.value < 0.5) {\n        return false;\n      }\n      particle.velocity.length = randomInRange(setRangeValue(parent.velocity.length, particle.velocity.length));\n      particle.splitCount = parent.splitCount + 1;\n      particle.unbreakable = true;\n      setTimeout(() => {\n        particle.unbreakable = false;\n      }, 500);\n      return true;\n    });\n  }\n  clear() {\n    this.array = [];\n    this.zArray = [];\n  }\n  destroy() {\n    this.array = [];\n    this.zArray = [];\n    this.movers = [];\n    this.updaters = [];\n  }\n  async draw(delta) {\n    const container2 = this.container, canvasSize = this.container.canvas.size;\n    this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, canvasSize.width * 3 / 2, canvasSize.height * 3 / 2), 4);\n    container2.canvas.clear();\n    await this.update(delta);\n    if (this.needsSort) {\n      this.zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n      this.lastZIndex = this.zArray[this.zArray.length - 1].position.z;\n      this.needsSort = false;\n    }\n    for (const [, plugin] of container2.plugins) {\n      container2.canvas.drawPlugin(plugin, delta);\n    }\n    for (const p of this.zArray) {\n      p.draw(delta);\n    }\n  }\n  getLinkFrequency(p1, p2) {\n    const range = setRangeValue(p1.id, p2.id), key = `${getRangeMin(range)}_${getRangeMax(range)}`;\n    let res = this.freqs.links.get(key);\n    if (res === void 0) {\n      res = Math.random();\n      this.freqs.links.set(key, res);\n    }\n    return res;\n  }\n  getTriangleFrequency(p1, p2, p3) {\n    let [id1, id2, id3] = [p1.id, p2.id, p3.id];\n    if (id1 > id2) {\n      [id2, id1] = [id1, id2];\n    }\n    if (id2 > id3) {\n      [id3, id2] = [id2, id3];\n    }\n    if (id1 > id3) {\n      [id3, id1] = [id1, id3];\n    }\n    const key = `${id1}_${id2}_${id3}`;\n    let res = this.freqs.triangles.get(key);\n    if (res === void 0) {\n      res = Math.random();\n      this.freqs.triangles.set(key, res);\n    }\n    return res;\n  }\n  handleClickMode(mode) {\n    this.interactionManager.handleClickMode(mode);\n  }\n  init() {\n    var _a;\n    const container2 = this.container, options = container2.actualOptions;\n    this.lastZIndex = 0;\n    this.needsSort = false;\n    this.freqs.links = /* @__PURE__ */ new Map();\n    this.freqs.triangles = /* @__PURE__ */ new Map();\n    let handled = false;\n    this.updaters = __classPrivateFieldGet$3(this, _Particles_engine, \"f\").plugins.getUpdaters(container2, true);\n    this.interactionManager.init();\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.particlesInitialization !== void 0) {\n        handled = plugin.particlesInitialization();\n      }\n      if (handled) {\n        break;\n      }\n    }\n    this.addManualParticles();\n    if (!handled) {\n      for (const group in options.particles.groups) {\n        const groupOptions = options.particles.groups[group];\n        for (let i = this.count, j = 0; j < ((_a = groupOptions.number) === null || _a === void 0 ? void 0 : _a.value) && i < options.particles.number.value; i++, j++) {\n          this.addParticle(void 0, groupOptions, group);\n        }\n      }\n      for (let i = this.count; i < options.particles.number.value; i++) {\n        this.addParticle();\n      }\n    }\n    this.interactionManager.init();\n    container2.pathGenerator.init(container2);\n  }\n  push(nb, mouse, overrideOptions, group) {\n    this.pushing = true;\n    for (let i = 0; i < nb; i++) {\n      this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions, group);\n    }\n    this.pushing = false;\n  }\n  async redraw() {\n    this.clear();\n    this.init();\n    await this.draw({ value: 0, factor: 0 });\n  }\n  remove(particle, group, override) {\n    this.removeAt(this.array.indexOf(particle), void 0, group, override);\n  }\n  removeAt(index, quantity = 1, group, override) {\n    if (!(index >= 0 && index <= this.count)) {\n      return;\n    }\n    let deleted = 0;\n    for (let i = index; deleted < quantity && i < this.count; i++) {\n      const particle = this.array[i];\n      if (!particle || particle.group !== group) {\n        continue;\n      }\n      particle.destroy(override);\n      this.array.splice(i--, 1);\n      const zIdx = this.zArray.indexOf(particle);\n      this.zArray.splice(zIdx, 1);\n      deleted++;\n      __classPrivateFieldGet$3(this, _Particles_engine, \"f\").dispatchEvent(\"particleRemoved\", {\n        container: this.container,\n        data: {\n          particle\n        }\n      });\n    }\n  }\n  removeQuantity(quantity, group) {\n    this.removeAt(0, quantity, group);\n  }\n  setDensity() {\n    const options = this.container.actualOptions;\n    for (const group in options.particles.groups) {\n      this.applyDensity(options.particles.groups[group], 0, group);\n    }\n    this.applyDensity(options.particles, options.manualParticles.length);\n  }\n  async update(delta) {\n    const container2 = this.container, particlesToDelete = [];\n    container2.pathGenerator.update();\n    for (const [, plugin] of container2.plugins) {\n      if (plugin.update) {\n        plugin.update(delta);\n      }\n    }\n    for (const particle of this.array) {\n      const resizeFactor = container2.canvas.resizeFactor;\n      if (resizeFactor && !particle.ignoresResizeRatio) {\n        particle.position.x *= resizeFactor.width;\n        particle.position.y *= resizeFactor.height;\n      }\n      particle.ignoresResizeRatio = false;\n      await this.interactionManager.reset(particle);\n      for (const [, plugin] of this.container.plugins) {\n        if (particle.destroyed) {\n          break;\n        }\n        if (plugin.particleUpdate) {\n          plugin.particleUpdate(particle, delta);\n        }\n      }\n      for (const mover of this.movers) {\n        if (mover.isEnabled(particle)) {\n          mover.move(particle, delta);\n        }\n      }\n      if (particle.destroyed) {\n        particlesToDelete.push(particle);\n        continue;\n      }\n      this.quadTree.insert(new Point(particle.getPosition(), particle));\n    }\n    for (const particle of particlesToDelete) {\n      this.remove(particle);\n    }\n    await this.interactionManager.externalInteract(delta);\n    for (const particle of container2.particles.array) {\n      for (const updater of this.updaters) {\n        updater.update(particle, delta);\n      }\n      if (!particle.destroyed && !particle.spawning) {\n        await this.interactionManager.particlesInteract(particle, delta);\n      }\n    }\n    delete container2.canvas.resizeFactor;\n  }\n  applyDensity(options, manualCount, group) {\n    var _a;\n    if (!((_a = options.number.density) === null || _a === void 0 ? void 0 : _a.enable)) {\n      return;\n    }\n    const numberOptions = options.number, densityFactor = this.initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.array.filter((t) => t.group === group).length);\n    this.limit = numberOptions.limit * densityFactor;\n    if (particlesCount < particlesNumber) {\n      this.push(Math.abs(particlesNumber - particlesCount), void 0, options, group);\n    } else if (particlesCount > particlesNumber) {\n      this.removeQuantity(particlesCount - particlesNumber, group);\n    }\n  }\n  initDensityFactor(densityOptions) {\n    const container2 = this.container;\n    if (!container2.canvas.element || !densityOptions.enable) {\n      return 1;\n    }\n    const canvas = container2.canvas.element, pxRatio = container2.retina.pixelRatio;\n    return canvas.width * canvas.height / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);\n  }\n  pushParticle(position, overrideOptions, group, initializer) {\n    try {\n      const particle = new Particle(__classPrivateFieldGet$3(this, _Particles_engine, \"f\"), this.nextId, this.container, position, overrideOptions, group);\n      let canAdd = true;\n      if (initializer) {\n        canAdd = initializer(particle);\n      }\n      if (!canAdd) {\n        return;\n      }\n      this.array.push(particle);\n      this.zArray.push(particle);\n      this.nextId++;\n      __classPrivateFieldGet$3(this, _Particles_engine, \"f\").dispatchEvent(\"particleAdded\", {\n        container: this.container,\n        data: {\n          particle\n        }\n      });\n      return particle;\n    } catch (e) {\n      console.warn(`error adding particle: ${e}`);\n      return;\n    }\n  }\n}\n_Particles_engine = /* @__PURE__ */ new WeakMap();\nclass Retina {\n  constructor(container2) {\n    this.container = container2;\n  }\n  init() {\n    const container2 = this.container, options = container2.actualOptions;\n    this.pixelRatio = !options.detectRetina || isSsr() ? 1 : window.devicePixelRatio;\n    const motionOptions = this.container.actualOptions.motion;\n    if (motionOptions && (motionOptions.disable || motionOptions.reduce.value)) {\n      if (isSsr() || typeof matchMedia === \"undefined\" || !matchMedia) {\n        this.reduceFactor = 1;\n      } else {\n        const mediaQuery = matchMedia(\"(prefers-reduced-motion: reduce)\");\n        if (mediaQuery) {\n          this.handleMotionChange(mediaQuery);\n          const handleChange = () => {\n            this.handleMotionChange(mediaQuery);\n            container2.refresh().catch(() => {\n            });\n          };\n          if (mediaQuery.addEventListener !== void 0) {\n            mediaQuery.addEventListener(\"change\", handleChange);\n          } else if (mediaQuery.addListener !== void 0) {\n            mediaQuery.addListener(handleChange);\n          }\n        }\n      }\n    } else {\n      this.reduceFactor = 1;\n    }\n    const ratio = this.pixelRatio;\n    if (container2.canvas.element) {\n      const element = container2.canvas.element;\n      container2.canvas.size.width = element.offsetWidth * ratio;\n      container2.canvas.size.height = element.offsetHeight * ratio;\n    }\n    const particles2 = options.particles;\n    this.attractDistance = getRangeValue(particles2.move.attract.distance) * ratio;\n    this.linksDistance = particles2.links.distance * ratio;\n    this.linksWidth = particles2.links.width * ratio;\n    this.sizeAnimationSpeed = getRangeValue(particles2.size.animation.speed) * ratio;\n    this.maxSpeed = getRangeValue(particles2.move.gravity.maxSpeed) * ratio;\n    const modes = options.interactivity.modes;\n    this.connectModeDistance = modes.connect.distance * ratio;\n    this.connectModeRadius = modes.connect.radius * ratio;\n    this.grabModeDistance = modes.grab.distance * ratio;\n    this.repulseModeDistance = modes.repulse.distance * ratio;\n    this.bounceModeDistance = modes.bounce.distance * ratio;\n    this.attractModeDistance = modes.attract.distance * ratio;\n    this.slowModeRadius = modes.slow.radius * ratio;\n    this.bubbleModeDistance = modes.bubble.distance * ratio;\n    if (modes.bubble.size) {\n      this.bubbleModeSize = modes.bubble.size * ratio;\n    }\n  }\n  initParticle(particle) {\n    const options = particle.options, ratio = this.pixelRatio, moveDistance = options.move.distance, props = particle.retina;\n    props.attractDistance = getRangeValue(options.move.attract.distance) * ratio;\n    props.linksDistance = options.links.distance * ratio;\n    props.linksWidth = options.links.width * ratio;\n    props.moveDrift = getRangeValue(options.move.drift) * ratio;\n    props.moveSpeed = getRangeValue(options.move.speed) * ratio;\n    props.sizeAnimationSpeed = getRangeValue(options.size.animation.speed) * ratio;\n    const maxDistance = props.maxDistance;\n    maxDistance.horizontal = moveDistance.horizontal !== void 0 ? moveDistance.horizontal * ratio : void 0;\n    maxDistance.vertical = moveDistance.vertical !== void 0 ? moveDistance.vertical * ratio : void 0;\n    props.maxSpeed = getRangeValue(options.move.gravity.maxSpeed) * ratio;\n  }\n  handleMotionChange(mediaQuery) {\n    const options = this.container.actualOptions;\n    if (mediaQuery.matches) {\n      const motion = options.motion;\n      this.reduceFactor = motion.disable ? 0 : motion.reduce.value ? 1 / motion.reduce.factor : 1;\n    } else {\n      this.reduceFactor = 1;\n    }\n  }\n}\nvar __classPrivateFieldSet$3 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$2 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Container_engine, _Container_eventListeners;\nfunction guardCheck(container2) {\n  return !container2.destroyed;\n}\nfunction loadContainerOptions(engine, container2, ...sourceOptionsArr) {\n  const options = new Options(engine, container2);\n  loadOptions(options, ...sourceOptionsArr);\n  return options;\n}\nclass Container {\n  constructor(engine, id, sourceOptions) {\n    this.id = id;\n    _Container_engine.set(this, void 0);\n    _Container_eventListeners.set(this, void 0);\n    __classPrivateFieldSet$3(this, _Container_engine, engine, \"f\");\n    this.fpsLimit = 120;\n    this.duration = 0;\n    this.lifeTime = 0;\n    this.firstStart = true;\n    this.started = false;\n    this.destroyed = false;\n    this.paused = true;\n    this.lastFrameTime = 0;\n    this.zLayers = 100;\n    this.pageHidden = false;\n    this._sourceOptions = sourceOptions;\n    this._initialSourceOptions = sourceOptions;\n    this.retina = new Retina(this);\n    this.canvas = new Canvas(this);\n    this.particles = new Particles(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    this.drawer = new FrameManager(this);\n    this.pathGenerator = {\n      generate: (p) => {\n        const v = p.velocity.copy();\n        v.angle += v.length * Math.PI / 180;\n        return v;\n      },\n      init: () => {\n      },\n      update: () => {\n      }\n    };\n    this.interactivity = {\n      mouse: {\n        clicking: false,\n        inside: false\n      }\n    };\n    this.plugins = /* @__PURE__ */ new Map();\n    this.drawers = /* @__PURE__ */ new Map();\n    this.density = 1;\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    this.actualOptions = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    __classPrivateFieldSet$3(this, _Container_eventListeners, new EventListeners(this), \"f\");\n    if (typeof IntersectionObserver !== \"undefined\" && IntersectionObserver) {\n      this.intersectionObserver = new IntersectionObserver((entries) => this.intersectionManager(entries));\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerBuilt\", { container: this });\n  }\n  get options() {\n    return this._options;\n  }\n  get sourceOptions() {\n    return this._sourceOptions;\n  }\n  addClickHandler(callback) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    const el = this.interactivity.element;\n    if (!el) {\n      return;\n    }\n    const clickOrTouchHandler = (e, pos, radius) => {\n      if (!guardCheck(this)) {\n        return;\n      }\n      const pxRatio = this.retina.pixelRatio, posRetina = {\n        x: pos.x * pxRatio,\n        y: pos.y * pxRatio\n      }, particles2 = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n      callback(e, particles2);\n    };\n    const clickHandler = (e) => {\n      if (!guardCheck(this)) {\n        return;\n      }\n      const mouseEvent = e, pos = {\n        x: mouseEvent.offsetX || mouseEvent.clientX,\n        y: mouseEvent.offsetY || mouseEvent.clientY\n      };\n      clickOrTouchHandler(e, pos, 1);\n    };\n    const touchStartHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n      touched = true;\n      touchMoved = false;\n    };\n    const touchMoveHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n      touchMoved = true;\n    };\n    const touchEndHandler = (e) => {\n      var _a, _b, _c;\n      if (!guardCheck(this)) {\n        return;\n      }\n      if (touched && !touchMoved) {\n        const touchEvent = e;\n        let lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\n        if (!lastTouch) {\n          lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - 1];\n          if (!lastTouch) {\n            return;\n          }\n        }\n        const canvasRect = (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect(), pos = {\n          x: lastTouch.clientX - ((_b = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _b !== void 0 ? _b : 0),\n          y: lastTouch.clientY - ((_c = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _c !== void 0 ? _c : 0)\n        };\n        clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n      }\n      touched = false;\n      touchMoved = false;\n    };\n    const touchCancelHandler = () => {\n      if (!guardCheck(this)) {\n        return;\n      }\n      touched = false;\n      touchMoved = false;\n    };\n    let touched = false;\n    let touchMoved = false;\n    el.addEventListener(\"click\", clickHandler);\n    el.addEventListener(\"touchstart\", touchStartHandler);\n    el.addEventListener(\"touchmove\", touchMoveHandler);\n    el.addEventListener(\"touchend\", touchEndHandler);\n    el.addEventListener(\"touchcancel\", touchCancelHandler);\n  }\n  destroy() {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this.stop();\n    this.particles.destroy();\n    this.canvas.destroy();\n    for (const [, drawer] of this.drawers) {\n      if (drawer.destroy) {\n        drawer.destroy(this);\n      }\n    }\n    for (const key of this.drawers.keys()) {\n      this.drawers.delete(key);\n    }\n    this.destroyed = true;\n    const mainArr = __classPrivateFieldGet$2(this, _Container_engine, \"f\").dom(), idx = mainArr.findIndex((t) => t === this);\n    if (idx >= 0) {\n      mainArr.splice(idx, 1);\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerDestroyed\", { container: this });\n  }\n  draw(force) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    let refreshTime = force;\n    this.drawAnimationFrame = animate()(async (timestamp) => {\n      if (refreshTime) {\n        this.lastFrameTime = void 0;\n        refreshTime = false;\n      }\n      await this.drawer.nextFrame(timestamp);\n    });\n  }\n  exportConfiguration() {\n    return JSON.stringify(this.actualOptions, void 0, 2);\n  }\n  exportImage(callback, type, quality) {\n    var _a;\n    return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\n  }\n  exportImg(callback) {\n    this.exportImage(callback);\n  }\n  getAnimationStatus() {\n    return !this.paused && !this.pageHidden && guardCheck(this);\n  }\n  handleClickMode(mode) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this.particles.handleClickMode(mode);\n    for (const [, plugin] of this.plugins) {\n      if (plugin.handleClickMode) {\n        plugin.handleClickMode(mode);\n      }\n    }\n  }\n  async init() {\n    if (!guardCheck(this)) {\n      return;\n    }\n    const shapes = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getSupportedShapes();\n    for (const type of shapes) {\n      const drawer = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getShapeDrawer(type);\n      if (drawer) {\n        this.drawers.set(type, drawer);\n      }\n    }\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this, this._initialSourceOptions, this.sourceOptions);\n    this.actualOptions = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this, this._options);\n    this.retina.init();\n    this.canvas.init();\n    this.updateActualOptions();\n    this.canvas.initBackground();\n    this.canvas.resize();\n    this.zLayers = this.actualOptions.zLayers;\n    this.duration = getRangeValue(this.actualOptions.duration);\n    this.lifeTime = 0;\n    this.fpsLimit = this.actualOptions.fpsLimit > 0 ? this.actualOptions.fpsLimit : 120;\n    const availablePlugins = __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getAvailablePlugins(this);\n    for (const [id, plugin] of availablePlugins) {\n      this.plugins.set(id, plugin);\n    }\n    for (const [, drawer] of this.drawers) {\n      if (drawer.init) {\n        await drawer.init(this);\n      }\n    }\n    for (const [, plugin] of this.plugins) {\n      if (plugin.init) {\n        plugin.init(this.actualOptions);\n      } else if (plugin.initAsync !== void 0) {\n        await plugin.initAsync(this.actualOptions);\n      }\n    }\n    const pathOptions = this.actualOptions.particles.move.path;\n    if (pathOptions.generator) {\n      this.setPath(__classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.getPathGenerator(pathOptions.generator));\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerInit\", { container: this });\n    this.particles.init();\n    this.particles.setDensity();\n    for (const [, plugin] of this.plugins) {\n      if (plugin.particlesSetup !== void 0) {\n        plugin.particlesSetup();\n      }\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"particlesSetup\", { container: this });\n  }\n  async loadTheme(name) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this.currentTheme = name;\n    await this.refresh();\n  }\n  pause() {\n    if (!guardCheck(this)) {\n      return;\n    }\n    if (this.drawAnimationFrame !== void 0) {\n      cancelAnimation()(this.drawAnimationFrame);\n      delete this.drawAnimationFrame;\n    }\n    if (this.paused) {\n      return;\n    }\n    for (const [, plugin] of this.plugins) {\n      if (plugin.pause) {\n        plugin.pause();\n      }\n    }\n    if (!this.pageHidden) {\n      this.paused = true;\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerPaused\", { container: this });\n  }\n  play(force) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    const needsUpdate = this.paused || force;\n    if (this.firstStart && !this.actualOptions.autoPlay) {\n      this.firstStart = false;\n      return;\n    }\n    if (this.paused) {\n      this.paused = false;\n    }\n    if (needsUpdate) {\n      for (const [, plugin] of this.plugins) {\n        if (plugin.play) {\n          plugin.play();\n        }\n      }\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerPlay\", { container: this });\n    this.draw(needsUpdate || false);\n  }\n  async refresh() {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this.stop();\n    return this.start();\n  }\n  async reset() {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this._options = loadContainerOptions(__classPrivateFieldGet$2(this, _Container_engine, \"f\"), this);\n    return this.refresh();\n  }\n  setNoise(noiseOrGenerator, init, update) {\n    if (!guardCheck(this)) {\n      return;\n    }\n    this.setPath(noiseOrGenerator, init, update);\n  }\n  setPath(pathOrGenerator, init, update) {\n    var _a, _b, _c;\n    if (!pathOrGenerator || !guardCheck(this)) {\n      return;\n    }\n    if (typeof pathOrGenerator === \"function\") {\n      this.pathGenerator.generate = pathOrGenerator;\n      if (init) {\n        this.pathGenerator.init = init;\n      }\n      if (update) {\n        this.pathGenerator.update = update;\n      }\n    } else {\n      const oldGenerator = this.pathGenerator;\n      this.pathGenerator = pathOrGenerator;\n      (_a = this.pathGenerator).generate || (_a.generate = oldGenerator.generate);\n      (_b = this.pathGenerator).init || (_b.init = oldGenerator.init);\n      (_c = this.pathGenerator).update || (_c.update = oldGenerator.update);\n    }\n  }\n  async start() {\n    if (this.started || !guardCheck(this)) {\n      return;\n    }\n    await this.init();\n    this.started = true;\n    __classPrivateFieldGet$2(this, _Container_eventListeners, \"f\").addListeners();\n    if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\n      this.intersectionObserver.observe(this.interactivity.element);\n    }\n    for (const [, plugin] of this.plugins) {\n      if (plugin.startAsync !== void 0) {\n        await plugin.startAsync();\n      } else if (plugin.start !== void 0) {\n        plugin.start();\n      }\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerStarted\", { container: this });\n    this.play();\n  }\n  stop() {\n    if (!this.started || !guardCheck(this)) {\n      return;\n    }\n    this.firstStart = true;\n    this.started = false;\n    __classPrivateFieldGet$2(this, _Container_eventListeners, \"f\").removeListeners();\n    this.pause();\n    this.particles.clear();\n    this.canvas.clear();\n    if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\n      this.intersectionObserver.unobserve(this.interactivity.element);\n    }\n    for (const [, plugin] of this.plugins) {\n      if (plugin.stop) {\n        plugin.stop();\n      }\n    }\n    for (const key of this.plugins.keys()) {\n      this.plugins.delete(key);\n    }\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").plugins.destroy(this);\n    delete this.particles.grabLineColor;\n    this._sourceOptions = this._options;\n    __classPrivateFieldGet$2(this, _Container_engine, \"f\").dispatchEvent(\"containerStopped\", { container: this });\n  }\n  updateActualOptions() {\n    this.actualOptions.responsive = [];\n    const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n    this.actualOptions.setTheme(this.currentTheme);\n    if (this.responsiveMaxWidth != newMaxWidth) {\n      this.responsiveMaxWidth = newMaxWidth;\n      return true;\n    }\n    return false;\n  }\n  intersectionManager(entries) {\n    if (!this.actualOptions.pauseOnOutsideViewport) {\n      return;\n    }\n    for (const entry of entries) {\n      if (entry.target !== this.interactivity.element) {\n        continue;\n      }\n      if (entry.isIntersecting) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    }\n  }\n}\n_Container_engine = /* @__PURE__ */ new WeakMap(), _Container_eventListeners = /* @__PURE__ */ new WeakMap();\nvar __classPrivateFieldSet$2 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet$1 = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Loader_engine;\nfunction fetchError(statusCode) {\n  console.error(`Error tsParticles - fetch status: ${statusCode}`);\n  console.error(\"Error tsParticles - File config not found\");\n}\nasync function getDataFromUrl(jsonUrl, index) {\n  const url = jsonUrl instanceof Array ? itemFromArray(jsonUrl, index) : jsonUrl;\n  if (!url) {\n    return;\n  }\n  const response = await fetch(url);\n  if (!response.ok) {\n    fetchError(response.status);\n    return;\n  }\n  return response.json();\n}\nclass Loader {\n  constructor(engine) {\n    _Loader_engine.set(this, void 0);\n    __classPrivateFieldSet$2(this, _Loader_engine, engine, \"f\");\n  }\n  load(tagId, options, index) {\n    const params = { index, remote: false };\n    if (typeof tagId === \"string\") {\n      params.tagId = tagId;\n    } else {\n      params.options = tagId;\n    }\n    if (typeof options === \"number\") {\n      params.index = options;\n    } else {\n      params.options = options !== null && options !== void 0 ? options : params.options;\n    }\n    return this.loadOptions(params);\n  }\n  async loadJSON(tagId, jsonUrl, index) {\n    let url, id;\n    if (typeof jsonUrl === \"number\" || jsonUrl === void 0) {\n      url = tagId;\n    } else {\n      id = tagId;\n      url = jsonUrl;\n    }\n    return this.loadRemoteOptions({ tagId: id, url, index, remote: true });\n  }\n  async loadOptions(params) {\n    var _a, _b, _c;\n    const tagId = (_a = params.tagId) !== null && _a !== void 0 ? _a : `tsparticles${Math.floor(Math.random() * 1e4)}`, { index, url: jsonUrl, remote } = params, options = remote ? await getDataFromUrl(jsonUrl, index) : params.options;\n    let domContainer = (_b = params.element) !== null && _b !== void 0 ? _b : document.getElementById(tagId);\n    if (!domContainer) {\n      domContainer = document.createElement(\"div\");\n      domContainer.id = tagId;\n      (_c = document.querySelector(\"body\")) === null || _c === void 0 ? void 0 : _c.append(domContainer);\n    }\n    const currentOptions = options instanceof Array ? itemFromArray(options, index) : options, dom = __classPrivateFieldGet$1(this, _Loader_engine, \"f\").dom(), oldIndex = dom.findIndex((v) => v.id === tagId);\n    if (oldIndex >= 0) {\n      const old = __classPrivateFieldGet$1(this, _Loader_engine, \"f\").domItem(oldIndex);\n      if (old && !old.destroyed) {\n        old.destroy();\n        dom.splice(oldIndex, 1);\n      }\n    }\n    let canvasEl;\n    if (domContainer.tagName.toLowerCase() === \"canvas\") {\n      canvasEl = domContainer;\n      canvasEl.dataset[generatedAttribute] = \"false\";\n    } else {\n      const existingCanvases = domContainer.getElementsByTagName(\"canvas\");\n      if (existingCanvases.length) {\n        canvasEl = existingCanvases[0];\n        canvasEl.dataset[generatedAttribute] = \"false\";\n      } else {\n        canvasEl = document.createElement(\"canvas\");\n        canvasEl.dataset[generatedAttribute] = \"true\";\n        domContainer.appendChild(canvasEl);\n      }\n    }\n    if (!canvasEl.style.width) {\n      canvasEl.style.width = \"100%\";\n    }\n    if (!canvasEl.style.height) {\n      canvasEl.style.height = \"100%\";\n    }\n    const newItem = new Container(__classPrivateFieldGet$1(this, _Loader_engine, \"f\"), tagId, currentOptions);\n    if (oldIndex >= 0) {\n      dom.splice(oldIndex, 0, newItem);\n    } else {\n      dom.push(newItem);\n    }\n    newItem.canvas.loadCanvas(canvasEl);\n    await newItem.start();\n    return newItem;\n  }\n  async loadRemoteOptions(params) {\n    return this.loadOptions(params);\n  }\n  async set(id, domContainer, options, index) {\n    const params = { index, remote: false };\n    if (typeof id === \"string\") {\n      params.tagId = id;\n    } else {\n      params.element = id;\n    }\n    if (domContainer instanceof HTMLElement) {\n      params.element = domContainer;\n    } else {\n      params.options = domContainer;\n    }\n    if (typeof options === \"number\") {\n      params.index = options;\n    } else {\n      params.options = options !== null && options !== void 0 ? options : params.options;\n    }\n    return this.loadOptions(params);\n  }\n  async setJSON(id, domContainer, jsonUrl, index) {\n    let url, newId, newIndex, element;\n    if (id instanceof HTMLElement) {\n      element = id;\n      url = domContainer;\n      newIndex = jsonUrl;\n    } else {\n      newId = id;\n      element = domContainer;\n      url = jsonUrl;\n      newIndex = index;\n    }\n    return this.loadRemoteOptions({ tagId: newId, url, index: newIndex, element, remote: true });\n  }\n}\n_Loader_engine = /* @__PURE__ */ new WeakMap();\nvar __classPrivateFieldSet$1 = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _Plugins_engine;\nclass Plugins {\n  constructor(engine) {\n    _Plugins_engine.set(this, void 0);\n    __classPrivateFieldSet$1(this, _Plugins_engine, engine, \"f\");\n    this.plugins = [];\n    this.interactorsInitializers = /* @__PURE__ */ new Map();\n    this.moversInitializers = /* @__PURE__ */ new Map();\n    this.updatersInitializers = /* @__PURE__ */ new Map();\n    this.interactors = /* @__PURE__ */ new Map();\n    this.movers = /* @__PURE__ */ new Map();\n    this.updaters = /* @__PURE__ */ new Map();\n    this.presets = /* @__PURE__ */ new Map();\n    this.drawers = /* @__PURE__ */ new Map();\n    this.pathGenerators = /* @__PURE__ */ new Map();\n  }\n  addInteractor(name, initInteractor) {\n    this.interactorsInitializers.set(name, initInteractor);\n  }\n  addParticleMover(name, initMover) {\n    this.moversInitializers.set(name, initMover);\n  }\n  addParticleUpdater(name, initUpdater) {\n    this.updatersInitializers.set(name, initUpdater);\n  }\n  addPathGenerator(type, pathGenerator) {\n    if (!this.getPathGenerator(type)) {\n      this.pathGenerators.set(type, pathGenerator);\n    }\n  }\n  addPlugin(plugin) {\n    if (!this.getPlugin(plugin.id)) {\n      this.plugins.push(plugin);\n    }\n  }\n  addPreset(presetKey, options, override = false) {\n    if (override || !this.getPreset(presetKey)) {\n      this.presets.set(presetKey, options);\n    }\n  }\n  addShapeDrawer(type, drawer) {\n    if (!this.getShapeDrawer(type)) {\n      this.drawers.set(type, drawer);\n    }\n  }\n  destroy(container2) {\n    this.updaters.delete(container2);\n    this.movers.delete(container2);\n    this.interactors.delete(container2);\n  }\n  getAvailablePlugins(container2) {\n    const res = /* @__PURE__ */ new Map();\n    for (const plugin of this.plugins) {\n      if (!plugin.needsPlugin(container2.actualOptions)) {\n        continue;\n      }\n      res.set(plugin.id, plugin.getPlugin(container2));\n    }\n    return res;\n  }\n  getInteractors(container2, force = false) {\n    let res = this.interactors.get(container2);\n    if (!res || force) {\n      res = [...this.interactorsInitializers.values()].map((t) => t(container2));\n      this.interactors.set(container2, res);\n    }\n    return res;\n  }\n  getMovers(container2, force = false) {\n    let res = this.movers.get(container2);\n    if (!res || force) {\n      res = [...this.moversInitializers.values()].map((t) => t(container2));\n      this.movers.set(container2, res);\n    }\n    return res;\n  }\n  getPathGenerator(type) {\n    return this.pathGenerators.get(type);\n  }\n  getPlugin(plugin) {\n    return this.plugins.find((t) => t.id === plugin);\n  }\n  getPreset(preset) {\n    return this.presets.get(preset);\n  }\n  getShapeDrawer(type) {\n    return this.drawers.get(type);\n  }\n  getSupportedShapes() {\n    return this.drawers.keys();\n  }\n  getUpdaters(container2, force = false) {\n    let res = this.updaters.get(container2);\n    if (!res || force) {\n      res = [...this.updatersInitializers.values()].map((t) => t(container2));\n      this.updaters.set(container2, res);\n    }\n    return res;\n  }\n  loadOptions(options, sourceOptions) {\n    for (const plugin of this.plugins) {\n      plugin.loadOptions(options, sourceOptions);\n    }\n  }\n  loadParticlesOptions(container2, options, ...sourceOptions) {\n    const updaters = this.updaters.get(container2);\n    if (!updaters) {\n      return;\n    }\n    for (const updater of updaters) {\n      if (updater.loadOptions) {\n        updater.loadOptions(options, ...sourceOptions);\n      }\n    }\n  }\n}\n_Plugins_engine = /* @__PURE__ */ new WeakMap();\nvar __classPrivateFieldSet = globalThis && globalThis.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n  if (kind === \"m\")\n    throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = globalThis && globalThis.__classPrivateFieldGet || function(receiver, state, kind, f) {\n  if (kind === \"a\" && !f)\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Engine_domArray, _Engine_eventDispatcher, _Engine_initialized, _Engine_loader;\nclass Engine {\n  constructor() {\n    _Engine_domArray.set(this, void 0);\n    _Engine_eventDispatcher.set(this, void 0);\n    _Engine_initialized.set(this, void 0);\n    _Engine_loader.set(this, void 0);\n    __classPrivateFieldSet(this, _Engine_domArray, [], \"f\");\n    __classPrivateFieldSet(this, _Engine_eventDispatcher, new EventDispatcher(), \"f\");\n    __classPrivateFieldSet(this, _Engine_initialized, false, \"f\");\n    __classPrivateFieldSet(this, _Engine_loader, new Loader(this), \"f\");\n    this.plugins = new Plugins(this);\n  }\n  addEventListener(type, listener) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").addEventListener(type, listener);\n  }\n  async addInteractor(name, interactorInitializer) {\n    this.plugins.addInteractor(name, interactorInitializer);\n    await this.refresh();\n  }\n  async addMover(name, moverInitializer) {\n    this.plugins.addParticleMover(name, moverInitializer);\n    await this.refresh();\n  }\n  async addParticleUpdater(name, updaterInitializer) {\n    this.plugins.addParticleUpdater(name, updaterInitializer);\n    await this.refresh();\n  }\n  async addPathGenerator(name, generator) {\n    this.plugins.addPathGenerator(name, generator);\n    await this.refresh();\n  }\n  async addPlugin(plugin) {\n    this.plugins.addPlugin(plugin);\n    await this.refresh();\n  }\n  async addPreset(preset, options, override = false) {\n    this.plugins.addPreset(preset, options, override);\n    await this.refresh();\n  }\n  async addShape(shape, drawer, init, afterEffect, destroy) {\n    let customDrawer;\n    if (typeof drawer === \"function\") {\n      customDrawer = {\n        afterEffect,\n        destroy,\n        draw: drawer,\n        init\n      };\n    } else {\n      customDrawer = drawer;\n    }\n    this.plugins.addShapeDrawer(shape, customDrawer);\n    await this.refresh();\n  }\n  dispatchEvent(type, args) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").dispatchEvent(type, args);\n  }\n  dom() {\n    return __classPrivateFieldGet(this, _Engine_domArray, \"f\");\n  }\n  domItem(index) {\n    const dom = this.dom(), item = dom[index];\n    if (item && !item.destroyed) {\n      return item;\n    }\n    dom.splice(index, 1);\n  }\n  init() {\n    if (!__classPrivateFieldGet(this, _Engine_initialized, \"f\")) {\n      __classPrivateFieldSet(this, _Engine_initialized, true, \"f\");\n    }\n  }\n  async load(tagId, options) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").load(tagId, options);\n  }\n  async loadFromArray(tagId, options, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").load(tagId, options, index);\n  }\n  async loadJSON(tagId, pathConfigJson, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").loadJSON(tagId, pathConfigJson, index);\n  }\n  async refresh() {\n    for (const instance of this.dom()) {\n      await instance.refresh();\n    }\n  }\n  removeEventListener(type, listener) {\n    __classPrivateFieldGet(this, _Engine_eventDispatcher, \"f\").removeEventListener(type, listener);\n  }\n  async set(id, element, options) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").set(id, element, options);\n  }\n  async setJSON(id, element, pathConfigJson, index) {\n    return __classPrivateFieldGet(this, _Engine_loader, \"f\").setJSON(id, element, pathConfigJson, index);\n  }\n  setOnClickHandler(callback) {\n    const dom = this.dom();\n    if (!dom.length) {\n      throw new Error(\"Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()\");\n    }\n    for (const domItem of dom) {\n      domItem.addClickHandler(callback);\n    }\n  }\n}\n_Engine_domArray = /* @__PURE__ */ new WeakMap(), _Engine_eventDispatcher = /* @__PURE__ */ new WeakMap(), _Engine_initialized = /* @__PURE__ */ new WeakMap(), _Engine_loader = /* @__PURE__ */ new WeakMap();\nconst tsParticles = new Engine();\ntsParticles.init();\nvar _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nlet container;\nconst _sfc_main = defineComponent({\n  name: \"Particles\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Object\n    },\n    url: {\n      type: String\n    },\n    particlesLoaded: {\n      type: Function\n    },\n    particlesInit: {\n      type: Function\n    }\n  },\n  mounted() {\n    nextTick(async () => {\n      var _a;\n      if (!this.id) {\n        throw new Error(\"Prop 'id' is required!\");\n      }\n      tsParticles.init();\n      if (this.particlesInit) {\n        await this.particlesInit(tsParticles);\n      }\n      const cb = (cbContainer) => {\n        container = cbContainer;\n        if (this.particlesLoaded && container) {\n          this.particlesLoaded(container);\n        }\n      };\n      const loadedContainer = await (this.url ? tsParticles.loadJSON(this.id, this.url) : tsParticles.load(this.id, (_a = this.options) != null ? _a : {}));\n      cb(loadedContainer);\n    });\n  },\n  unmounted() {\n    if (container) {\n      container.destroy();\n      container = void 0;\n    }\n  }\n});\nconst _hoisted_1 = [\"id\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", { id: _ctx.id }, null, 8, _hoisted_1);\n}\nvar particles = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nconst VueParticles = (app, options) => {\n  app.component(\"Particles\", particles);\n};\nexport { particles as ParticlesComponent, VueParticles as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}